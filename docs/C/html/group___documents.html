<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LiteCore: Documents</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LiteCore
   </div>
   <div id="projectbrief">Couchbase Lite cross-platform core implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle"><div class="title">Documents</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c4_revision.html">C4Revision</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describes a revision of a document.  <a href="struct_c4_revision.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c4_doc_put_request.html">C4DocPutRequest</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameters for adding a revision using c4doc_put.  <a href="struct_c4_doc_put_request.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gade764c77842eee504a5fea7bbbed00e2"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gade764c77842eee504a5fea7bbbed00e2">C4RemoteID</a></td></tr>
<tr class="memdesc:gade764c77842eee504a5fea7bbbed00e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identifies a remote database being replicated with.  <a href="group___documents.html#gade764c77842eee504a5fea7bbbed00e2">More...</a><br /></td></tr>
<tr class="separator:gade764c77842eee504a5fea7bbbed00e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga6e38f237f2913c80f264b66465c1e346"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga6e38f237f2913c80f264b66465c1e346">C4DocumentFlags</a> : uint32_t { <a class="el" href="group___documents.html#gga6e38f237f2913c80f264b66465c1e346ab06de79ee7873cfedb9faac537b99517">kDocDeleted</a> = 0x01
, <a class="el" href="group___documents.html#gga6e38f237f2913c80f264b66465c1e346a104e7274d2bfe217a1af37731996c2fe">kDocConflicted</a> = 0x02
, <a class="el" href="group___documents.html#gga6e38f237f2913c80f264b66465c1e346ae318aac927315f08dc8976358b593892">kDocHasAttachments</a> = 0x04
, <a class="el" href="group___documents.html#gga6e38f237f2913c80f264b66465c1e346a4ba8b43606ed1719a44557f59a4c1861">kDocExists</a> = 0x1000
 }</td></tr>
<tr class="memdesc:ga6e38f237f2913c80f264b66465c1e346"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags describing a document.  <a href="group___documents.html#ga6e38f237f2913c80f264b66465c1e346">More...</a><br /></td></tr>
<tr class="separator:ga6e38f237f2913c80f264b66465c1e346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc0b28ce70a5c3a9b8d968859e04b2c0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gafc0b28ce70a5c3a9b8d968859e04b2c0">C4RevisionFlags</a> : uint8_t { <br />
&#160;&#160;<a class="el" href="group___documents.html#ggafc0b28ce70a5c3a9b8d968859e04b2c0a95a06876278c3d89306dc03c0596d99f">kRevDeleted</a> = 0x01
, <a class="el" href="group___documents.html#ggafc0b28ce70a5c3a9b8d968859e04b2c0a05abdc876cf350785a1483e100bfba5a">kRevLeaf</a> = 0x02
, <a class="el" href="group___documents.html#ggafc0b28ce70a5c3a9b8d968859e04b2c0aff8958d43db22711a0c11d206a3f92c7">kRevNew</a> = 0x04
, <a class="el" href="group___documents.html#ggafc0b28ce70a5c3a9b8d968859e04b2c0a7d1cce9a519ad728770e0061924b8c80">kRevHasAttachments</a> = 0x08
, <br />
&#160;&#160;<a class="el" href="group___documents.html#ggafc0b28ce70a5c3a9b8d968859e04b2c0aa7b8a42208284f2cf1f356b0654d0ef3">kRevKeepBody</a> = 0x10
, <a class="el" href="group___documents.html#ggafc0b28ce70a5c3a9b8d968859e04b2c0a45137df136a24853a849abd5dbb5228c">kRevIsConflict</a> = 0x20
, <a class="el" href="group___documents.html#ggafc0b28ce70a5c3a9b8d968859e04b2c0a3b9ff88f5fd4564a7c46a4767329fb4b">kRevClosed</a> = 0x40
, <a class="el" href="group___documents.html#ggafc0b28ce70a5c3a9b8d968859e04b2c0a0075ec9ba8d221a649972d2dc442e549">kRevPurged</a> = 0x80
<br />
 }</td></tr>
<tr class="memdesc:gafc0b28ce70a5c3a9b8d968859e04b2c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags that apply to a revision.  <a href="group___documents.html#gafc0b28ce70a5c3a9b8d968859e04b2c0">More...</a><br /></td></tr>
<tr class="separator:gafc0b28ce70a5c3a9b8d968859e04b2c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb2bbf97a307f0e83b226949404ad268"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gadb2bbf97a307f0e83b226949404ad268">C4DocContentLevel</a> : uint8_t { <a class="el" href="group___documents.html#ggadb2bbf97a307f0e83b226949404ad268aa193da04a392b6716e45f03da586a3a8">kDocGetMetadata</a>
, <a class="el" href="group___documents.html#ggadb2bbf97a307f0e83b226949404ad268a563fac3ef7d12fcd99f7dc14fb3594ad">kDocGetCurrentRev</a>
, <a class="el" href="group___documents.html#ggadb2bbf97a307f0e83b226949404ad268a55db2d58e4348e82d4e7c89edeb35182">kDocGetAll</a>
 }</td></tr>
<tr class="memdesc:gadb2bbf97a307f0e83b226949404ad268"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies how much content to retrieve when getting a document.  <a href="group___documents.html#gadb2bbf97a307f0e83b226949404ad268">More...</a><br /></td></tr>
<tr class="separator:gadb2bbf97a307f0e83b226949404ad268"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Creating and Updating Documents</h2></td></tr>
<tr class="memitem:gadcd3f114b7d34dd637ea2d74da1d17b3"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gadcd3f114b7d34dd637ea2d74da1d17b3">C4DocDeltaApplier</a>) (void *context, <a class="el" href="struct_c4_document.html">C4Document</a> *doc, <a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a> delta, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gadcd3f114b7d34dd637ea2d74da1d17b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optional callback to <code>c4doc_put</code> that generates the new revision body, based on an earlier revision body and the body of the <code><a class="el" href="struct_c4_doc_put_request.html" title="Parameters for adding a revision using c4doc_put.">C4DocPutRequest</a></code>.  <a href="group___documents.html#gadcd3f114b7d34dd637ea2d74da1d17b3">More...</a><br /></td></tr>
<tr class="separator:gadcd3f114b7d34dd637ea2d74da1d17b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Fleece-related</h2></td></tr>
<tr class="memitem:ga2ba8a0a8d681cdeddb3a84a27e2aa044"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga2ba8a0a8d681cdeddb3a84a27e2aa044">c4doc_getProperties</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *)</td></tr>
<tr class="memdesc:ga2ba8a0a8d681cdeddb3a84a27e2aa044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the properties of the selected revision, i.e.  <a href="group___documents.html#ga2ba8a0a8d681cdeddb3a84a27e2aa044">More...</a><br /></td></tr>
<tr class="separator:ga2ba8a0a8d681cdeddb3a84a27e2aa044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9668b884db97f29a3f5dc6424a11f868"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga6fcf80a526bde8519ac9e48db7746f14">FLDoc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga9668b884db97f29a3f5dc6424a11f868">c4doc_createFleeceDoc</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *)</td></tr>
<tr class="memdesc:ga9668b884db97f29a3f5dc6424a11f868"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a Fleece document reference created from the selected revision.  <a href="group___documents.html#ga9668b884db97f29a3f5dc6424a11f868">More...</a><br /></td></tr>
<tr class="separator:ga9668b884db97f29a3f5dc6424a11f868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c563e6842a4bd98e14524d4aee2626a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga6c563e6842a4bd98e14524d4aee2626a">c4doc_resolveConflict2</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> winningRevID, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> losingRevID, <a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> mergedProperties, <a class="el" href="group___documents.html#gafc0b28ce70a5c3a9b8d968859e04b2c0">C4RevisionFlags</a> mergedFlags, <a class="el" href="struct_c4_error.html">C4Error</a> *error)</td></tr>
<tr class="memdesc:ga6c563e6842a4bd98e14524d4aee2626a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolves a conflict between two leaf revisions.  <a href="group___documents.html#ga6c563e6842a4bd98e14524d4aee2626a">More...</a><br /></td></tr>
<tr class="separator:ga6c563e6842a4bd98e14524d4aee2626a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2c88a6bb6148bd3b1b6078635f3ccf8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gaa2c88a6bb6148bd3b1b6078635f3ccf8">c4doc_containingValue</a> (<a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> value)</td></tr>
<tr class="memdesc:gaa2c88a6bb6148bd3b1b6078635f3ccf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a>, if any, that contains the given Fleece value.  <a href="group___documents.html#gaa2c88a6bb6148bd3b1b6078635f3ccf8">More...</a><br /></td></tr>
<tr class="separator:gaa2c88a6bb6148bd3b1b6078635f3ccf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c85da2aa70a24249c99940cb028d780"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga0c85da2aa70a24249c99940cb028d780">c4doc_isOldMetaProperty</a> (<a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> prop)</td></tr>
<tr class="memdesc:ga0c85da2aa70a24249c99940cb028d780"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this is the name of a 1.x metadata property ("_id", "_rev", "_deleted".) Does NOT return true for "_attachments" because that property isn't obsolete.  <a href="group___documents.html#ga0c85da2aa70a24249c99940cb028d780">More...</a><br /></td></tr>
<tr class="separator:ga0c85da2aa70a24249c99940cb028d780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6308f248f61dec2d078b503edc63b199"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga6308f248f61dec2d078b503edc63b199">c4doc_hasOldMetaProperties</a> (<a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> doc)</td></tr>
<tr class="memdesc:ga6308f248f61dec2d078b503edc63b199"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the document contains 1.x metadata properties at top level.  <a href="group___documents.html#ga6308f248f61dec2d078b503edc63b199">More...</a><br /></td></tr>
<tr class="separator:ga6308f248f61dec2d078b503edc63b199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fa4441faef2b02e1538ad2eb3293201"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga7fa4441faef2b02e1538ad2eb3293201">c4doc_encodeStrippingOldMetaProperties</a> (<a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> doc, <a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a> sk, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga7fa4441faef2b02e1538ad2eb3293201"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-encodes to Fleece, without any 1.x metadata properties.  <a href="group___documents.html#ga7fa4441faef2b02e1538ad2eb3293201">More...</a><br /></td></tr>
<tr class="separator:ga7fa4441faef2b02e1538ad2eb3293201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21edb81752700af494d453b98fc6ae02"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga21edb81752700af494d453b98fc6ae02">c4doc_getDictBlobKey</a> (<a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> dict, <a class="el" href="struct_c4_blob_key.html">C4BlobKey</a> *outKey)</td></tr>
<tr class="memdesc:ga21edb81752700af494d453b98fc6ae02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes the dict's "digest" property to a <a class="el" href="struct_c4_blob_key.html" title="A unique identifier of a blob based on a SHA-1 digest of its contents.">C4BlobKey</a>.  <a href="group___documents.html#ga21edb81752700af494d453b98fc6ae02">More...</a><br /></td></tr>
<tr class="separator:ga21edb81752700af494d453b98fc6ae02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0253e53e5a1961be7100e0868cdd6ef3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga0253e53e5a1961be7100e0868cdd6ef3">c4doc_dictIsBlob</a> (<a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> dict, <a class="el" href="struct_c4_blob_key.html">C4BlobKey</a> *outKey)</td></tr>
<tr class="memdesc:ga0253e53e5a1961be7100e0868cdd6ef3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the given dictionary is a [reference to a] blob; if so, gets its key.  <a href="group___documents.html#ga0253e53e5a1961be7100e0868cdd6ef3">More...</a><br /></td></tr>
<tr class="separator:ga0253e53e5a1961be7100e0868cdd6ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab20cc50e77e0e9dd3531e2fee0731a9d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gab20cc50e77e0e9dd3531e2fee0731a9d">c4doc_dictContainsBlobs</a> (<a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> dict)</td></tr>
<tr class="separator:gab20cc50e77e0e9dd3531e2fee0731a9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade28b61b46c012d4b3121bf6a6db220e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gade28b61b46c012d4b3121bf6a6db220e">c4doc_getBlobData</a> (<a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> dict, <a class="el" href="group___base.html#ga3f2ced0e74afda9261b9337787129f57">C4BlobStore</a> *blobStore, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gade28b61b46c012d4b3121bf6a6db220e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the contents of a blob dictionary, whether they're inline in the "data" property, or indirectly referenced via the "digest" property.  <a href="group___documents.html#gade28b61b46c012d4b3121bf6a6db220e">More...</a><br /></td></tr>
<tr class="separator:gade28b61b46c012d4b3121bf6a6db220e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6021c4ef35bf0105f38b1eddd31386d9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga6021c4ef35bf0105f38b1eddd31386d9">c4doc_blobIsCompressible</a> (<a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> blobDict)</td></tr>
<tr class="memdesc:ga6021c4ef35bf0105f38b1eddd31386d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a dictionary that's a reference to a blob, determines whether it's worth trying to compress the blob's data.  <a href="group___documents.html#ga6021c4ef35bf0105f38b1eddd31386d9">More...</a><br /></td></tr>
<tr class="separator:ga6021c4ef35bf0105f38b1eddd31386d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e8e7ee098f4e7e224ac705b84c43832"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga9621f4998e1f10a82cca421fede5588a">C4StringResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga8e8e7ee098f4e7e224ac705b84c43832">c4doc_bodyAsJSON</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc, bool canonical, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga8e8e7ee098f4e7e224ac705b84c43832"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translates the body of the selected revision from Fleece to JSON.  <a href="group___documents.html#ga8e8e7ee098f4e7e224ac705b84c43832">More...</a><br /></td></tr>
<tr class="separator:ga8e8e7ee098f4e7e224ac705b84c43832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab080c24b558e8a2a2242ce09c8730572"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gab080c24b558e8a2a2242ce09c8730572">c4db_createFleeceEncoder</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db)</td></tr>
<tr class="memdesc:gab080c24b558e8a2a2242ce09c8730572"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a Fleece encoder for creating documents for a given database.  <a href="group___documents.html#gab080c24b558e8a2a2242ce09c8730572">More...</a><br /></td></tr>
<tr class="separator:gab080c24b558e8a2a2242ce09c8730572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5a86a8f324e3a0493f02da715dd291b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gad5a86a8f324e3a0493f02da715dd291b">c4db_getSharedFleeceEncoder</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db)</td></tr>
<tr class="memdesc:gad5a86a8f324e3a0493f02da715dd291b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a shared Fleece encoder for creating documents for a given database.  <a href="group___documents.html#gad5a86a8f324e3a0493f02da715dd291b">More...</a><br /></td></tr>
<tr class="separator:gad5a86a8f324e3a0493f02da715dd291b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a0d65ce4d457d19a6ca32b44f31dced"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga4a0d65ce4d457d19a6ca32b44f31dced">c4db_encodeJSON</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> jsonData, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga4a0d65ce4d457d19a6ca32b44f31dced"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes JSON data to Fleece, to store into a document.  <a href="group___documents.html#ga4a0d65ce4d457d19a6ca32b44f31dced">More...</a><br /></td></tr>
<tr class="separator:ga4a0d65ce4d457d19a6ca32b44f31dced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9e3240e477423a45a315a5943ff9204"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gae9e3240e477423a45a315a5943ff9204">c4db_getFLSharedKeys</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db)</td></tr>
<tr class="memdesc:gae9e3240e477423a45a315a5943ff9204"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the FLSharedKeys object used by the given database.  <a href="group___documents.html#gae9e3240e477423a45a315a5943ff9204">More...</a><br /></td></tr>
<tr class="separator:gae9e3240e477423a45a315a5943ff9204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4a66f7c443c04f3fea6202305103ba6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gad4a66f7c443c04f3fea6202305103ba6">kC4ObjectTypeProperty</a>&#160;&#160;&#160;&quot;@type&quot;</td></tr>
<tr class="memdesc:gad4a66f7c443c04f3fea6202305103ba6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The sub-document property that identifies it as a special type of object.  <a href="group___documents.html#gad4a66f7c443c04f3fea6202305103ba6">More...</a><br /></td></tr>
<tr class="separator:gad4a66f7c443c04f3fea6202305103ba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54ca6aba487f620de76c3b1e6024ee41"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga54ca6aba487f620de76c3b1e6024ee41">kC4ObjectType_Blob</a>&#160;&#160;&#160;&quot;blob&quot;</td></tr>
<tr class="memdesc:ga54ca6aba487f620de76c3b1e6024ee41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value of <code>kC4ObjectTypeProperty</code> that denotes a blob.  <a href="group___documents.html#ga54ca6aba487f620de76c3b1e6024ee41">More...</a><br /></td></tr>
<tr class="separator:ga54ca6aba487f620de76c3b1e6024ee41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c0d8326399033e467d0ce6a476df599"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga9c0d8326399033e467d0ce6a476df599">kC4BlobDigestProperty</a>&#160;&#160;&#160;&quot;digest&quot;</td></tr>
<tr class="memdesc:ga9c0d8326399033e467d0ce6a476df599"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blob dict property containing a digest of the data.  <a href="group___documents.html#ga9c0d8326399033e467d0ce6a476df599">More...</a><br /></td></tr>
<tr class="separator:ga9c0d8326399033e467d0ce6a476df599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7c45cade2ff2d8d194151d17ae40374"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gad7c45cade2ff2d8d194151d17ae40374">kC4BlobDataProperty</a>&#160;&#160;&#160;&quot;data&quot;</td></tr>
<tr class="memdesc:gad7c45cade2ff2d8d194151d17ae40374"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blob dict property containing the data itself.  <a href="group___documents.html#gad7c45cade2ff2d8d194151d17ae40374">More...</a><br /></td></tr>
<tr class="separator:gad7c45cade2ff2d8d194151d17ae40374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe0a97fcdeed2889a0dd3a9fc8ba310e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gafe0a97fcdeed2889a0dd3a9fc8ba310e">kC4LegacyAttachmentsProperty</a>&#160;&#160;&#160;&quot;_attachments&quot;</td></tr>
<tr class="memdesc:gafe0a97fcdeed2889a0dd3a9fc8ba310e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Top-level document property whose value is a CBL 1.x / CouchDB attachments container.  <a href="group___documents.html#gafe0a97fcdeed2889a0dd3a9fc8ba310e">More...</a><br /></td></tr>
<tr class="separator:gafe0a97fcdeed2889a0dd3a9fc8ba310e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03c1ab91a9bcfe465ca174c21d716da7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga03c1ab91a9bcfe465ca174c21d716da7">kC4ObjectType_Encryptable</a>&#160;&#160;&#160;&quot;encryptable&quot;</td></tr>
<tr class="memdesc:ga03c1ab91a9bcfe465ca174c21d716da7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value of <code>kC4ObjectTypeProperty</code> that denotes an encryptable value.  <a href="group___documents.html#ga03c1ab91a9bcfe465ca174c21d716da7">More...</a><br /></td></tr>
<tr class="separator:ga03c1ab91a9bcfe465ca174c21d716da7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga743e8dc45f6845c4d4ea275e22d0cfda"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga743e8dc45f6845c4d4ea275e22d0cfda">kC4EncryptableValueProperty</a>&#160;&#160;&#160;&quot;value&quot;</td></tr>
<tr class="memdesc:ga743e8dc45f6845c4d4ea275e22d0cfda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encryptable-value property containing the actual value; may be any type.  <a href="group___documents.html#ga743e8dc45f6845c4d4ea275e22d0cfda">More...</a><br /></td></tr>
<tr class="separator:ga743e8dc45f6845c4d4ea275e22d0cfda"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Lifecycle</h2></td></tr>
<tr class="memitem:ga3d6ab9e8d4209f3a4b6d2c5759a0d8ef"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga3d6ab9e8d4209f3a4b6d2c5759a0d8ef">c4doc_generateID</a> (char *buffer, size_t bufferSize)</td></tr>
<tr class="memdesc:ga3d6ab9e8d4209f3a4b6d2c5759a0d8ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a random 23-byte C string suitable for use as a unique new document ID.  <a href="group___documents.html#ga3d6ab9e8d4209f3a4b6d2c5759a0d8ef">More...</a><br /></td></tr>
<tr class="separator:ga3d6ab9e8d4209f3a4b6d2c5759a0d8ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab730efb18f37f85f74b254fba6fc05d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gab730efb18f37f85f74b254fba6fc05d4">c4db_getDoc</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *database, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, bool mustExist, <a class="el" href="group___documents.html#gadb2bbf97a307f0e83b226949404ad268">C4DocContentLevel</a> content, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gab730efb18f37f85f74b254fba6fc05d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a document from the database given its ID.  <a href="group___documents.html#gab730efb18f37f85f74b254fba6fc05d4">More...</a><br /></td></tr>
<tr class="separator:gab730efb18f37f85f74b254fba6fc05d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6aa9d989071bd7b7460d85ee16499123"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga6aa9d989071bd7b7460d85ee16499123">c4doc_get</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *database, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, bool mustExist, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga6aa9d989071bd7b7460d85ee16499123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a document from the database given its ID (semi-deprecated).  <a href="group___documents.html#ga6aa9d989071bd7b7460d85ee16499123">More...</a><br /></td></tr>
<tr class="separator:ga6aa9d989071bd7b7460d85ee16499123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3c0831ba8e95c64df27e34485d87527"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gad3c0831ba8e95c64df27e34485d87527">c4doc_getBySequence</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *database, <a class="el" href="group___base.html#ga6c2d959939ef287ba3f2ee719c949229">C4SequenceNumber</a>, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gad3c0831ba8e95c64df27e34485d87527"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a document from the database given its sequence number.  <a href="group___documents.html#gad3c0831ba8e95c64df27e34485d87527">More...</a><br /></td></tr>
<tr class="separator:gad3c0831ba8e95c64df27e34485d87527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga335b818feba054683335b767c9bae03f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga335b818feba054683335b767c9bae03f">c4doc_save</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc, uint32_t maxRevTreeDepth, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga335b818feba054683335b767c9bae03f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves changes to a <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a>.  <a href="group___documents.html#ga335b818feba054683335b767c9bae03f">More...</a><br /></td></tr>
<tr class="separator:ga335b818feba054683335b767c9bae03f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4fbd4bcee1dfd5960f28fa5489ef6974"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga4fbd4bcee1dfd5960f28fa5489ef6974">kC4GeneratedIDLength</a>&#160;&#160;&#160;23</td></tr>
<tr class="separator:ga4fbd4bcee1dfd5960f28fa5489ef6974"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Revisions</h2></td></tr>
<tr class="memitem:ga0eac039cc56136f6e3f7396d3b83d352"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga0eac039cc56136f6e3f7396d3b83d352">c4doc_selectRevision</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> revID, bool withBody, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga0eac039cc56136f6e3f7396d3b83d352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects a specific revision of a document (or no revision, if revID is NULL.)  <a href="group___documents.html#ga0eac039cc56136f6e3f7396d3b83d352">More...</a><br /></td></tr>
<tr class="separator:ga0eac039cc56136f6e3f7396d3b83d352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa26a52abba52e885f69bc1198c090ce5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gaa26a52abba52e885f69bc1198c090ce5">c4doc_selectCurrentRevision</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc)</td></tr>
<tr class="memdesc:gaa26a52abba52e885f69bc1198c090ce5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects the current revision of a document.  <a href="group___documents.html#gaa26a52abba52e885f69bc1198c090ce5">More...</a><br /></td></tr>
<tr class="separator:gaa26a52abba52e885f69bc1198c090ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba6c9c2baa6bd42d76813ebe7864beb6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gaba6c9c2baa6bd42d76813ebe7864beb6">c4doc_loadRevisionBody</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gaba6c9c2baa6bd42d76813ebe7864beb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populates the body field of a doc's selected revision, if it was initially loaded without its body.  <a href="group___documents.html#gaba6c9c2baa6bd42d76813ebe7864beb6">More...</a><br /></td></tr>
<tr class="separator:gaba6c9c2baa6bd42d76813ebe7864beb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga958df32f686b0b82c09a9a7fdee4e938"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga958df32f686b0b82c09a9a7fdee4e938">c4doc_hasRevisionBody</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc)</td></tr>
<tr class="memdesc:ga958df32f686b0b82c09a9a7fdee4e938"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the body of the selected revision is available, i.e.  <a href="group___documents.html#ga958df32f686b0b82c09a9a7fdee4e938">More...</a><br /></td></tr>
<tr class="separator:ga958df32f686b0b82c09a9a7fdee4e938"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f9a4ee1acecf29e2f0e284b6bca9efd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga8f9a4ee1acecf29e2f0e284b6bca9efd">c4doc_getRevisionBody</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc)</td></tr>
<tr class="memdesc:ga8f9a4ee1acecf29e2f0e284b6bca9efd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the body (encoded Fleece data) of the selected revision, if available.  <a href="group___documents.html#ga8f9a4ee1acecf29e2f0e284b6bca9efd">More...</a><br /></td></tr>
<tr class="separator:ga8f9a4ee1acecf29e2f0e284b6bca9efd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9812ad990a77daadaf88c47349794a17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga9812ad990a77daadaf88c47349794a17">c4doc_getRevisionHistory</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc, unsigned maxRevs, const <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> backToRevs[], unsigned backToRevsCount)</td></tr>
<tr class="memdesc:ga9812ad990a77daadaf88c47349794a17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string encoding the selected revision's history, as comma-separate revision/version IDs in reverse chronological order.  <a href="group___documents.html#ga9812ad990a77daadaf88c47349794a17">More...</a><br /></td></tr>
<tr class="separator:ga9812ad990a77daadaf88c47349794a17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa489e2ea12e66fd62745845c2c62c589"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gaa489e2ea12e66fd62745845c2c62c589">c4doc_getSelectedRevIDGlobalForm</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc)</td></tr>
<tr class="memdesc:gaa489e2ea12e66fd62745845c2c62c589"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the selected revision's ID in a form that will make sense to another peer/server.  <a href="group___documents.html#gaa489e2ea12e66fd62745845c2c62c589">More...</a><br /></td></tr>
<tr class="separator:gaa489e2ea12e66fd62745845c2c62c589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6706ddce93ee11d10d53f0000ee9dafb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga6706ddce93ee11d10d53f0000ee9dafb">c4doc_selectParentRevision</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc)</td></tr>
<tr class="memdesc:ga6706ddce93ee11d10d53f0000ee9dafb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects the parent of the selected revision, if it's known, else returns NULL.  <a href="group___documents.html#ga6706ddce93ee11d10d53f0000ee9dafb">More...</a><br /></td></tr>
<tr class="separator:ga6706ddce93ee11d10d53f0000ee9dafb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11b2d5c98892c4bb1e59c7e34db2d7c7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga11b2d5c98892c4bb1e59c7e34db2d7c7">c4doc_selectNextRevision</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc)</td></tr>
<tr class="memdesc:ga11b2d5c98892c4bb1e59c7e34db2d7c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects the next revision in priority order.  <a href="group___documents.html#ga11b2d5c98892c4bb1e59c7e34db2d7c7">More...</a><br /></td></tr>
<tr class="separator:ga11b2d5c98892c4bb1e59c7e34db2d7c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad94a472c4ec22b259ace3f48ccdda089"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gad94a472c4ec22b259ace3f48ccdda089">c4doc_selectNextLeafRevision</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc, bool includeDeleted, bool withBody, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gad94a472c4ec22b259ace3f48ccdda089"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects the next leaf revision; like selectNextRevision but skips over non-leaves.  <a href="group___documents.html#gad94a472c4ec22b259ace3f48ccdda089">More...</a><br /></td></tr>
<tr class="separator:gad94a472c4ec22b259ace3f48ccdda089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b242d53465d5e2f31e7e51ded6bc6a1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga0b242d53465d5e2f31e7e51ded6bc6a1">c4doc_selectCommonAncestorRevision</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> rev1ID, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> rev2ID)</td></tr>
<tr class="memdesc:ga0b242d53465d5e2f31e7e51ded6bc6a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects the common ancestor of two revisions.  <a href="group___documents.html#ga0b242d53465d5e2f31e7e51ded6bc6a1">More...</a><br /></td></tr>
<tr class="separator:ga0b242d53465d5e2f31e7e51ded6bc6a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28bd83b6ca4f8a726c5f10cfb62c62dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___documents.html#gade764c77842eee504a5fea7bbbed00e2">C4RemoteID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga28bd83b6ca4f8a726c5f10cfb62c62dd">c4db_getRemoteDBID</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> remoteAddress, bool canCreate, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga28bd83b6ca4f8a726c5f10cfb62c62dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Looks up or creates a numeric ID identifying a remote database, for use with <a class="el" href="group___documents.html#ga1daf3773656f8b3de6c2362366eec35a" title="Returns the revision ID that has been marked as current for the given remote database.">c4doc_getRemoteAncestor()</a> and <a class="el" href="group___documents.html#ga9ddb3feca2c705328141029fe1b7fa27" title="Marks a revision as current for the given remote database.">c4doc_setRemoteAncestor()</a>.  <a href="group___documents.html#ga28bd83b6ca4f8a726c5f10cfb62c62dd">More...</a><br /></td></tr>
<tr class="separator:ga28bd83b6ca4f8a726c5f10cfb62c62dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24e75b2c6a5957b59c299c513a21dd0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga24e75b2c6a5957b59c299c513a21dd0b">c4db_getRemoteDBAddress</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db, <a class="el" href="group___documents.html#gade764c77842eee504a5fea7bbbed00e2">C4RemoteID</a> remoteID)</td></tr>
<tr class="memdesc:ga24e75b2c6a5957b59c299c513a21dd0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a remote database ID, returns its replication URL / unique identifier.  <a href="group___documents.html#ga24e75b2c6a5957b59c299c513a21dd0b">More...</a><br /></td></tr>
<tr class="separator:ga24e75b2c6a5957b59c299c513a21dd0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1daf3773656f8b3de6c2362366eec35a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga1daf3773656f8b3de6c2362366eec35a">c4doc_getRemoteAncestor</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc, <a class="el" href="group___documents.html#gade764c77842eee504a5fea7bbbed00e2">C4RemoteID</a> remoteDatabase)</td></tr>
<tr class="memdesc:ga1daf3773656f8b3de6c2362366eec35a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the revision ID that has been marked as current for the given remote database.  <a href="group___documents.html#ga1daf3773656f8b3de6c2362366eec35a">More...</a><br /></td></tr>
<tr class="separator:ga1daf3773656f8b3de6c2362366eec35a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ddb3feca2c705328141029fe1b7fa27"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga9ddb3feca2c705328141029fe1b7fa27">c4doc_setRemoteAncestor</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc, <a class="el" href="group___documents.html#gade764c77842eee504a5fea7bbbed00e2">C4RemoteID</a> remoteDatabase, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> revID, <a class="el" href="struct_c4_error.html">C4Error</a> *error)</td></tr>
<tr class="memdesc:ga9ddb3feca2c705328141029fe1b7fa27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks a revision as current for the given remote database.  <a href="group___documents.html#ga9ddb3feca2c705328141029fe1b7fa27">More...</a><br /></td></tr>
<tr class="separator:ga9ddb3feca2c705328141029fe1b7fa27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c04249327a1ab2c1fd4ef2dc91d7da9"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga6c04249327a1ab2c1fd4ef2dc91d7da9">c4rev_getGeneration</a> (<a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> revID)</td></tr>
<tr class="memdesc:ga6c04249327a1ab2c1fd4ef2dc91d7da9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a revision ID, returns its generation number (the decimal number before the hyphen), or zero if it's unparseable.  <a href="group___documents.html#ga6c04249327a1ab2c1fd4ef2dc91d7da9">More...</a><br /></td></tr>
<tr class="separator:ga6c04249327a1ab2c1fd4ef2dc91d7da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf73c4e898b8a411354937c21b1a36c7c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gaf73c4e898b8a411354937c21b1a36c7c">c4rev_equal</a> (<a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a> rev1, <a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a> rev2)</td></tr>
<tr class="memdesc:gaf73c4e898b8a411354937c21b1a36c7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if two revision IDs are equivalent.  <a href="group___documents.html#gaf73c4e898b8a411354937c21b1a36c7c">More...</a><br /></td></tr>
<tr class="separator:gaf73c4e898b8a411354937c21b1a36c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6f9a70c53fa78627285ba4777f6aaf2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gad6f9a70c53fa78627285ba4777f6aaf2">c4doc_purgeRevision</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> revID, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gad6f9a70c53fa78627285ba4777f6aaf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a branch from a document's history.  <a href="group___documents.html#gad6f9a70c53fa78627285ba4777f6aaf2">More...</a><br /></td></tr>
<tr class="separator:gad6f9a70c53fa78627285ba4777f6aaf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1df21593d3065681ad07da757abf10f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gaf1df21593d3065681ad07da757abf10f">c4doc_resolveConflict</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> winningRevID, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> losingRevID, <a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a> mergedBody, <a class="el" href="group___documents.html#gafc0b28ce70a5c3a9b8d968859e04b2c0">C4RevisionFlags</a> mergedFlags, <a class="el" href="struct_c4_error.html">C4Error</a> *error)</td></tr>
<tr class="memdesc:gaf1df21593d3065681ad07da757abf10f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolves a conflict between two leaf revisions, by deleting one of them and optionally adding a new merged revision as a child of the other.  <a href="group___documents.html#gaf1df21593d3065681ad07da757abf10f">More...</a><br /></td></tr>
<tr class="separator:gaf1df21593d3065681ad07da757abf10f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Purging and Expiration</h2></td></tr>
<tr class="memitem:gaf23290996f6c087df9513cf7c56baaa9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#gaf23290996f6c087df9513cf7c56baaa9">c4db_purgeDoc</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *database, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gaf23290996f6c087df9513cf7c56baaa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all trace of a document and its revisions from the database.  <a href="group___documents.html#gaf23290996f6c087df9513cf7c56baaa9">More...</a><br /></td></tr>
<tr class="separator:gaf23290996f6c087df9513cf7c56baaa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga866ceaf29db881c62310617e4c4f05bc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga866ceaf29db881c62310617e4c4f05bc">c4doc_setExpiration</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, <a class="el" href="group___base.html#ga4e9a8e237399a3869086cae270783476">C4Timestamp</a> timestamp, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga866ceaf29db881c62310617e4c4f05bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an expiration date on a document.  <a href="group___documents.html#ga866ceaf29db881c62310617e4c4f05bc">More...</a><br /></td></tr>
<tr class="separator:ga866ceaf29db881c62310617e4c4f05bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49c0f0977318ebbcdeabfa3fb6553448"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga4e9a8e237399a3869086cae270783476">C4Timestamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga49c0f0977318ebbcdeabfa3fb6553448">c4doc_getExpiration</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga49c0f0977318ebbcdeabfa3fb6553448"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the expiration time of a document, if one has been set, else 0.  <a href="group___documents.html#ga49c0f0977318ebbcdeabfa3fb6553448">More...</a><br /></td></tr>
<tr class="separator:ga49c0f0977318ebbcdeabfa3fb6553448"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Creating and Updating Documents</h2></td></tr>
<tr class="memitem:ga309c8139a563e92db3a12006867f046e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga309c8139a563e92db3a12006867f046e">c4doc_put</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *database, const <a class="el" href="struct_c4_doc_put_request.html">C4DocPutRequest</a> *request, size_t *outCommonAncestorIndex, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga309c8139a563e92db3a12006867f046e"><td class="mdescLeft">&#160;</td><td class="mdescRight">A high-level Put operation, to insert a new or downloaded revision.  <a href="group___documents.html#ga309c8139a563e92db3a12006867f046e">More...</a><br /></td></tr>
<tr class="separator:ga309c8139a563e92db3a12006867f046e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69517ff4915add0689d6e8f082a3a3f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga69517ff4915add0689d6e8f082a3a3f3">c4doc_create</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, <a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a> body, <a class="el" href="group___documents.html#gafc0b28ce70a5c3a9b8d968859e04b2c0">C4RevisionFlags</a> revisionFlags, <a class="el" href="struct_c4_error.html">C4Error</a> *error)</td></tr>
<tr class="memdesc:ga69517ff4915add0689d6e8f082a3a3f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function to create a new document.  <a href="group___documents.html#ga69517ff4915add0689d6e8f082a3a3f3">More...</a><br /></td></tr>
<tr class="separator:ga69517ff4915add0689d6e8f082a3a3f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1571d4f96bf26b37d266e7283c2593e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___documents.html#ga1571d4f96bf26b37d266e7283c2593e3">c4doc_update</a> (<a class="el" href="struct_c4_document.html">C4Document</a> *doc, <a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a> revisionBody, <a class="el" href="group___documents.html#gafc0b28ce70a5c3a9b8d968859e04b2c0">C4RevisionFlags</a> revisionFlags, <a class="el" href="struct_c4_error.html">C4Error</a> *error)</td></tr>
<tr class="memdesc:ga1571d4f96bf26b37d266e7283c2593e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a revision to a document already in memory as a <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a>.  <a href="group___documents.html#ga1571d4f96bf26b37d266e7283c2593e3">More...</a><br /></td></tr>
<tr class="separator:ga1571d4f96bf26b37d266e7283c2593e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gad7c45cade2ff2d8d194151d17ae40374" name="gad7c45cade2ff2d8d194151d17ae40374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad7c45cade2ff2d8d194151d17ae40374">&#9670;&nbsp;</a></span>kC4BlobDataProperty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kC4BlobDataProperty&#160;&#160;&#160;&quot;data&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blob dict property containing the data itself. </p>
<p >(Required if "digest" is absent) </p>

</div>
</div>
<a id="ga9c0d8326399033e467d0ce6a476df599" name="ga9c0d8326399033e467d0ce6a476df599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c0d8326399033e467d0ce6a476df599">&#9670;&nbsp;</a></span>kC4BlobDigestProperty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kC4BlobDigestProperty&#160;&#160;&#160;&quot;digest&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blob dict property containing a digest of the data. </p>
<p >(Required if "data" is absent) </p>

</div>
</div>
<a id="ga743e8dc45f6845c4d4ea275e22d0cfda" name="ga743e8dc45f6845c4d4ea275e22d0cfda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga743e8dc45f6845c4d4ea275e22d0cfda">&#9670;&nbsp;</a></span>kC4EncryptableValueProperty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kC4EncryptableValueProperty&#160;&#160;&#160;&quot;value&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encryptable-value property containing the actual value; may be any type. </p>
<p >(Required.) </p>

</div>
</div>
<a id="ga4fbd4bcee1dfd5960f28fa5489ef6974" name="ga4fbd4bcee1dfd5960f28fa5489ef6974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4fbd4bcee1dfd5960f28fa5489ef6974">&#9670;&nbsp;</a></span>kC4GeneratedIDLength</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kC4GeneratedIDLength&#160;&#160;&#160;23</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gafe0a97fcdeed2889a0dd3a9fc8ba310e" name="gafe0a97fcdeed2889a0dd3a9fc8ba310e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe0a97fcdeed2889a0dd3a9fc8ba310e">&#9670;&nbsp;</a></span>kC4LegacyAttachmentsProperty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kC4LegacyAttachmentsProperty&#160;&#160;&#160;&quot;_attachments&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Top-level document property whose value is a CBL 1.x / CouchDB attachments container. </p>

</div>
</div>
<a id="ga54ca6aba487f620de76c3b1e6024ee41" name="ga54ca6aba487f620de76c3b1e6024ee41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga54ca6aba487f620de76c3b1e6024ee41">&#9670;&nbsp;</a></span>kC4ObjectType_Blob</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kC4ObjectType_Blob&#160;&#160;&#160;&quot;blob&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Value of <code>kC4ObjectTypeProperty</code> that denotes a blob. </p>

</div>
</div>
<a id="ga03c1ab91a9bcfe465ca174c21d716da7" name="ga03c1ab91a9bcfe465ca174c21d716da7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03c1ab91a9bcfe465ca174c21d716da7">&#9670;&nbsp;</a></span>kC4ObjectType_Encryptable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kC4ObjectType_Encryptable&#160;&#160;&#160;&quot;encryptable&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Value of <code>kC4ObjectTypeProperty</code> that denotes an encryptable value. </p>

</div>
</div>
<a id="gad4a66f7c443c04f3fea6202305103ba6" name="gad4a66f7c443c04f3fea6202305103ba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad4a66f7c443c04f3fea6202305103ba6">&#9670;&nbsp;</a></span>kC4ObjectTypeProperty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kC4ObjectTypeProperty&#160;&#160;&#160;&quot;@type&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The sub-document property that identifies it as a special type of object. </p>
<p >For example, a blob is represented as <code>{"@type":"blob", "digest":"xxxx", ...}</code> </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gadcd3f114b7d34dd637ea2d74da1d17b3" name="gadcd3f114b7d34dd637ea2d74da1d17b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadcd3f114b7d34dd637ea2d74da1d17b3">&#9670;&nbsp;</a></span>C4DocDeltaApplier</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a>(* C4DocDeltaApplier) (void *context, <a class="el" href="struct_c4_document.html">C4Document</a> *doc, <a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a> delta, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Optional callback to <code>c4doc_put</code> that generates the new revision body, based on an earlier revision body and the body of the <code><a class="el" href="struct_c4_doc_put_request.html" title="Parameters for adding a revision using c4doc_put.">C4DocPutRequest</a></code>. </p>
<p >It's intended for use when the new revision is specified as a delta. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The same value given in the <code><a class="el" href="struct_c4_doc_put_request.html" title="Parameters for adding a revision using c4doc_put.">C4DocPutRequest</a></code>'s <code>deltaCBContext</code> field. </td></tr>
    <tr><td class="paramname">doc</td><td>The document; its selected revision is the one requested in the <code>deltaSourceRevID</code>. </td></tr>
    <tr><td class="paramname">delta</td><td>The contents of the request's <code>body</code> or <code>allocedBody</code>. </td></tr>
    <tr><td class="paramname">outError</td><td>If the callback fails, store an error here if it's non-NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The body to store in the new revision, or a null slice on failure. </dd></dl>

</div>
</div>
<a id="gade764c77842eee504a5fea7bbbed00e2" name="gade764c77842eee504a5fea7bbbed00e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade764c77842eee504a5fea7bbbed00e2">&#9670;&nbsp;</a></span>C4RemoteID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group___documents.html#gade764c77842eee504a5fea7bbbed00e2">C4RemoteID</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Identifies a remote database being replicated with. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gadb2bbf97a307f0e83b226949404ad268" name="gadb2bbf97a307f0e83b226949404ad268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadb2bbf97a307f0e83b226949404ad268">&#9670;&nbsp;</a></span>C4DocContentLevel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___documents.html#gadb2bbf97a307f0e83b226949404ad268">C4DocContentLevel</a> : uint8_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specifies how much content to retrieve when getting a document. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggadb2bbf97a307f0e83b226949404ad268aa193da04a392b6716e45f03da586a3a8" name="ggadb2bbf97a307f0e83b226949404ad268aa193da04a392b6716e45f03da586a3a8"></a>kDocGetMetadata&#160;</td><td class="fielddoc"><p >Only get revID and flags. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggadb2bbf97a307f0e83b226949404ad268a563fac3ef7d12fcd99f7dc14fb3594ad" name="ggadb2bbf97a307f0e83b226949404ad268a563fac3ef7d12fcd99f7dc14fb3594ad"></a>kDocGetCurrentRev&#160;</td><td class="fielddoc"><p >Get current revision body but not other revisions/remotes. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggadb2bbf97a307f0e83b226949404ad268a55db2d58e4348e82d4e7c89edeb35182" name="ggadb2bbf97a307f0e83b226949404ad268a55db2d58e4348e82d4e7c89edeb35182"></a>kDocGetAll&#160;</td><td class="fielddoc"><p >Get everything. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga6e38f237f2913c80f264b66465c1e346" name="ga6e38f237f2913c80f264b66465c1e346"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e38f237f2913c80f264b66465c1e346">&#9670;&nbsp;</a></span>C4DocumentFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___documents.html#ga6e38f237f2913c80f264b66465c1e346">C4DocumentFlags</a> : uint32_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags describing a document. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga6e38f237f2913c80f264b66465c1e346ab06de79ee7873cfedb9faac537b99517" name="gga6e38f237f2913c80f264b66465c1e346ab06de79ee7873cfedb9faac537b99517"></a>kDocDeleted&#160;</td><td class="fielddoc"><p >The document's current revision is deleted. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6e38f237f2913c80f264b66465c1e346a104e7274d2bfe217a1af37731996c2fe" name="gga6e38f237f2913c80f264b66465c1e346a104e7274d2bfe217a1af37731996c2fe"></a>kDocConflicted&#160;</td><td class="fielddoc"><p >The document is in conflict. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6e38f237f2913c80f264b66465c1e346ae318aac927315f08dc8976358b593892" name="gga6e38f237f2913c80f264b66465c1e346ae318aac927315f08dc8976358b593892"></a>kDocHasAttachments&#160;</td><td class="fielddoc"><p >The document's current revision has attachments. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga6e38f237f2913c80f264b66465c1e346a4ba8b43606ed1719a44557f59a4c1861" name="gga6e38f237f2913c80f264b66465c1e346a4ba8b43606ed1719a44557f59a4c1861"></a>kDocExists&#160;</td><td class="fielddoc"><p >The document exists (i.e. has revisions.) </p>
</td></tr>
</table>

</div>
</div>
<a id="gafc0b28ce70a5c3a9b8d968859e04b2c0" name="gafc0b28ce70a5c3a9b8d968859e04b2c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc0b28ce70a5c3a9b8d968859e04b2c0">&#9670;&nbsp;</a></span>C4RevisionFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___documents.html#gafc0b28ce70a5c3a9b8d968859e04b2c0">C4RevisionFlags</a> : uint8_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags that apply to a revision. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggafc0b28ce70a5c3a9b8d968859e04b2c0a95a06876278c3d89306dc03c0596d99f" name="ggafc0b28ce70a5c3a9b8d968859e04b2c0a95a06876278c3d89306dc03c0596d99f"></a>kRevDeleted&#160;</td><td class="fielddoc"><p >Is this revision a deletion/tombstone? </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafc0b28ce70a5c3a9b8d968859e04b2c0a05abdc876cf350785a1483e100bfba5a" name="ggafc0b28ce70a5c3a9b8d968859e04b2c0a05abdc876cf350785a1483e100bfba5a"></a>kRevLeaf&#160;</td><td class="fielddoc"><p >Is this revision a leaf (no children?) </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafc0b28ce70a5c3a9b8d968859e04b2c0aff8958d43db22711a0c11d206a3f92c7" name="ggafc0b28ce70a5c3a9b8d968859e04b2c0aff8958d43db22711a0c11d206a3f92c7"></a>kRevNew&#160;</td><td class="fielddoc"><p >Has this rev been inserted since the doc was read? </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafc0b28ce70a5c3a9b8d968859e04b2c0a7d1cce9a519ad728770e0061924b8c80" name="ggafc0b28ce70a5c3a9b8d968859e04b2c0a7d1cce9a519ad728770e0061924b8c80"></a>kRevHasAttachments&#160;</td><td class="fielddoc"><p >Does this rev's body contain attachments? </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafc0b28ce70a5c3a9b8d968859e04b2c0aa7b8a42208284f2cf1f356b0654d0ef3" name="ggafc0b28ce70a5c3a9b8d968859e04b2c0aa7b8a42208284f2cf1f356b0654d0ef3"></a>kRevKeepBody&#160;</td><td class="fielddoc"><p >Revision's body should not be discarded when non-leaf. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafc0b28ce70a5c3a9b8d968859e04b2c0a45137df136a24853a849abd5dbb5228c" name="ggafc0b28ce70a5c3a9b8d968859e04b2c0a45137df136a24853a849abd5dbb5228c"></a>kRevIsConflict&#160;</td><td class="fielddoc"><p >Unresolved conflicting revision; will never be current. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafc0b28ce70a5c3a9b8d968859e04b2c0a3b9ff88f5fd4564a7c46a4767329fb4b" name="ggafc0b28ce70a5c3a9b8d968859e04b2c0a3b9ff88f5fd4564a7c46a4767329fb4b"></a>kRevClosed&#160;</td><td class="fielddoc"><p >Rev is the (deleted) end of a closed conflicting branch. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafc0b28ce70a5c3a9b8d968859e04b2c0a0075ec9ba8d221a649972d2dc442e549" name="ggafc0b28ce70a5c3a9b8d968859e04b2c0a0075ec9ba8d221a649972d2dc442e549"></a>kRevPurged&#160;</td><td class="fielddoc"><p >Revision is purged (this flag is never stored in the db) </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab080c24b558e8a2a2242ce09c8730572" name="gab080c24b558e8a2a2242ce09c8730572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab080c24b558e8a2a2242ce09c8730572">&#9670;&nbsp;</a></span>c4db_createFleeceEncoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a> c4db_createFleeceEncoder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a Fleece encoder for creating documents for a given database. </p>

</div>
</div>
<a id="ga4a0d65ce4d457d19a6ca32b44f31dced" name="ga4a0d65ce4d457d19a6ca32b44f31dced"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a0d65ce4d457d19a6ca32b44f31dced">&#9670;&nbsp;</a></span>c4db_encodeJSON()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a> c4db_encodeJSON </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>jsonData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes JSON data to Fleece, to store into a document. </p>

</div>
</div>
<a id="gab730efb18f37f85f74b254fba6fc05d4" name="gab730efb18f37f85f74b254fba6fc05d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab730efb18f37f85f74b254fba6fc05d4">&#9670;&nbsp;</a></span>c4db_getDoc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c4_document.html">C4Document</a> * c4db_getDoc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>docID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>mustExist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___documents.html#gadb2bbf97a307f0e83b226949404ad268">C4DocContentLevel</a>&#160;</td>
          <td class="paramname"><em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a document from the database given its ID. </p>
<p >The current revision is selected (if the document exists.) You must call <code><a class="el" href="group___base.html#gacf1b9a7ebc6654b0f5bcd1b3c8cd3dbe">c4doc_release()</a></code> when finished with the document. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">database</td><td>The database to read from. </td></tr>
    <tr><td class="paramname">docID</td><td>The document's ID. </td></tr>
    <tr><td class="paramname">mustExist</td><td>Governs behavior if no document with that ID exists. If true, the call fails with error kC4NotFound. If false, a <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a> with no contents is returned. </td></tr>
    <tr><td class="paramname">content</td><td>How much content to retrieve: metadata only, current revision, or all revisions. </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, error information is stored here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a> instance (which must be released), or NULL. </dd></dl>

</div>
</div>
<a id="gae9e3240e477423a45a315a5943ff9204" name="gae9e3240e477423a45a315a5943ff9204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9e3240e477423a45a315a5943ff9204">&#9670;&nbsp;</a></span>c4db_getFLSharedKeys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a> c4db_getFLSharedKeys </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the FLSharedKeys object used by the given database. </p>

</div>
</div>
<a id="ga24e75b2c6a5957b59c299c513a21dd0b" name="ga24e75b2c6a5957b59c299c513a21dd0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24e75b2c6a5957b59c299c513a21dd0b">&#9670;&nbsp;</a></span>c4db_getRemoteDBAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a> c4db_getRemoteDBAddress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___documents.html#gade764c77842eee504a5fea7bbbed00e2">C4RemoteID</a>&#160;</td>
          <td class="paramname"><em>remoteID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a remote database ID, returns its replication URL / unique identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database. </td></tr>
    <tr><td class="paramname">remoteID</td><td>The ID assigned to the remote database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The URL/identifier, or a null slice if not found. </dd></dl>

</div>
</div>
<a id="ga28bd83b6ca4f8a726c5f10cfb62c62dd" name="ga28bd83b6ca4f8a726c5f10cfb62c62dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28bd83b6ca4f8a726c5f10cfb62c62dd">&#9670;&nbsp;</a></span>c4db_getRemoteDBID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___documents.html#gade764c77842eee504a5fea7bbbed00e2">C4RemoteID</a> c4db_getRemoteDBID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>remoteAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>canCreate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Looks up or creates a numeric ID identifying a remote database, for use with <a class="el" href="group___documents.html#ga1daf3773656f8b3de6c2362366eec35a" title="Returns the revision ID that has been marked as current for the given remote database.">c4doc_getRemoteAncestor()</a> and <a class="el" href="group___documents.html#ga9ddb3feca2c705328141029fe1b7fa27" title="Marks a revision as current for the given remote database.">c4doc_setRemoteAncestor()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database. </td></tr>
    <tr><td class="paramname">remoteAddress</td><td>The replication URL of the remote db, or its other unique identifier. </td></tr>
    <tr><td class="paramname">canCreate</td><td>If true, a new identifier will be created if one doesn't exist. </td></tr>
    <tr><td class="paramname">outError</td><td>Error information is stored here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The ID, or 0 on error. </dd></dl>

</div>
</div>
<a id="gad5a86a8f324e3a0493f02da715dd291b" name="gad5a86a8f324e3a0493f02da715dd291b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5a86a8f324e3a0493f02da715dd291b">&#9670;&nbsp;</a></span>c4db_getSharedFleeceEncoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a> c4db_getSharedFleeceEncoder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a shared Fleece encoder for creating documents for a given database. </p>
<p >DO NOT FREE THIS ENCODER. Instead, call <a class="el" href="group___f_l_encoder.html#gab2186836257eb35707d37cd8bc0da58d" title="Resets the state of an encoder without freeing it.">FLEncoder_Reset()</a> when finished. </p>

</div>
</div>
<a id="gaf23290996f6c087df9513cf7c56baaa9" name="gaf23290996f6c087df9513cf7c56baaa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf23290996f6c087df9513cf7c56baaa9">&#9670;&nbsp;</a></span>c4db_purgeDoc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4db_purgeDoc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>docID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes all trace of a document and its revisions from the database. </p>

</div>
</div>
<a id="ga6021c4ef35bf0105f38b1eddd31386d9" name="ga6021c4ef35bf0105f38b1eddd31386d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6021c4ef35bf0105f38b1eddd31386d9">&#9670;&nbsp;</a></span>c4doc_blobIsCompressible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_blobIsCompressible </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a>&#160;</td>
          <td class="paramname"><em>blobDict</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a dictionary that's a reference to a blob, determines whether it's worth trying to compress the blob's data. </p>
<p >This is done by examining the "encoding" and "content_type" properties and using heuristics to detect types that are already compressed, like gzip or JPEG. If no warning flags are found it will return true. </p>

</div>
</div>
<a id="ga8e8e7ee098f4e7e224ac705b84c43832" name="ga8e8e7ee098f4e7e224ac705b84c43832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8e8e7ee098f4e7e224ac705b84c43832">&#9670;&nbsp;</a></span>c4doc_bodyAsJSON()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga9621f4998e1f10a82cca421fede5588a">C4StringResult</a> c4doc_bodyAsJSON </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>canonical</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Translates the body of the selected revision from Fleece to JSON. </p>

</div>
</div>
<a id="gaa2c88a6bb6148bd3b1b6078635f3ccf8" name="gaa2c88a6bb6148bd3b1b6078635f3ccf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa2c88a6bb6148bd3b1b6078635f3ccf8">&#9670;&nbsp;</a></span>c4doc_containingValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c4_document.html">C4Document</a> * c4doc_containingValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a>, if any, that contains the given Fleece value. </p>

</div>
</div>
<a id="ga69517ff4915add0689d6e8f082a3a3f3" name="ga69517ff4915add0689d6e8f082a3a3f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga69517ff4915add0689d6e8f082a3a3f3">&#9670;&nbsp;</a></span>c4doc_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c4_document.html">C4Document</a> * c4doc_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>docID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a>&#160;</td>
          <td class="paramname"><em>body</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___documents.html#gafc0b28ce70a5c3a9b8d968859e04b2c0">C4RevisionFlags</a>&#160;</td>
          <td class="paramname"><em>revisionFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convenience function to create a new document. </p>
<p >This just a wrapper around c4doc_put. If the document already exists, it will fail with the error kC4ErrorConflict. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database to create the document in </td></tr>
    <tr><td class="paramname">docID</td><td>Document ID to create; if null, a UUID will be generated </td></tr>
    <tr><td class="paramname">body</td><td>Body of the document </td></tr>
    <tr><td class="paramname">revisionFlags</td><td>The flags of the new revision </td></tr>
    <tr><td class="paramname">error</td><td>Information about any error that occurred </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, a new <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a> with the new revision selected; else NULL. </dd></dl>

</div>
</div>
<a id="ga9668b884db97f29a3f5dc6424a11f868" name="ga9668b884db97f29a3f5dc6424a11f868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9668b884db97f29a3f5dc6424a11f868">&#9670;&nbsp;</a></span>c4doc_createFleeceDoc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga6fcf80a526bde8519ac9e48db7746f14">FLDoc</a> c4doc_createFleeceDoc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a Fleece document reference created from the selected revision. </p>
<p >Caller must release the reference! </p>

</div>
</div>
<a id="gab20cc50e77e0e9dd3531e2fee0731a9d" name="gab20cc50e77e0e9dd3531e2fee0731a9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab20cc50e77e0e9dd3531e2fee0731a9d">&#9670;&nbsp;</a></span>c4doc_dictContainsBlobs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_dictContainsBlobs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a>&#160;</td>
          <td class="paramname"><em>dict</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga0253e53e5a1961be7100e0868cdd6ef3" name="ga0253e53e5a1961be7100e0868cdd6ef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0253e53e5a1961be7100e0868cdd6ef3">&#9670;&nbsp;</a></span>c4doc_dictIsBlob()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_dictIsBlob </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a>&#160;</td>
          <td class="paramname"><em>dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_blob_key.html">C4BlobKey</a> *&#160;</td>
          <td class="paramname"><em>outKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the given dictionary is a [reference to a] blob; if so, gets its key. </p>
<p >(This function cannot recognize child dictionaries of "_attachments", because it's not possible to look at the parent of a Fleece value.) </p>

</div>
</div>
<a id="ga7fa4441faef2b02e1538ad2eb3293201" name="ga7fa4441faef2b02e1538ad2eb3293201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7fa4441faef2b02e1538ad2eb3293201">&#9670;&nbsp;</a></span>c4doc_encodeStrippingOldMetaProperties()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a> c4doc_encodeStrippingOldMetaProperties </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a>&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td>
          <td class="paramname"><em>sk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Re-encodes to Fleece, without any 1.x metadata properties. </p>
<p >Old-style attachments that <em>don't</em> refer to blobs will be removed; others are kept. </p>

</div>
</div>
<a id="ga3d6ab9e8d4209f3a4b6d2c5759a0d8ef" name="ga3d6ab9e8d4209f3a4b6d2c5759a0d8ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d6ab9e8d4209f3a4b6d2c5759a0d8ef">&#9670;&nbsp;</a></span>c4doc_generateID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * c4doc_generateID </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufferSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a random 23-byte C string suitable for use as a unique new document ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Where to write the string. </td></tr>
    <tr><td class="paramname">bufferSize</td><td>Size of the buffer (must be at least kC4GeneratedIDLength + 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the string in the buffer, or NULL if the buffer is too small. </dd></dl>

</div>
</div>
<a id="ga6aa9d989071bd7b7460d85ee16499123" name="ga6aa9d989071bd7b7460d85ee16499123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6aa9d989071bd7b7460d85ee16499123">&#9670;&nbsp;</a></span>c4doc_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c4_document.html">C4Document</a> * c4doc_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>docID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>mustExist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a document from the database given its ID (semi-deprecated). </p>
<p >This is the same as <a class="el" href="group___documents.html#gab730efb18f37f85f74b254fba6fc05d4">c4db_getDoc</a> with <code>content</code> equal to <code>kDocGetCurrentRev</code>. </p>

</div>
</div>
<a id="gade28b61b46c012d4b3121bf6a6db220e" name="gade28b61b46c012d4b3121bf6a6db220e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade28b61b46c012d4b3121bf6a6db220e">&#9670;&nbsp;</a></span>c4doc_getBlobData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a> c4doc_getBlobData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a>&#160;</td>
          <td class="paramname"><em>dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga3f2ced0e74afda9261b9337787129f57">C4BlobStore</a> *&#160;</td>
          <td class="paramname"><em>blobStore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the contents of a blob dictionary, whether they're inline in the "data" property, or indirectly referenced via the "digest" property. </p>
<dl class="section note"><dt>Note</dt><dd>You can omit the C4BlobStore, but if the blob has no inline data the function will give up and return a null slice (and clear the error, since this isn't a failure.) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>A blob dictionary. </td></tr>
    <tr><td class="paramname">blobStore</td><td>The database's BlobStore, or NULL to suppress loading blobs from disk. </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, the error will be written here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The blob data, or null on failure. </dd></dl>

</div>
</div>
<a id="gad3c0831ba8e95c64df27e34485d87527" name="gad3c0831ba8e95c64df27e34485d87527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3c0831ba8e95c64df27e34485d87527">&#9670;&nbsp;</a></span>c4doc_getBySequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c4_document.html">C4Document</a> * c4doc_getBySequence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga6c2d959939ef287ba3f2ee719c949229">C4SequenceNumber</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a document from the database given its sequence number. </p>
<p >You must call <code><a class="el" href="group___base.html#gacf1b9a7ebc6654b0f5bcd1b3c8cd3dbe">c4doc_release()</a></code> when finished with the document. <br  />
 </p>

</div>
</div>
<a id="ga21edb81752700af494d453b98fc6ae02" name="ga21edb81752700af494d453b98fc6ae02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21edb81752700af494d453b98fc6ae02">&#9670;&nbsp;</a></span>c4doc_getDictBlobKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_getDictBlobKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a>&#160;</td>
          <td class="paramname"><em>dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_blob_key.html">C4BlobKey</a> *&#160;</td>
          <td class="paramname"><em>outKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decodes the dict's "digest" property to a <a class="el" href="struct_c4_blob_key.html" title="A unique identifier of a blob based on a SHA-1 digest of its contents.">C4BlobKey</a>. </p>
<p >Returns false if there is no such property or it's not a valid blob key. </p>

</div>
</div>
<a id="ga49c0f0977318ebbcdeabfa3fb6553448" name="ga49c0f0977318ebbcdeabfa3fb6553448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga49c0f0977318ebbcdeabfa3fb6553448">&#9670;&nbsp;</a></span>c4doc_getExpiration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga4e9a8e237399a3869086cae270783476">C4Timestamp</a> c4doc_getExpiration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>docID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the expiration time of a document, if one has been set, else 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database to set the expiration date in </td></tr>
    <tr><td class="paramname">docID</td><td>The ID of the document to check </td></tr>
    <tr><td class="paramname">outError</td><td>Information about any error that occurred </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The timestamp of the expiration date, in milliseconds since 1/1/1970, or 0 if the document does not expire, or -1 if an error occurred. </dd></dl>

</div>
</div>
<a id="ga2ba8a0a8d681cdeddb3a84a27e2aa044" name="ga2ba8a0a8d681cdeddb3a84a27e2aa044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ba8a0a8d681cdeddb3a84a27e2aa044">&#9670;&nbsp;</a></span>c4doc_getProperties()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> c4doc_getProperties </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the properties of the selected revision, i.e. </p>
<p >the root Fleece Dict. </p>

</div>
</div>
<a id="ga1daf3773656f8b3de6c2362366eec35a" name="ga1daf3773656f8b3de6c2362366eec35a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1daf3773656f8b3de6c2362366eec35a">&#9670;&nbsp;</a></span>c4doc_getRemoteAncestor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a> c4doc_getRemoteAncestor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___documents.html#gade764c77842eee504a5fea7bbbed00e2">C4RemoteID</a>&#160;</td>
          <td class="paramname"><em>remoteDatabase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the revision ID that has been marked as current for the given remote database. </p>

</div>
</div>
<a id="ga8f9a4ee1acecf29e2f0e284b6bca9efd" name="ga8f9a4ee1acecf29e2f0e284b6bca9efd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f9a4ee1acecf29e2f0e284b6bca9efd">&#9670;&nbsp;</a></span>c4doc_getRevisionBody()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a> c4doc_getRevisionBody </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the body (encoded Fleece data) of the selected revision, if available. </p>
<dl class="section warning"><dt>Warning</dt><dd>In a version-vector document, and if this is not the current revision, the returned slice is invalidated the next time this function is called. </dd></dl>

</div>
</div>
<a id="ga9812ad990a77daadaf88c47349794a17" name="ga9812ad990a77daadaf88c47349794a17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9812ad990a77daadaf88c47349794a17">&#9670;&nbsp;</a></span>c4doc_getRevisionHistory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a> c4doc_getRevisionHistory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>maxRevs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>backToRevs</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>backToRevsCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a string encoding the selected revision's history, as comma-separate revision/version IDs in reverse chronological order. </p>
<p >In a version-vector database this is of course the revision's version vector. It will be in global form (real peerID instead of "*") unless the <code>maxRevs</code> parameter is 0. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">doc</td><td>The document. </td></tr>
    <tr><td class="paramname">maxRevs</td><td>The maximum number of revisions to include in the result; or 0 for unlimited. </td></tr>
    <tr><td class="paramname">backToRevs</td><td>An array of revision IDs: the history should stop when it gets to any of these, and <em>must</em> go back to one of these if possible, even if it means skipping some revisions. </td></tr>
    <tr><td class="paramname">backToRevsCount</td><td>The number of revisions in the <code>backToRevs</code> array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string of comma-separate revision/version IDs in reverse chronological order. </dd></dl>

</div>
</div>
<a id="gaa489e2ea12e66fd62745845c2c62c589" name="gaa489e2ea12e66fd62745845c2c62c589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa489e2ea12e66fd62745845c2c62c589">&#9670;&nbsp;</a></span>c4doc_getSelectedRevIDGlobalForm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a> c4doc_getSelectedRevIDGlobalForm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the selected revision's ID in a form that will make sense to another peer/server. </p>
<p >(This doesn't affect tree-based revIDs. In vector-based version IDs it uses the database's actual peer ID instead of the shorthand "*" character.) </p>

</div>
</div>
<a id="ga6308f248f61dec2d078b503edc63b199" name="ga6308f248f61dec2d078b503edc63b199"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6308f248f61dec2d078b503edc63b199">&#9670;&nbsp;</a></span>c4doc_hasOldMetaProperties()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_hasOldMetaProperties </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a>&#160;</td>
          <td class="paramname"><em>doc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the document contains 1.x metadata properties at top level. </p>
<p >Does NOT return true for "_attachments" because that property isn't obsolete. </p>

</div>
</div>
<a id="ga958df32f686b0b82c09a9a7fdee4e938" name="ga958df32f686b0b82c09a9a7fdee4e938"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga958df32f686b0b82c09a9a7fdee4e938">&#9670;&nbsp;</a></span>c4doc_hasRevisionBody()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_hasRevisionBody </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the body of the selected revision is available, i.e. </p>
<p >if <a class="el" href="group___documents.html#gaba6c9c2baa6bd42d76813ebe7864beb6" title="Populates the body field of a doc&#39;s selected revision, if it was initially loaded without its body.">c4doc_loadRevisionBody()</a> would succeed. </p>

</div>
</div>
<a id="ga0c85da2aa70a24249c99940cb028d780" name="ga0c85da2aa70a24249c99940cb028d780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c85da2aa70a24249c99940cb028d780">&#9670;&nbsp;</a></span>c4doc_isOldMetaProperty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_isOldMetaProperty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>prop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if this is the name of a 1.x metadata property ("_id", "_rev", "_deleted".) Does NOT return true for "_attachments" because that property isn't obsolete. </p>

</div>
</div>
<a id="gaba6c9c2baa6bd42d76813ebe7864beb6" name="gaba6c9c2baa6bd42d76813ebe7864beb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba6c9c2baa6bd42d76813ebe7864beb6">&#9670;&nbsp;</a></span>c4doc_loadRevisionBody()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_loadRevisionBody </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Populates the body field of a doc's selected revision, if it was initially loaded without its body. </p>

</div>
</div>
<a id="gad6f9a70c53fa78627285ba4777f6aaf2" name="gad6f9a70c53fa78627285ba4777f6aaf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6f9a70c53fa78627285ba4777f6aaf2">&#9670;&nbsp;</a></span>c4doc_purgeRevision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t c4doc_purgeRevision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>revID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a branch from a document's history. </p>
<p >The revID must correspond to a leaf revision; that revision and its ancestors will be removed, except for ancestors that are shared with another branch. If the document has only one branch (no conflicts), or if the input revID is null, the purge will remove every revision, and saving the document will purge it (remove it completely from the database.) Must be called within a transaction. Remember to save the document afterwards. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">doc</td><td>The document. </td></tr>
    <tr><td class="paramname">revID</td><td>The ID of the revision to purge. If null, all revisions are purged. </td></tr>
    <tr><td class="paramname">outError</td><td>Error information is stored here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The total number of revisions purged (including ancestors), or -1 on error. </dd></dl>

</div>
</div>
<a id="ga309c8139a563e92db3a12006867f046e" name="ga309c8139a563e92db3a12006867f046e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga309c8139a563e92db3a12006867f046e">&#9670;&nbsp;</a></span>c4doc_put()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c4_document.html">C4Document</a> * c4doc_put </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c4_doc_put_request.html">C4DocPutRequest</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>outCommonAncestorIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A high-level Put operation, to insert a new or downloaded revision. </p>
<p >If request-&gt;existingRevision is true, then request-&gt;history must contain the revision's history, with the revision's ID as the first item. Otherwise, a new revision will be created and assigned a revID. The parent revision ID, if any, should be given as the single item of request-&gt;history. Either way, on success the document is returned with the inserted revision selected. Note that actually saving the document back to the database is optional &ndash; it only happens if request-&gt;save is true. You can set this to false if you want to review the changes before saving, e.g. to run them through a validation function. </p>

</div>
</div>
<a id="gaf1df21593d3065681ad07da757abf10f" name="gaf1df21593d3065681ad07da757abf10f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1df21593d3065681ad07da757abf10f">&#9670;&nbsp;</a></span>c4doc_resolveConflict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_resolveConflict </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>winningRevID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>losingRevID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a>&#160;</td>
          <td class="paramname"><em>mergedBody</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___documents.html#gafc0b28ce70a5c3a9b8d968859e04b2c0">C4RevisionFlags</a>&#160;</td>
          <td class="paramname"><em>mergedFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resolves a conflict between two leaf revisions, by deleting one of them and optionally adding a new merged revision as a child of the other. </p>
<p >Must be called within a transaction. Remember to save the document afterwards. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">doc</td><td>The document. </td></tr>
    <tr><td class="paramname">winningRevID</td><td>The conflicting revision to be kept (and optionally updated.) </td></tr>
    <tr><td class="paramname">losingRevID</td><td>The conflicting revision to be deleted. </td></tr>
    <tr><td class="paramname">mergedBody</td><td>The body of the merged revision, or NULL if none. </td></tr>
    <tr><td class="paramname">mergedFlags</td><td>Flags for the merged revision. </td></tr>
    <tr><td class="paramname">error</td><td>Error information is stored here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on failure. </dd></dl>

</div>
</div>
<a id="ga6c563e6842a4bd98e14524d4aee2626a" name="ga6c563e6842a4bd98e14524d4aee2626a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c563e6842a4bd98e14524d4aee2626a">&#9670;&nbsp;</a></span>c4doc_resolveConflict2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_resolveConflict2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>winningRevID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>losingRevID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a>&#160;</td>
          <td class="paramname"><em>mergedProperties</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___documents.html#gafc0b28ce70a5c3a9b8d968859e04b2c0">C4RevisionFlags</a>&#160;</td>
          <td class="paramname"><em>mergedFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resolves a conflict between two leaf revisions. </p>
<p >Identical to <code>c4doc_resolveConflict</code> except that it takes the merged body as a Fleece Dict, instead of pre-encoded Fleece data. </p>

</div>
</div>
<a id="ga335b818feba054683335b767c9bae03f" name="ga335b818feba054683335b767c9bae03f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga335b818feba054683335b767c9bae03f">&#9670;&nbsp;</a></span>c4doc_save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_save </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxRevTreeDepth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves changes to a <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a>. </p>
<p >Must be called within a transaction. The revision history will be pruned to the maximum depth given. </p>

</div>
</div>
<a id="ga0b242d53465d5e2f31e7e51ded6bc6a1" name="ga0b242d53465d5e2f31e7e51ded6bc6a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b242d53465d5e2f31e7e51ded6bc6a1">&#9670;&nbsp;</a></span>c4doc_selectCommonAncestorRevision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_selectCommonAncestorRevision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>rev1ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>rev2ID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects the common ancestor of two revisions. </p>
<p >Returns false if none is found. </p>

</div>
</div>
<a id="gaa26a52abba52e885f69bc1198c090ce5" name="gaa26a52abba52e885f69bc1198c090ce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa26a52abba52e885f69bc1198c090ce5">&#9670;&nbsp;</a></span>c4doc_selectCurrentRevision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_selectCurrentRevision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects the current revision of a document. </p>
<p >(This is the first revision, in the order they appear in the document.) </p>

</div>
</div>
<a id="gad94a472c4ec22b259ace3f48ccdda089" name="gad94a472c4ec22b259ace3f48ccdda089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad94a472c4ec22b259ace3f48ccdda089">&#9670;&nbsp;</a></span>c4doc_selectNextLeafRevision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_selectNextLeafRevision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeDeleted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>withBody</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects the next leaf revision; like selectNextRevision but skips over non-leaves. </p>
<p >To distinguish between the end of the iteration and a failure, check the value of outError after the function returns false: if there's no error (code==0) it's normal. </p>

</div>
</div>
<a id="ga11b2d5c98892c4bb1e59c7e34db2d7c7" name="ga11b2d5c98892c4bb1e59c7e34db2d7c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga11b2d5c98892c4bb1e59c7e34db2d7c7">&#9670;&nbsp;</a></span>c4doc_selectNextRevision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_selectNextRevision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects the next revision in priority order. </p>
<p >This can be used to iterate over all revisions, starting from the current revision. </p>

</div>
</div>
<a id="ga6706ddce93ee11d10d53f0000ee9dafb" name="ga6706ddce93ee11d10d53f0000ee9dafb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6706ddce93ee11d10d53f0000ee9dafb">&#9670;&nbsp;</a></span>c4doc_selectParentRevision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_selectParentRevision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects the parent of the selected revision, if it's known, else returns NULL. </p>

</div>
</div>
<a id="ga0eac039cc56136f6e3f7396d3b83d352" name="ga0eac039cc56136f6e3f7396d3b83d352"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0eac039cc56136f6e3f7396d3b83d352">&#9670;&nbsp;</a></span>c4doc_selectRevision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_selectRevision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>revID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>withBody</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects a specific revision of a document (or no revision, if revID is NULL.) </p>

</div>
</div>
<a id="ga866ceaf29db881c62310617e4c4f05bc" name="ga866ceaf29db881c62310617e4c4f05bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga866ceaf29db881c62310617e4c4f05bc">&#9670;&nbsp;</a></span>c4doc_setExpiration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_setExpiration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>docID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga4e9a8e237399a3869086cae270783476">C4Timestamp</a>&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an expiration date on a document. </p>
<p >After this time the document will be purged from the database. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database to set the expiration date in </td></tr>
    <tr><td class="paramname">docID</td><td>The ID of the document to set the expiration date for </td></tr>
    <tr><td class="paramname">timestamp</td><td>The timestamp of the expiration date, in milliseconds since 1/1/1970. A value of 0 indicates that the expiration should be cancelled. </td></tr>
    <tr><td class="paramname">outError</td><td>Information about any error that occurred </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on sucess, false on failure </dd></dl>

</div>
</div>
<a id="ga9ddb3feca2c705328141029fe1b7fa27" name="ga9ddb3feca2c705328141029fe1b7fa27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ddb3feca2c705328141029fe1b7fa27">&#9670;&nbsp;</a></span>c4doc_setRemoteAncestor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4doc_setRemoteAncestor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___documents.html#gade764c77842eee504a5fea7bbbed00e2">C4RemoteID</a>&#160;</td>
          <td class="paramname"><em>remoteDatabase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>revID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks a revision as current for the given remote database. </p>

</div>
</div>
<a id="ga1571d4f96bf26b37d266e7283c2593e3" name="ga1571d4f96bf26b37d266e7283c2593e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1571d4f96bf26b37d266e7283c2593e3">&#9670;&nbsp;</a></span>c4doc_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c4_document.html">C4Document</a> * c4doc_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a>&#160;</td>
          <td class="paramname"><em>revisionBody</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___documents.html#gafc0b28ce70a5c3a9b8d968859e04b2c0">C4RevisionFlags</a>&#160;</td>
          <td class="paramname"><em>revisionFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a revision to a document already in memory as a <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a>. </p>
<p >This is more efficient than c4doc_put because it doesn't have to read from the database before writing; but if the <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a> doesn't have the current state of the document, it will fail with the error kC4ErrorConflict &ndash; then you'll need to get the current document and try again. The new revision is added as a child of the currently selected revision. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">doc</td><td>The document to update </td></tr>
    <tr><td class="paramname">revisionBody</td><td>The body of the new revision </td></tr>
    <tr><td class="paramname">revisionFlags</td><td>The flags of the new revision </td></tr>
    <tr><td class="paramname">error</td><td>Information about any error that occurred </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, a new <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a> with the new revision selected; else NULL. </dd></dl>

</div>
</div>
<a id="gaf73c4e898b8a411354937c21b1a36c7c" name="gaf73c4e898b8a411354937c21b1a36c7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf73c4e898b8a411354937c21b1a36c7c">&#9670;&nbsp;</a></span>c4rev_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4rev_equal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a>&#160;</td>
          <td class="paramname"><em>rev1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a>&#160;</td>
          <td class="paramname"><em>rev2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if two revision IDs are equivalent. </p>
<ul>
<li>Digest-based IDs are equivalent only if byte-for-byte equal.</li>
<li>Version-vector based IDs are equivalent if their initial versions are equal. </li>
</ul>

</div>
</div>
<a id="ga6c04249327a1ab2c1fd4ef2dc91d7da9" name="ga6c04249327a1ab2c1fd4ef2dc91d7da9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c04249327a1ab2c1fd4ef2dc91d7da9">&#9670;&nbsp;</a></span>c4rev_getGeneration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned c4rev_getGeneration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>revID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a revision ID, returns its generation number (the decimal number before the hyphen), or zero if it's unparseable. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
