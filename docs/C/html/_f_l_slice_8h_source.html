<!--
Copyright 2021-Present Couchbase, Inc.
Use of this software is governed by the Business Source License included in
the file licenses/BSL-Couchbase.txt.  As of the Change Date specified in that
file, in accordance with the Business Source License, use of this software will
be governed by the Apache License, Version 2.0, included in the file
licenses/APL2.txt.
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LiteCore: FLSlice.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LiteCore
   </div>
   <div id="projectbrief">Couchbase Lite cross-platform core implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c5da75fdc1d6c57999112ed830c87a3c.html">vendor</a></li><li class="navelem"><a class="el" href="dir_b87361ce9f15ff16bfbc42d00c4394be.html">fleece</a></li><li class="navelem"><a class="el" href="dir_bec413c7ab9ed2240c515d309fd0ae23.html">API</a></li><li class="navelem"><a class="el" href="dir_289a224c1eafdd3769b2074c585847fe.html">fleece</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">FLSlice.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_f_l_slice_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//  FLSlice.h</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//  Fleece</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//  Created by Jens Alfke on 8/13/18.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//  Copyright Â© 2018 Couchbase. All rights reserved.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#ifndef _FLSLICE_H</span></div><div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="_f_l_slice_8h.html#a05ee7d664be70b152a43f900c309f7e5">   11</a></span>&#160;<span class="preprocessor">#define _FLSLICE_H</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_base_8h.html">Base.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;stdbool.h&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">    #include &lt;string&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">    #define FLAPI noexcept</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keyword">namespace </span>fleece { <span class="keyword">struct </span>alloc_slice; }</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">   25</a></span>&#160;<span class="preprocessor">    #define FLAPI</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="struct_f_l_slice.html">   40</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_f_l_slice.html">FLSlice</a> {</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="struct_f_l_slice.html#a6a1891b6d6c6ee0ae348c6419f90d797">   41</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="struct_f_l_slice.html#a6a1891b6d6c6ee0ae348c6419f90d797">buf</a>;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="struct_f_l_slice.html#a8fb4c8187bdd5a8d645809d5d0a72c90">   42</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="struct_f_l_slice.html#a8fb4c8187bdd5a8d645809d5d0a72c90">size</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keyword">explicit</span> <span class="keyword">operator</span> bool() const noexcept <a class="code" href="_base_8h.html#aaf76422cb887897c286992499106254d">FLPURE</a>  {<span class="keywordflow">return</span> <a class="code" href="struct_f_l_slice.html#a6a1891b6d6c6ee0ae348c6419f90d797">buf</a> != <span class="keyword">nullptr</span>;}</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keyword">explicit</span> <span class="keyword">operator</span> std::string()<span class="keyword"> const           </span>{<span class="keywordflow">return</span> std::string((<span class="keywordtype">char</span>*)<a class="code" href="struct_f_l_slice.html#a6a1891b6d6c6ee0ae348c6419f90d797">buf</a>, <a class="code" href="struct_f_l_slice.html#a8fb4c8187bdd5a8d645809d5d0a72c90">size</a>);}</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;} <a class="code" href="struct_f_l_slice.html">FLSlice</a>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="struct_f_l_slice_result.html">   58</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_f_l_slice_result.html">FLSliceResult</a> {</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="struct_f_l_slice_result.html#a25ceb6212b3de8d0e0e012817c810ed2">   59</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="struct_f_l_slice_result.html#a25ceb6212b3de8d0e0e012817c810ed2">buf</a>;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="struct_f_l_slice_result.html#a622d35e8c1031bb88d0fe89cfaca12e1">   60</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="struct_f_l_slice_result.html#a622d35e8c1031bb88d0fe89cfaca12e1">size</a>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keyword">explicit</span> <span class="keyword">operator</span> bool() const noexcept <a class="code" href="_base_8h.html#aaf76422cb887897c286992499106254d">FLPURE</a>  {<span class="keywordflow">return</span> <a class="code" href="struct_f_l_slice_result.html#a25ceb6212b3de8d0e0e012817c810ed2">buf</a> != <span class="keyword">nullptr</span>;}</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keyword">explicit</span> <span class="keyword">operator</span> <a class="code" href="struct_f_l_slice.html">FLSlice</a> ()<span class="keyword"> const              </span>{<span class="keywordflow">return</span> {<a class="code" href="struct_f_l_slice_result.html#a25ceb6212b3de8d0e0e012817c810ed2">buf</a>, <a class="code" href="struct_f_l_slice_result.html#a622d35e8c1031bb88d0fe89cfaca12e1">size</a>};}</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keyword">inline</span> <span class="keyword">explicit</span> <span class="keyword">operator</span> std::string() <span class="keyword">const</span>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;} <a class="code" href="struct_f_l_slice_result.html">FLSliceResult</a>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_f_l_slice.html">FLHeapSlice</a> : <span class="keyword">public</span> <a class="code" href="struct_f_l_slice.html">FLSlice</a> {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        constexpr <a class="code" href="group___f_l_slice.html#gabc10b138e3c1345a4396b39c11a1f0d5">FLHeapSlice</a>() noexcept                           :<a class="code" href="struct_f_l_slice.html">FLSlice</a>{<span class="keyword">nullptr</span>, 0} { }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        constexpr <a class="code" href="group___f_l_slice.html#gabc10b138e3c1345a4396b39c11a1f0d5">FLHeapSlice</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *b, <span class="keywordtype">size_t</span> s) noexcept    :<a class="code" href="struct_f_l_slice.html">FLSlice</a>{b, s} { }</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keyword">friend</span> <span class="keyword">struct </span>fleece::alloc_slice;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    };</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="group___f_l_slice.html#gabc10b138e3c1345a4396b39c11a1f0d5">   81</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="struct_f_l_slice.html">FLSlice</a> <a class="code" href="group___f_l_slice.html#gabc10b138e3c1345a4396b39c11a1f0d5">FLHeapSlice</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">// Aliases used to indicate that a slice is expected to contain UTF-8 data.</span></div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">   86</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="struct_f_l_slice.html">FLSlice</a> <a class="code" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>;</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="group___f_l_slice.html#gab08438b1f08efeefe09ece8079734fdd">   87</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="struct_f_l_slice_result.html">FLSliceResult</a> <a class="code" href="group___f_l_slice.html#gab08438b1f08efeefe09ece8079734fdd">FLStringResult</a>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_f_l_slice.html">FLSlice</a> <a class="code" href="group___f_l_slice.html#ga5445a97beaea63c3eadb1427c3a717d8">kFLSliceNull</a> = { NULL, 0 };</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="group___f_l_slice.html#ga5445a97beaea63c3eadb1427c3a717d8">   94</a></span>&#160;<span class="preprocessor">    #define kFLSliceNull ((FLSlice){NULL, 0})</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="group___f_l_slice.html#gae9d0af13963246fd37fbf16c4b237f53">  102</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="struct_f_l_slice.html">FLSlice</a> <a class="code" href="group___f_l_slice.html#gae9d0af13963246fd37fbf16c4b237f53">FLStr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str) <a class="code" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a> {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="struct_f_l_slice.html">FLSlice</a> foo = { str, str ? strlen(str) : 0 };</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">return</span> foo;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">    #define FLSTR(STR) (FLSlice {(&quot;&quot; STR), sizeof((&quot;&quot; STR))-1})</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="group___f_l_slice.html#ga0e82def46e214a706216353705768453">  112</a></span>&#160;<span class="preprocessor">    #define FLSTR(STR) ((FLSlice){(&quot;&quot; STR), sizeof((&quot;&quot; STR))-1})</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group___f_l_slice.html#ga23b5777450a091e1cecb4d1ff36c0a23">FLSlice_Equal</a>(<a class="code" href="struct_f_l_slice.html">FLSlice</a> a, <a class="code" href="struct_f_l_slice.html">FLSlice</a> b) <a class="code" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a> <a class="code" href="_base_8h.html#aaf76422cb887897c286992499106254d">FLPURE</a>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keywordtype">int</span> <a class="code" href="group___f_l_slice.html#gaa284d9d65b1d25e3284c33ce451e555c">FLSlice_Compare</a>(<a class="code" href="struct_f_l_slice.html">FLSlice</a>, <a class="code" href="struct_f_l_slice.html">FLSlice</a>) <a class="code" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a> <a class="code" href="_base_8h.html#aaf76422cb887897c286992499106254d">FLPURE</a>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;uint32_t <a class="code" href="group___f_l_slice.html#gacb3991fac92ad55de3e3cf02bcc76f06">FLSlice_Hash</a>(<a class="code" href="struct_f_l_slice.html">FLSlice</a> s) <a class="code" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a> <a class="code" href="_base_8h.html#aaf76422cb887897c286992499106254d">FLPURE</a>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group___f_l_slice.html#gacdffe2bb52311b91bf998fa714b7a838">FLSlice_ToCString</a>(<a class="code" href="struct_f_l_slice.html">FLSlice</a> s, <span class="keywordtype">char</span>* buffer <a class="code" href="_base_8h.html#ada64c64b4206846e8f545c2fbfb3f307">NONNULL</a>, <span class="keywordtype">size_t</span> capacity) <a class="code" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<a class="code" href="struct_f_l_slice_result.html">FLSliceResult</a> <a class="code" href="group___f_l_slice.html#ga66524dad4fc30818a3f18ac7a6b7ca28">FLSliceResult_New</a>(<span class="keywordtype">size_t</span>) <a class="code" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<a class="code" href="struct_f_l_slice_result.html">FLSliceResult</a> <a class="code" href="group___f_l_slice.html#gada5e7e094a1a827337a4ac019b4ae663">FLSlice_Copy</a>(<a class="code" href="struct_f_l_slice.html">FLSlice</a>) <a class="code" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="group___f_l_slice.html#gafcc20a9f39b6d5be79a5f917820cc8ae">  143</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="struct_f_l_slice_result.html">FLSliceResult</a> <a class="code" href="group___f_l_slice.html#gafcc20a9f39b6d5be79a5f917820cc8ae">FLSliceResult_CreateWith</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *bytes, <span class="keywordtype">size_t</span> size) <a class="code" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a> {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="struct_f_l_slice.html">FLSlice</a> s = {bytes, size};</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group___f_l_slice.html#gada5e7e094a1a827337a4ac019b4ae663">FLSlice_Copy</a>(s);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___f_l_slice.html#ga699348717114834d5280c66d40d483de">_FLBuf_Retain</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>*) <a class="code" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a>;   <span class="comment">// internal; do not call</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___f_l_slice.html#ga975449fbf4e5662333feb4ed746f8487">_FLBuf_Release</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>*) <a class="code" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a>;  <span class="comment">// internal; do not call</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="group___f_l_slice.html#ga9ce70f8e3d12d27fb0de3290a0307d18">  153</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="struct_f_l_slice_result.html">FLSliceResult</a> <a class="code" href="group___f_l_slice.html#ga9ce70f8e3d12d27fb0de3290a0307d18">FLSliceResult_Retain</a>(<a class="code" href="struct_f_l_slice_result.html">FLSliceResult</a> s) <a class="code" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a> {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="group___f_l_slice.html#ga699348717114834d5280c66d40d483de">_FLBuf_Retain</a>(s.buf);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> s;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="group___f_l_slice.html#ga254cef250e1fb2b3cc8668c30373af04">  159</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___f_l_slice.html#ga254cef250e1fb2b3cc8668c30373af04">FLSliceResult_Release</a>(<a class="code" href="struct_f_l_slice_result.html">FLSliceResult</a> s) <a class="code" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a> {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="group___f_l_slice.html#ga975449fbf4e5662333feb4ed746f8487">_FLBuf_Release</a>(s.buf);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="group___f_l_slice.html#gabd9442fc7a61c33e7932830a275238fd">  164</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="struct_f_l_slice.html">FLSlice</a> <a class="code" href="group___f_l_slice.html#gabd9442fc7a61c33e7932830a275238fd">FLSliceResult_AsSlice</a>(<a class="code" href="struct_f_l_slice_result.html">FLSliceResult</a> sr) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> *(<a class="code" href="struct_f_l_slice.html">FLSlice</a>*)&amp;sr;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___f_l_slice.html#gadc51222f8701a1b44688e9ac0a251b9b">FL_WipeMemory</a>(<span class="keywordtype">void</span> *dst, <span class="keywordtype">size_t</span> size) <a class="code" href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="_base_8h.html#aaf76422cb887897c286992499106254d">FLPURE</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator== (<a class="code" href="struct_f_l_slice.html">FLSlice</a> s1, <a class="code" href="struct_f_l_slice.html">FLSlice</a> s2) {<span class="keywordflow">return</span> <a class="code" href="group___f_l_slice.html#ga23b5777450a091e1cecb4d1ff36c0a23">FLSlice_Equal</a>(s1, s2);}</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="_base_8h.html#aaf76422cb887897c286992499106254d">FLPURE</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator!= (<a class="code" href="struct_f_l_slice.html">FLSlice</a> s1, <a class="code" href="struct_f_l_slice.html">FLSlice</a> s2) {<span class="keywordflow">return</span> !(s1 == s2);}</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="_base_8h.html#aaf76422cb887897c286992499106254d">FLPURE</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator== (<a class="code" href="struct_f_l_slice_result.html">FLSliceResult</a> sr, <a class="code" href="struct_f_l_slice.html">FLSlice</a> s) {<span class="keywordflow">return</span> (<a class="code" href="struct_f_l_slice.html">FLSlice</a>)sr == s;}</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="_base_8h.html#aaf76422cb887897c286992499106254d">FLPURE</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator!= (<a class="code" href="struct_f_l_slice_result.html">FLSliceResult</a> sr, <a class="code" href="struct_f_l_slice.html">FLSlice</a> s) {<span class="keywordflow">return</span> !(sr ==s);}</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    FLSliceResult::operator std::string ()<span class="keyword"> const </span>{</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keyword">auto</span> str = std::string((<span class="keywordtype">char</span>*)buf, size);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="group___f_l_slice.html#ga254cef250e1fb2b3cc8668c30373af04">FLSliceResult_Release</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">return</span> str;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">#endif // _FLSLICE_H</span></div><div class="ttc" id="group___f_l_slice_html_ga699348717114834d5280c66d40d483de"><div class="ttname"><a href="group___f_l_slice.html#ga699348717114834d5280c66d40d483de">_FLBuf_Retain</a></div><div class="ttdeci">void _FLBuf_Retain(const void *)</div></div>
<div class="ttc" id="group___f_l_slice_html_gab08438b1f08efeefe09ece8079734fdd"><div class="ttname"><a href="group___f_l_slice.html#gab08438b1f08efeefe09ece8079734fdd">FLStringResult</a></div><div class="ttdeci">FLSliceResult FLStringResult</div><div class="ttdef"><b>Definition:</b> FLSlice.h:87</div></div>
<div class="ttc" id="group___f_l_slice_html_gacdffe2bb52311b91bf998fa714b7a838"><div class="ttname"><a href="group___f_l_slice.html#gacdffe2bb52311b91bf998fa714b7a838">FLSlice_ToCString</a></div><div class="ttdeci">bool FLSlice_ToCString(FLSlice s, char *buffer, size_t capacity)</div><div class="ttdoc">Copies a slice to a buffer, adding a trailing zero byte to make it a valid C string.</div></div>
<div class="ttc" id="group___f_l_slice_html_ga5445a97beaea63c3eadb1427c3a717d8"><div class="ttname"><a href="group___f_l_slice.html#ga5445a97beaea63c3eadb1427c3a717d8">kFLSliceNull</a></div><div class="ttdeci">#define kFLSliceNull</div><div class="ttdoc">A convenient constant denoting a null slice.</div><div class="ttdef"><b>Definition:</b> FLSlice.h:94</div></div>
<div class="ttc" id="struct_f_l_slice_result_html_a25ceb6212b3de8d0e0e012817c810ed2"><div class="ttname"><a href="struct_f_l_slice_result.html#a25ceb6212b3de8d0e0e012817c810ed2">FLSliceResult::buf</a></div><div class="ttdeci">const void * buf</div><div class="ttdef"><b>Definition:</b> FLSlice.h:59</div></div>
<div class="ttc" id="group___f_l_slice_html_ga23b5777450a091e1cecb4d1ff36c0a23"><div class="ttname"><a href="group___f_l_slice.html#ga23b5777450a091e1cecb4d1ff36c0a23">FLSlice_Equal</a></div><div class="ttdeci">bool FLSlice_Equal(FLSlice a, FLSlice b) FLPURE</div><div class="ttdoc">Equality test of two slices.</div></div>
<div class="ttc" id="struct_f_l_slice_html"><div class="ttname"><a href="struct_f_l_slice.html">FLSlice</a></div><div class="ttdoc">A simple reference to a block of memory.</div><div class="ttdef"><b>Definition:</b> FLSlice.h:40</div></div>
<div class="ttc" id="group___f_l_slice_html_gadc51222f8701a1b44688e9ac0a251b9b"><div class="ttname"><a href="group___f_l_slice.html#gadc51222f8701a1b44688e9ac0a251b9b">FL_WipeMemory</a></div><div class="ttdeci">void FL_WipeMemory(void *dst, size_t size)</div><div class="ttdoc">Writes zeroes to size bytes of memory starting at dst.</div></div>
<div class="ttc" id="struct_f_l_slice_result_html_a622d35e8c1031bb88d0fe89cfaca12e1"><div class="ttname"><a href="struct_f_l_slice_result.html#a622d35e8c1031bb88d0fe89cfaca12e1">FLSliceResult::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> FLSlice.h:60</div></div>
<div class="ttc" id="struct_f_l_slice_result_html"><div class="ttname"><a href="struct_f_l_slice_result.html">FLSliceResult</a></div><div class="ttdoc">A heap-allocated block of memory returned from an API call.</div><div class="ttdef"><b>Definition:</b> FLSlice.h:58</div></div>
<div class="ttc" id="struct_f_l_slice_html_a6a1891b6d6c6ee0ae348c6419f90d797"><div class="ttname"><a href="struct_f_l_slice.html#a6a1891b6d6c6ee0ae348c6419f90d797">FLSlice::buf</a></div><div class="ttdeci">const void * buf</div><div class="ttdef"><b>Definition:</b> FLSlice.h:41</div></div>
<div class="ttc" id="_base_8h_html"><div class="ttname"><a href="_base_8h.html">Base.h</a></div></div>
<div class="ttc" id="_base_8h_html_aaf76422cb887897c286992499106254d"><div class="ttname"><a href="_base_8h.html#aaf76422cb887897c286992499106254d">FLPURE</a></div><div class="ttdeci">#define FLPURE</div><div class="ttdef"><b>Definition:</b> Base.h:83</div></div>
<div class="ttc" id="group___f_l_slice_html_gacb3991fac92ad55de3e3cf02bcc76f06"><div class="ttname"><a href="group___f_l_slice.html#gacb3991fac92ad55de3e3cf02bcc76f06">FLSlice_Hash</a></div><div class="ttdeci">uint32_t FLSlice_Hash(FLSlice s) FLPURE</div><div class="ttdoc">Computes a 32-bit hash of a slice's data, suitable for use in hash tables.</div></div>
<div class="ttc" id="group___f_l_slice_html_gae9d0af13963246fd37fbf16c4b237f53"><div class="ttname"><a href="group___f_l_slice.html#gae9d0af13963246fd37fbf16c4b237f53">FLStr</a></div><div class="ttdeci">static FLSlice FLStr(const char *str)</div><div class="ttdoc">Returns a slice pointing to the contents of a C string.</div><div class="ttdef"><b>Definition:</b> FLSlice.h:102</div></div>
<div class="ttc" id="group___f_l_slice_html_gafcc20a9f39b6d5be79a5f917820cc8ae"><div class="ttname"><a href="group___f_l_slice.html#gafcc20a9f39b6d5be79a5f917820cc8ae">FLSliceResult_CreateWith</a></div><div class="ttdeci">static FLSliceResult FLSliceResult_CreateWith(const void *bytes, size_t size)</div><div class="ttdoc">Allocates an FLSliceResult, copying size bytes starting at buf.</div><div class="ttdef"><b>Definition:</b> FLSlice.h:143</div></div>
<div class="ttc" id="group___f_l_slice_html_ga975449fbf4e5662333feb4ed746f8487"><div class="ttname"><a href="group___f_l_slice.html#ga975449fbf4e5662333feb4ed746f8487">_FLBuf_Release</a></div><div class="ttdeci">void _FLBuf_Release(const void *)</div></div>
<div class="ttc" id="_f_l_slice_8h_html_afde725198ae6fc34b4e286e4858b6eae"><div class="ttname"><a href="_f_l_slice_8h.html#afde725198ae6fc34b4e286e4858b6eae">FLAPI</a></div><div class="ttdeci">#define FLAPI</div><div class="ttdef"><b>Definition:</b> FLSlice.h:25</div></div>
<div class="ttc" id="group___f_l_slice_html_gabd9442fc7a61c33e7932830a275238fd"><div class="ttname"><a href="group___f_l_slice.html#gabd9442fc7a61c33e7932830a275238fd">FLSliceResult_AsSlice</a></div><div class="ttdeci">static FLSlice FLSliceResult_AsSlice(FLSliceResult sr)</div><div class="ttdoc">Type-casts a FLSliceResult to FLSlice, since C doesn't know it's a subclass.</div><div class="ttdef"><b>Definition:</b> FLSlice.h:164</div></div>
<div class="ttc" id="group___f_l_slice_html_ga9ce70f8e3d12d27fb0de3290a0307d18"><div class="ttname"><a href="group___f_l_slice.html#ga9ce70f8e3d12d27fb0de3290a0307d18">FLSliceResult_Retain</a></div><div class="ttdeci">static FLSliceResult FLSliceResult_Retain(FLSliceResult s)</div><div class="ttdoc">Increments the ref-count of a FLSliceResult.</div><div class="ttdef"><b>Definition:</b> FLSlice.h:153</div></div>
<div class="ttc" id="group___f_l_slice_html_gabc10b138e3c1345a4396b39c11a1f0d5"><div class="ttname"><a href="group___f_l_slice.html#gabc10b138e3c1345a4396b39c11a1f0d5">FLHeapSlice</a></div><div class="ttdeci">FLSlice FLHeapSlice</div><div class="ttdoc">A heap-allocated, reference-counted slice.</div><div class="ttdef"><b>Definition:</b> FLSlice.h:81</div></div>
<div class="ttc" id="group___f_l_slice_html_gabab0e7979cf6c99ffe836e84e55b6c76"><div class="ttname"><a href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a></div><div class="ttdeci">FLSlice FLString</div><div class="ttdef"><b>Definition:</b> FLSlice.h:86</div></div>
<div class="ttc" id="group___f_l_slice_html_gada5e7e094a1a827337a4ac019b4ae663"><div class="ttname"><a href="group___f_l_slice.html#gada5e7e094a1a827337a4ac019b4ae663">FLSlice_Copy</a></div><div class="ttdeci">FLSliceResult FLSlice_Copy(FLSlice)</div><div class="ttdoc">Allocates an FLSliceResult, copying the given slice.</div></div>
<div class="ttc" id="group___f_l_slice_html_ga66524dad4fc30818a3f18ac7a6b7ca28"><div class="ttname"><a href="group___f_l_slice.html#ga66524dad4fc30818a3f18ac7a6b7ca28">FLSliceResult_New</a></div><div class="ttdeci">FLSliceResult FLSliceResult_New(size_t)</div><div class="ttdoc">Allocates an FLSliceResult of the given size, without initializing the buffer.</div></div>
<div class="ttc" id="group___f_l_slice_html_gaa284d9d65b1d25e3284c33ce451e555c"><div class="ttname"><a href="group___f_l_slice.html#gaa284d9d65b1d25e3284c33ce451e555c">FLSlice_Compare</a></div><div class="ttdeci">int FLSlice_Compare(FLSlice, FLSlice) FLPURE</div><div class="ttdoc">Lexicographic comparison of two slices; basically like memcmp(), but taking into account differences ...</div></div>
<div class="ttc" id="_base_8h_html_ada64c64b4206846e8f545c2fbfb3f307"><div class="ttname"><a href="_base_8h.html#ada64c64b4206846e8f545c2fbfb3f307">NONNULL</a></div><div class="ttdeci">#define NONNULL</div><div class="ttdef"><b>Definition:</b> Base.h:62</div></div>
<div class="ttc" id="struct_f_l_slice_html_a8fb4c8187bdd5a8d645809d5d0a72c90"><div class="ttname"><a href="struct_f_l_slice.html#a8fb4c8187bdd5a8d645809d5d0a72c90">FLSlice::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> FLSlice.h:42</div></div>
<div class="ttc" id="group___f_l_slice_html_ga254cef250e1fb2b3cc8668c30373af04"><div class="ttname"><a href="group___f_l_slice.html#ga254cef250e1fb2b3cc8668c30373af04">FLSliceResult_Release</a></div><div class="ttdeci">static void FLSliceResult_Release(FLSliceResult s)</div><div class="ttdoc">Decrements the ref-count of a FLSliceResult, freeing its memory if it reached zero.</div><div class="ttdef"><b>Definition:</b> FLSlice.h:159</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
