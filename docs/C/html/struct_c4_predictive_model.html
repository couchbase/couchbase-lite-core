<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LiteCore: C4PredictiveModel Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LiteCore
   </div>
   <div id="projectbrief">Couchbase Lite cross-platform core implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">C4PredictiveModel Struct Reference<div class="ingroups"><a class="el" href="group___predictive_query.html">Predictive (Machine-Learning) Query</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Configuration struct for registering a predictive model.  
 <a href="struct_c4_predictive_model.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="c4_predictive_query_8h_source.html">c4PredictiveQuery.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a40b30811ae6a54410e9ca578eb4929e8"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c4_predictive_model.html#a40b30811ae6a54410e9ca578eb4929e8">context</a></td></tr>
<tr class="memdesc:a40b30811ae6a54410e9ca578eb4929e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to any external data needed by the <code>prediction</code> callback, which will receive this as its first parameter.  <a href="struct_c4_predictive_model.html#a40b30811ae6a54410e9ca578eb4929e8">More...</a><br /></td></tr>
<tr class="separator:a40b30811ae6a54410e9ca578eb4929e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71dff72e6128eac1257eb90e541103cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c4_predictive_model.html#a71dff72e6128eac1257eb90e541103cc">prediction</a> )(void *<a class="el" href="struct_c4_predictive_model.html#a40b30811ae6a54410e9ca578eb4929e8">context</a>, <a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> input, <a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *database, <a class="el" href="struct_c4_error.html">C4Error</a> *error)</td></tr>
<tr class="memdesc:a71dff72e6128eac1257eb90e541103cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called from within a query (or document indexing) to run the prediction.  <a href="struct_c4_predictive_model.html#a71dff72e6128eac1257eb90e541103cc">More...</a><br /></td></tr>
<tr class="separator:a71dff72e6128eac1257eb90e541103cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a038601d346990c8bd81beaed25ba1998"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c4_predictive_model.html#a038601d346990c8bd81beaed25ba1998">unregistered</a> )(void *<a class="el" href="struct_c4_predictive_model.html#a40b30811ae6a54410e9ca578eb4929e8">context</a>)</td></tr>
<tr class="memdesc:a038601d346990c8bd81beaed25ba1998"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called if the model is unregistered, so it can release resources.  <a href="struct_c4_predictive_model.html#a038601d346990c8bd81beaed25ba1998">More...</a><br /></td></tr>
<tr class="separator:a038601d346990c8bd81beaed25ba1998"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Configuration struct for registering a predictive model. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a40b30811ae6a54410e9ca578eb4929e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40b30811ae6a54410e9ca578eb4929e8">&#9670;&nbsp;</a></span>context</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* C4PredictiveModel::context</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A pointer to any external data needed by the <code>prediction</code> callback, which will receive this as its first parameter. </p>

</div>
</div>
<a id="a71dff72e6128eac1257eb90e541103cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71dff72e6128eac1257eb90e541103cc">&#9670;&nbsp;</a></span>prediction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a>(* C4PredictiveModel::prediction) (void *<a class="el" href="struct_c4_predictive_model.html#a40b30811ae6a54410e9ca578eb4929e8">context</a>, <a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> input, <a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *database, <a class="el" href="struct_c4_error.html">C4Error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called from within a query (or document indexing) to run the prediction. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function must be "pure": given the same input parameters it must always produce the same output (otherwise indexes or queries may be messed up). It MUST NOT alter the database or any documents, nor run a query: either of those are very likely to cause a crash. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The value of the <a class="el" href="struct_c4_predictive_model.html" title="Configuration struct for registering a predictive model.">C4PredictiveModel</a>'s <code>context</code> field; typically a pointer to external data needed by the implementation. </td></tr>
    <tr><td class="paramname">input</td><td>The input dictionary from the query. </td></tr>
    <tr><td class="paramname">database</td><td>The database being queried. DO NOT use this reference to write to documents or to run queries! </td></tr>
    <tr><td class="paramname">error</td><td>Store an error here on failure. It is NOT a failure for input parameters to be missing or the wrong type, since this can easily happen when the query reaches a document that doesn't contain input data, or if the document's schema is incorrect. This should not abort the entire query! Instead just return a null slice. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The output of the prediction function, encoded as a Fleece dictionary, or as {NULL, 0} if there is no output. </dd></dl>

</div>
</div>
<a id="a038601d346990c8bd81beaed25ba1998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a038601d346990c8bd81beaed25ba1998">&#9670;&nbsp;</a></span>unregistered</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* C4PredictiveModel::unregistered) (void *<a class="el" href="struct_c4_predictive_model.html#a40b30811ae6a54410e9ca578eb4929e8">context</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called if the model is unregistered, so it can release resources. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="c4_predictive_query_8h_source.html">c4PredictiveQuery.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
