<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LiteCore: Indexes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LiteCore
   </div>
   <div id="projectbrief">Couchbase Lite cross-platform core implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Indexes</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c4_index_options.html">C4IndexOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Options for indexes; these each apply to specific types of indexes.  <a href="struct_c4_index_options.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaf0b8613e821a59cfdea501bec2d661cb" id="r_gaf0b8613e821a59cfdea501bec2d661cb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf0b8613e821a59cfdea501bec2d661cb">C4IndexType</a> : uint32_t { <br />
&#160;&#160;<a class="el" href="#ggaf0b8613e821a59cfdea501bec2d661cba5766cf8762fa8efe9d8d3a0049a46c8b">kC4ValueIndex</a>
, <a class="el" href="#ggaf0b8613e821a59cfdea501bec2d661cba302557d4c038fa656e15540e7d949cf6">kC4FullTextIndex</a>
, <a class="el" href="#ggaf0b8613e821a59cfdea501bec2d661cba0d12c792025a20b6b01036743309a931">kC4ArrayIndex</a>
, <a class="el" href="#ggaf0b8613e821a59cfdea501bec2d661cbae112b2969f8e5d310f396b480eb071a2">kC4PredictiveIndex</a>
, <br />
&#160;&#160;<a class="el" href="#ggaf0b8613e821a59cfdea501bec2d661cba48dfdfd073eb7356b5a4ab0fe3723bb0">kC4VectorIndex</a>
<br />
 }</td></tr>
<tr class="separator:gaf0b8613e821a59cfdea501bec2d661cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4f7140a51b2af1d0151c047096daed1d" id="r_ga4f7140a51b2af1d0151c047096daed1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_compiler_support_8h.html#abf13e44576a768044e199191d4f26f7e">NODISCARD</a> <a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4f7140a51b2af1d0151c047096daed1d">c4coll_createIndex</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> name, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> indexSpec, <a class="el" href="group___querying_d_b.html#ga23ce629032ce6fa439a0015788f2ff84">C4QueryLanguage</a> queryLanguage, <a class="el" href="#gaf0b8613e821a59cfdea501bec2d661cb">C4IndexType</a> indexType, const <a class="el" href="struct_c4_index_options.html">C4IndexOptions</a> *indexOptions, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga4f7140a51b2af1d0151c047096daed1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a collection index, of the values of specific expressions across all documents.  <br /></td></tr>
<tr class="separator:ga4f7140a51b2af1d0151c047096daed1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ee3840773b5724c7047b0844fc1b6d1" id="r_ga5ee3840773b5724c7047b0844fc1b6d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5ee3840773b5724c7047b0844fc1b6d1">c4coll_getIndex</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> name, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga5ee3840773b5724c7047b0844fc1b6d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an object representing an existing index.  <br /></td></tr>
<tr class="separator:ga5ee3840773b5724c7047b0844fc1b6d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e7900ad681f118931245f5d14c6d037" id="r_ga9e7900ad681f118931245f5d14c6d037"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_compiler_support_8h.html#abf13e44576a768044e199191d4f26f7e">NODISCARD</a> <a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9e7900ad681f118931245f5d14c6d037">c4coll_deleteIndex</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> name, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga9e7900ad681f118931245f5d14c6d037"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an index that was created by <code>c4coll_createIndex</code>.  <br /></td></tr>
<tr class="separator:ga9e7900ad681f118931245f5d14c6d037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1cf934f4c7c596377797a8a32d69cbb1" id="r_ga1cf934f4c7c596377797a8a32d69cbb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1cf934f4c7c596377797a8a32d69cbb1">c4coll_getIndexesInfo</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga1cf934f4c7c596377797a8a32d69cbb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information about all indexes in the collection.  <br /></td></tr>
<tr class="separator:ga1cf934f4c7c596377797a8a32d69cbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd548fb1f517908d467a351858b1952f" id="r_gadd548fb1f517908d467a351858b1952f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadd548fb1f517908d467a351858b1952f">c4index_getName</a> (<a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> *index)</td></tr>
<tr class="memdesc:gadd548fb1f517908d467a351858b1952f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of this index.  <br /></td></tr>
<tr class="separator:gadd548fb1f517908d467a351858b1952f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbd9d80af8a587afe7d137ffce4ae500" id="r_gafbd9d80af8a587afe7d137ffce4ae500"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafbd9d80af8a587afe7d137ffce4ae500">c4index_getCollection</a> (<a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> *index)</td></tr>
<tr class="memdesc:gafbd9d80af8a587afe7d137ffce4ae500"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the collection this index belongs to.  <br /></td></tr>
<tr class="separator:gafbd9d80af8a587afe7d137ffce4ae500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2ced5f322e839ae38a82c4b483265d1" id="r_gac2ced5f322e839ae38a82c4b483265d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="#gaf0b8613e821a59cfdea501bec2d661cb">C4IndexType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac2ced5f322e839ae38a82c4b483265d1">c4index_getType</a> (<a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> *)</td></tr>
<tr class="memdesc:gac2ced5f322e839ae38a82c4b483265d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the index's type.  <br /></td></tr>
<tr class="separator:gac2ced5f322e839ae38a82c4b483265d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeed965a2fb6e975ae8ce7003f0509f87" id="r_gaeed965a2fb6e975ae8ce7003f0509f87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="group___querying_d_b.html#ga23ce629032ce6fa439a0015788f2ff84">C4QueryLanguage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaeed965a2fb6e975ae8ce7003f0509f87">c4index_getQueryLanguage</a> (<a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> *)</td></tr>
<tr class="memdesc:gaeed965a2fb6e975ae8ce7003f0509f87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the index's query language (JSON or N1QL).  <br /></td></tr>
<tr class="separator:gaeed965a2fb6e975ae8ce7003f0509f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab3e00aa4e24247c89d41398341059415" id="r_gab3e00aa4e24247c89d41398341059415"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab3e00aa4e24247c89d41398341059415">c4index_getExpression</a> (<a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> *)</td></tr>
<tr class="memdesc:gab3e00aa4e24247c89d41398341059415"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the indexed expression.  <br /></td></tr>
<tr class="separator:gab3e00aa4e24247c89d41398341059415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1aeabc9630fa8f12c4aa0c391caeecd9" id="r_ga1aeabc9630fa8f12c4aa0c391caeecd9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1aeabc9630fa8f12c4aa0c391caeecd9">c4index_getOptions</a> (<a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> *index, <a class="el" href="struct_c4_index_options.html">C4IndexOptions</a> *outOpts)</td></tr>
<tr class="memdesc:ga1aeabc9630fa8f12c4aa0c391caeecd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the index's FTS/vector options, if any.  <br /></td></tr>
<tr class="separator:ga1aeabc9630fa8f12c4aa0c391caeecd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6d370bf5417f2e7779bf6d3cff3201b" id="r_gaf6d370bf5417f2e7779bf6d3cff3201b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf6d370bf5417f2e7779bf6d3cff3201b">c4coll_isIndexTrained</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> name, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gaf6d370bf5417f2e7779bf6d3cff3201b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether a vector index has been trained yet or not.  <br /></td></tr>
<tr class="separator:gaf6d370bf5417f2e7779bf6d3cff3201b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaf0b8613e821a59cfdea501bec2d661cb" name="gaf0b8613e821a59cfdea501bec2d661cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf0b8613e821a59cfdea501bec2d661cb">&#9670;&#160;</a></span>C4IndexType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#gaf0b8613e821a59cfdea501bec2d661cb">C4IndexType</a> : uint32_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaf0b8613e821a59cfdea501bec2d661cba5766cf8762fa8efe9d8d3a0049a46c8b" name="ggaf0b8613e821a59cfdea501bec2d661cba5766cf8762fa8efe9d8d3a0049a46c8b"></a>kC4ValueIndex&#160;</td><td class="fielddoc"><p>Regular index of property value. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf0b8613e821a59cfdea501bec2d661cba302557d4c038fa656e15540e7d949cf6" name="ggaf0b8613e821a59cfdea501bec2d661cba302557d4c038fa656e15540e7d949cf6"></a>kC4FullTextIndex&#160;</td><td class="fielddoc"><p>Full-text index. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf0b8613e821a59cfdea501bec2d661cba0d12c792025a20b6b01036743309a931" name="ggaf0b8613e821a59cfdea501bec2d661cba0d12c792025a20b6b01036743309a931"></a>kC4ArrayIndex&#160;</td><td class="fielddoc"><p>Index of array values, for use with UNNEST. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf0b8613e821a59cfdea501bec2d661cbae112b2969f8e5d310f396b480eb071a2" name="ggaf0b8613e821a59cfdea501bec2d661cbae112b2969f8e5d310f396b480eb071a2"></a>kC4PredictiveIndex&#160;</td><td class="fielddoc"><p>Index of prediction() results (Enterprise Edition only) </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf0b8613e821a59cfdea501bec2d661cba48dfdfd073eb7356b5a4ab0fe3723bb0" name="ggaf0b8613e821a59cfdea501bec2d661cba48dfdfd073eb7356b5a4ab0fe3723bb0"></a>kC4VectorIndex&#160;</td><td class="fielddoc"><p>Index of ML vector similarity (Enterprise Edition only) </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4f7140a51b2af1d0151c047096daed1d" name="ga4f7140a51b2af1d0151c047096daed1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f7140a51b2af1d0151c047096daed1d">&#9670;&#160;</a></span>c4coll_createIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_compiler_support_8h.html#abf13e44576a768044e199191d4f26f7e">NODISCARD</a> <a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> bool c4coll_createIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *</td>          <td class="paramname"><span class="paramname"><em>collection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a></td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a></td>          <td class="paramname"><span class="paramname"><em>indexSpec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___querying_d_b.html#ga23ce629032ce6fa439a0015788f2ff84">C4QueryLanguage</a></td>          <td class="paramname"><span class="paramname"><em>queryLanguage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#gaf0b8613e821a59cfdea501bec2d661cb">C4IndexType</a></td>          <td class="paramname"><span class="paramname"><em>indexType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c4_index_options.html">C4IndexOptions</a> *</td>          <td class="paramname"><span class="paramname"><em>indexOptions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *</td>          <td class="paramname"><span class="paramname"><em>outError</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a collection index, of the values of specific expressions across all documents. </p>
<p>The name is used to identify the index for later updating or deletion; if an index with the same name already exists, it will be replaced unless it has the exact same expressions.</p>
<p>Currently five types of indexes are supported:</p>
<p>Value indexes speed up queries by making it possible to look up property (or expression) values without scanning every document. They're just like regular indexes in SQL or N1QL. Multiple expressions are supported; the first is the primary key, second is secondary. Expressions must evaluate to scalar types (boolean, number, string). Full-Text Search (FTS) indexes enable fast search of natural-language words or phrases by using the <code>MATCH</code> operator in a query. A FTS index is <b>required</b> for full-text search: a query with a <code>MATCH</code> operator will fail to compile unless there is already a FTS index for the property/expression being matched. Only a single expression is currently allowed, and it must evaluate to a string. Array indexes optimize UNNEST queries, by materializing an unnested array property (across all documents) as a table in the SQLite database, and creating a SQL index on it. Predictive indexes optimize queries that use the PREDICTION() function, by materializing the function's results as a table and creating a SQL index on a result property. Vector indexes store high-dimensional vectors/embeddings and support efficient Approximate Nearest Neighbor (ANN) queries for finding the nearest vectors to a query vector.</p>
<p>Note: If some documents are missing the values to be indexed, those documents will just be omitted from the index. It's not an error.</p>
<p>In an array index, the first expression must evaluate to an array to be unnested; it's usually a property path but could be some other expression type. If the array items are nonscalar (dictionaries or arrays), you should add a second expression defining the sub- property (or computed value) to index, relative to the array item.</p>
<p>In a predictive index, the expression is a PREDICTION() call in JSON query syntax, including the optional 3rd parameter that gives the result property to extract (and index.)</p>
<p>The <code>indexSpec</code> argument is an expression, relative to a document, that describes what to index. It can be in either the JSON query schema, or in N1QL syntax. It usually names a property, but may also be a computed value based on properties.</p>
<dl class="section note"><dt>Note</dt><dd>The caller must use a lock for Database when this function is called. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collection</td><td>The collection to index. </td></tr>
    <tr><td class="paramname">name</td><td>The name of the index. Any existing index with the same name will be replaced, unless it has the identical expressions (in which case this is a no-op.) </td></tr>
    <tr><td class="paramname">indexSpec</td><td>The definition of the index in JSON or N1QL form. (See above.) </td></tr>
    <tr><td class="paramname">queryLanguage</td><td>The language of <code>indexSpec</code>, either JSON or N1QL. </td></tr>
    <tr><td class="paramname">indexType</td><td>The type of index (value full-text, etc.) </td></tr>
    <tr><td class="paramname">indexOptions</td><td>Options for the index. If NULL, each option will get a default value. </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, will be set to the error status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on failure. </dd></dl>

</div>
</div>
<a id="ga9e7900ad681f118931245f5d14c6d037" name="ga9e7900ad681f118931245f5d14c6d037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e7900ad681f118931245f5d14c6d037">&#9670;&#160;</a></span>c4coll_deleteIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_compiler_support_8h.html#abf13e44576a768044e199191d4f26f7e">NODISCARD</a> <a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> bool c4coll_deleteIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *</td>          <td class="paramname"><span class="paramname"><em>collection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a></td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *</td>          <td class="paramname"><span class="paramname"><em>outError</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes an index that was created by <code>c4coll_createIndex</code>. </p>
<dl class="section note"><dt>Note</dt><dd>The caller must use a lock for Database when this function is called. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collection</td><td>The collection to index. </td></tr>
    <tr><td class="paramname">name</td><td>The name of the index to delete </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, will be set to the error status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on failure. </dd></dl>

</div>
</div>
<a id="ga5ee3840773b5724c7047b0844fc1b6d1" name="ga5ee3840773b5724c7047b0844fc1b6d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ee3840773b5724c7047b0844fc1b6d1">&#9670;&#160;</a></span>c4coll_getIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> * c4coll_getIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *</td>          <td class="paramname"><span class="paramname"><em>collection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a></td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *</td>          <td class="paramname"><span class="paramname"><em>outError</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an object representing an existing index. </p>
<dl class="section note"><dt>Note</dt><dd>The caller must use a lock for Database when this function is called. </dd></dl>

</div>
</div>
<a id="ga1cf934f4c7c596377797a8a32d69cbb1" name="ga1cf934f4c7c596377797a8a32d69cbb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1cf934f4c7c596377797a8a32d69cbb1">&#9670;&#160;</a></span>c4coll_getIndexesInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a> c4coll_getIndexesInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *</td>          <td class="paramname"><span class="paramname"><em>collection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *</td>          <td class="paramname"><span class="paramname"><em>outError</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns information about all indexes in the collection. </p>
<p>The result is a Fleece-encoded array of dictionaries, one per index. Each dictionary has keys <code>"name"</code>, <code>"type"</code> (a <code><a class="el" href="#gaf0b8613e821a59cfdea501bec2d661cb">C4IndexType</a></code>), and <code>"expr"</code> (the source expression). </p><dl class="section note"><dt>Note</dt><dd>The caller must use a lock for Database when this function is called. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collection</td><td>The collection to check </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, will be set to the error status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Fleece-encoded array of dictionaries, or NULL on failure. </dd></dl>

</div>
</div>
<a id="gaf6d370bf5417f2e7779bf6d3cff3201b" name="gaf6d370bf5417f2e7779bf6d3cff3201b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6d370bf5417f2e7779bf6d3cff3201b">&#9670;&#160;</a></span>c4coll_isIndexTrained()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> bool c4coll_isIndexTrained </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *</td>          <td class="paramname"><span class="paramname"><em>collection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a></td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *</td>          <td class="paramname"><span class="paramname"><em>outError</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether a vector index has been trained yet or not. </p>
<p>If the index doesn't exist, or is not a vector index, then this method will return false with an appropriate error set. Otherwise, in the absence of errors, this method will zero the error and set the return value.</p>
<dl class="section note"><dt>Note</dt><dd>The caller must use a lock for Database when this function is called. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collection</td><td>The collection to index. </td></tr>
    <tr><td class="paramname">name</td><td>The name of the index </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, will be set to the error status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the index is trained. </dd></dl>

</div>
</div>
<a id="gafbd9d80af8a587afe7d137ffce4ae500" name="gafbd9d80af8a587afe7d137ffce4ae500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbd9d80af8a587afe7d137ffce4ae500">&#9670;&#160;</a></span>c4index_getCollection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> * c4index_getCollection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> *</td>          <td class="paramname"><span class="paramname"><em>index</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the collection this index belongs to. </p>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe. </dd></dl>

</div>
</div>
<a id="gab3e00aa4e24247c89d41398341059415" name="gab3e00aa4e24247c89d41398341059415"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab3e00aa4e24247c89d41398341059415">&#9670;&#160;</a></span>c4index_getExpression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> c4index_getExpression </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> *</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the indexed expression. </p>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe. </dd></dl>

</div>
</div>
<a id="gadd548fb1f517908d467a351858b1952f" name="gadd548fb1f517908d467a351858b1952f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd548fb1f517908d467a351858b1952f">&#9670;&#160;</a></span>c4index_getName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a> c4index_getName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> *</td>          <td class="paramname"><span class="paramname"><em>index</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of this index. </p>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe. </dd></dl>

</div>
</div>
<a id="ga1aeabc9630fa8f12c4aa0c391caeecd9" name="ga1aeabc9630fa8f12c4aa0c391caeecd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1aeabc9630fa8f12c4aa0c391caeecd9">&#9670;&#160;</a></span>c4index_getOptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> bool c4index_getOptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> *</td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_index_options.html">C4IndexOptions</a> *</td>          <td class="paramname"><span class="paramname"><em>outOpts</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the index's FTS/vector options, if any. </p>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index. </td></tr>
    <tr><td class="paramname">outOpts</td><td>The options will be written here, if they exist. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if there are options, false if not. </dd></dl>

</div>
</div>
<a id="gaeed965a2fb6e975ae8ce7003f0509f87" name="gaeed965a2fb6e975ae8ce7003f0509f87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeed965a2fb6e975ae8ce7003f0509f87">&#9670;&#160;</a></span>c4index_getQueryLanguage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="group___querying_d_b.html#ga23ce629032ce6fa439a0015788f2ff84">C4QueryLanguage</a> c4index_getQueryLanguage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> *</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the index's query language (JSON or N1QL). </p>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe. </dd></dl>

</div>
</div>
<a id="gac2ced5f322e839ae38a82c4b483265d1" name="gac2ced5f322e839ae38a82c4b483265d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac2ced5f322e839ae38a82c4b483265d1">&#9670;&#160;</a></span>c4index_getType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> <a class="el" href="#gaf0b8613e821a59cfdea501bec2d661cb">C4IndexType</a> c4index_getType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga0fd655282597d1c7c03b732670596c9b">C4Index</a> *</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the index's type. </p>
<dl class="section note"><dt>Note</dt><dd>This function is thread-safe. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
