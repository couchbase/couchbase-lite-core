<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LiteCore: Rarely-needed or advanced functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LiteCore
   </div>
   <div id="projectbrief">Couchbase Lite cross-platform core implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Rarely-needed or advanced functions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Shared Keys</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpd1a74e75858b6e5eb3ae9bb39066280c"></a>FLSharedKeys represents a mapping from short strings to small integers in the range [0...2047].</p>
<p>It's used by FLDict to abbreviate dictionary keys. A shared key can be stored in a fixed two bytes and is faster to compare against. However, the same mapping has to be used when encoding and when accessing the Dict.</p>
<p>To use shared keys: Call <a class="el" href="group___obscure.html#ga92dbd791b612bbd3da753e222ba34c8b">FLSharedKeys_New</a> to create a new empty mapping. After creating an FLEncoder, call <a class="el" href="group___f_l_encoder.html#ga8fb7d12a48b848e2523ee70433fdd7ac">FLEncoder_SetSharedKeys</a> so dictionary keys will be added to the mapping and written in integer form. When loading Fleece data, use <a class="el" href="group__reading.html#ga75c778228b7cf01ced7817140565bae6">FLDoc_FromResultData</a> and pass the FLSharedKeys as a parameter. Save the mapping somewhere by calling <a class="el" href="group___obscure.html#ga3af2bf8c617d005d649cdfb5b5357bbf">FLSharedKeys_GetStateData</a> or <a class="el" href="group___obscure.html#ga4dc5040795d46282e8a4d61ab81ec265">FLSharedKeys_WriteState</a>. You can later reconstitute the mapping by calling <a class="el" href="group___obscure.html#gadac536212a8d1f9d2e0e790a0c0bb4e2">FLSharedKeys_LoadStateData</a> or <a class="el" href="group___obscure.html#ga64448aed21802b035702148eeb649058">FLSharedKeys_LoadState</a> on a new empty instance. </p>
</td></tr>
<tr class="memitem:gae532a083776e5a7366008a79079b1996"><td class="memItemLeft" align="right" valign="top">typedef bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#gae532a083776e5a7366008a79079b1996">FLSharedKeysReadCallback</a>) (void *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> context, <a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>)</td></tr>
<tr class="separator:gae532a083776e5a7366008a79079b1996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga170f671f7083341403f7530024ec5cfb"><td class="memItemLeft" align="right" valign="top">typedef struct _FLSharedKeyScope *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga170f671f7083341403f7530024ec5cfb">FLSharedKeyScope</a></td></tr>
<tr class="separator:ga170f671f7083341403f7530024ec5cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92dbd791b612bbd3da753e222ba34c8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga92dbd791b612bbd3da753e222ba34c8b">FLSharedKeys_New</a> (void)</td></tr>
<tr class="memdesc:ga92dbd791b612bbd3da753e222ba34c8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new empty FLSharedKeys object, which must eventually be released.  <a href="group___obscure.html#ga92dbd791b612bbd3da753e222ba34c8b">More...</a><br /></td></tr>
<tr class="separator:ga92dbd791b612bbd3da753e222ba34c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6456bfd6f923c2dc7850527d3f232885"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga6456bfd6f923c2dc7850527d3f232885">FLSharedKeys_NewWithRead</a> (<a class="el" href="group___obscure.html#gae532a083776e5a7366008a79079b1996">FLSharedKeysReadCallback</a>, void *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> context)</td></tr>
<tr class="separator:ga6456bfd6f923c2dc7850527d3f232885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3af2bf8c617d005d649cdfb5b5357bbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga3af2bf8c617d005d649cdfb5b5357bbf">FLSharedKeys_GetStateData</a> (<a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>)</td></tr>
<tr class="memdesc:ga3af2bf8c617d005d649cdfb5b5357bbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a data blob containing the current state (all the keys and their integers.)  <a href="group___obscure.html#ga3af2bf8c617d005d649cdfb5b5357bbf">More...</a><br /></td></tr>
<tr class="separator:ga3af2bf8c617d005d649cdfb5b5357bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadac536212a8d1f9d2e0e790a0c0bb4e2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#gadac536212a8d1f9d2e0e790a0c0bb4e2">FLSharedKeys_LoadStateData</a> (<a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>, <a class="el" href="struct_f_l_slice.html">FLSlice</a>)</td></tr>
<tr class="memdesc:gadac536212a8d1f9d2e0e790a0c0bb4e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates an FLSharedKeys with saved state data created by <a class="el" href="group___obscure.html#ga3af2bf8c617d005d649cdfb5b5357bbf">FLSharedKeys_GetStateData</a>.  <a href="group___obscure.html#gadac536212a8d1f9d2e0e790a0c0bb4e2">More...</a><br /></td></tr>
<tr class="separator:gadac536212a8d1f9d2e0e790a0c0bb4e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4dc5040795d46282e8a4d61ab81ec265"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga4dc5040795d46282e8a4d61ab81ec265">FLSharedKeys_WriteState</a> (<a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>, <a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga4dc5040795d46282e8a4d61ab81ec265"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the current state to a Fleece encoder as a single value, which can later be decoded and passed to <a class="el" href="group___obscure.html#ga64448aed21802b035702148eeb649058">FLSharedKeys_LoadState</a>.  <a href="group___obscure.html#ga4dc5040795d46282e8a4d61ab81ec265">More...</a><br /></td></tr>
<tr class="separator:ga4dc5040795d46282e8a4d61ab81ec265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga64448aed21802b035702148eeb649058"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga64448aed21802b035702148eeb649058">FLSharedKeys_LoadState</a> (<a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>, <a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a>)</td></tr>
<tr class="memdesc:ga64448aed21802b035702148eeb649058"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates an FLSharedKeys object with saved state, a Fleece value previously written by <a class="el" href="group___obscure.html#ga4dc5040795d46282e8a4d61ab81ec265">FLSharedKeys_WriteState</a>.  <a href="group___obscure.html#ga64448aed21802b035702148eeb649058">More...</a><br /></td></tr>
<tr class="separator:ga64448aed21802b035702148eeb649058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25df65bb4cfa1850664909e5e99c521e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga25df65bb4cfa1850664909e5e99c521e">FLSharedKeys_Encode</a> (<a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>, <a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>, bool add)</td></tr>
<tr class="memdesc:ga25df65bb4cfa1850664909e5e99c521e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps a key string to a number in the range [0...2047], or returns -1 if it isn't mapped.  <a href="group___obscure.html#ga25df65bb4cfa1850664909e5e99c521e">More...</a><br /></td></tr>
<tr class="separator:ga25df65bb4cfa1850664909e5e99c521e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0326a22bac7ce4137ecda64d1a6c7813"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga0326a22bac7ce4137ecda64d1a6c7813">FLSharedKeys_Decode</a> (<a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>, int key)</td></tr>
<tr class="memdesc:ga0326a22bac7ce4137ecda64d1a6c7813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the key string that maps to the given integer <code>key</code>, else NULL.  <a href="group___obscure.html#ga0326a22bac7ce4137ecda64d1a6c7813">More...</a><br /></td></tr>
<tr class="separator:ga0326a22bac7ce4137ecda64d1a6c7813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacaf741df1f7ff88af01446e108d8f761"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#gacaf741df1f7ff88af01446e108d8f761">FLSharedKeys_Count</a> (<a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>)</td></tr>
<tr class="memdesc:gacaf741df1f7ff88af01446e108d8f761"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of keys in the mapping.  <a href="group___obscure.html#gacaf741df1f7ff88af01446e108d8f761">More...</a><br /></td></tr>
<tr class="separator:gacaf741df1f7ff88af01446e108d8f761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c2a62a8c3ef7ff60b65e9c6e8287810"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga8c2a62a8c3ef7ff60b65e9c6e8287810">FLSharedKeys_RevertToCount</a> (<a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>, unsigned oldCount)</td></tr>
<tr class="memdesc:ga8c2a62a8c3ef7ff60b65e9c6e8287810"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reverts an FLSharedKeys by "forgetting" any keys added since it had the count <code>oldCount</code>.  <a href="group___obscure.html#ga8c2a62a8c3ef7ff60b65e9c6e8287810">More...</a><br /></td></tr>
<tr class="separator:ga8c2a62a8c3ef7ff60b65e9c6e8287810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga160ac779165f9d6e0df773270bc7e362"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga160ac779165f9d6e0df773270bc7e362">FLSharedKeys_Retain</a> (<a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>)</td></tr>
<tr class="memdesc:ga160ac779165f9d6e0df773270bc7e362"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the reference count of an FLSharedKeys.  <a href="group___obscure.html#ga160ac779165f9d6e0df773270bc7e362">More...</a><br /></td></tr>
<tr class="separator:ga160ac779165f9d6e0df773270bc7e362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecb67ed993d73bd96ba667511c48301f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#gaecb67ed993d73bd96ba667511c48301f">FLSharedKeys_Release</a> (<a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>)</td></tr>
<tr class="memdesc:gaecb67ed993d73bd96ba667511c48301f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the reference count of an FLSharedKeys, freeing it when it reaches zero.  <a href="group___obscure.html#gaecb67ed993d73bd96ba667511c48301f">More...</a><br /></td></tr>
<tr class="separator:gaecb67ed993d73bd96ba667511c48301f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10d040bf783cee9861ac79f928d51215"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___obscure.html#ga170f671f7083341403f7530024ec5cfb">FLSharedKeyScope</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga10d040bf783cee9861ac79f928d51215">FLSharedKeyScope_WithRange</a> (<a class="el" href="struct_f_l_slice.html">FLSlice</a> range, <a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>)</td></tr>
<tr class="memdesc:ga10d040bf783cee9861ac79f928d51215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a range of memory containing Fleece data that uses the given shared keys.  <a href="group___obscure.html#ga10d040bf783cee9861ac79f928d51215">More...</a><br /></td></tr>
<tr class="separator:ga10d040bf783cee9861ac79f928d51215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf563396f07d2a624b297b66e234c927e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#gaf563396f07d2a624b297b66e234c927e">FLSharedKeyScope_Free</a> (<a class="el" href="group___obscure.html#ga170f671f7083341403f7530024ec5cfb">FLSharedKeyScope</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>)</td></tr>
<tr class="memdesc:gaf563396f07d2a624b297b66e234c927e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregisters a scope created by <a class="el" href="group___obscure.html#ga10d040bf783cee9861ac79f928d51215">FLSharedKeyScope_WithRange</a>.  <a href="group___obscure.html#gaf563396f07d2a624b297b66e234c927e">More...</a><br /></td></tr>
<tr class="separator:gaf563396f07d2a624b297b66e234c927e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Delta Compression</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp4c683b6b45f6a6ddcb64b0e62e8c7840"></a>These functions implement a fairly-efficient "delta" encoding that encapsulates the changes needed to transform one Fleece value into another.</p>
<p>The delta is expressed in JSON form.</p>
<p>A delta can be stored or transmitted as an efficient way to produce the second value, when the first is already present. Deltas are frequently used in version-control systems and efficient network protocols. </p>
</td></tr>
<tr class="memitem:ga29e30c2f02c896ce85e8f10a36ed4ff6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga29e30c2f02c896ce85e8f10a36ed4ff6">FLCreateJSONDelta</a> (<a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> old, <a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> nuu)</td></tr>
<tr class="memdesc:ga29e30c2f02c896ce85e8f10a36ed4ff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns JSON that encodes the changes to turn the value <code>old</code> into <code>nuu</code>.  <a href="group___obscure.html#ga29e30c2f02c896ce85e8f10a36ed4ff6">More...</a><br /></td></tr>
<tr class="separator:ga29e30c2f02c896ce85e8f10a36ed4ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb481d8f92f0a1692d1d72fe6e7afda5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#gaeb481d8f92f0a1692d1d72fe6e7afda5">FLEncodeJSONDelta</a> (<a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> old, <a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> nuu, <a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a> jsonEncoder)</td></tr>
<tr class="memdesc:gaeb481d8f92f0a1692d1d72fe6e7afda5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes JSON that describes the changes to turn the value <code>old</code> into <code>nuu</code>.  <a href="group___obscure.html#gaeb481d8f92f0a1692d1d72fe6e7afda5">More...</a><br /></td></tr>
<tr class="separator:gaeb481d8f92f0a1692d1d72fe6e7afda5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ec7a1ab7f15cc5d59c60c409a412cff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga6ec7a1ab7f15cc5d59c60c409a412cff">FLApplyJSONDelta</a> (<a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> old, <a class="el" href="struct_f_l_slice.html">FLSlice</a> jsonDelta, <a class="el" href="group__types.html#ga6a3de980e42db083a0ec3081c4ae8ece">FLError</a> *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> outError)</td></tr>
<tr class="memdesc:ga6ec7a1ab7f15cc5d59c60c409a412cff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies the JSON data created by <code>CreateJSONDelta</code> to the value <code>old</code>, which must be equal to the <code>old</code> value originally passed to <code>FLCreateJSONDelta</code>, and returns a Fleece document equal to the original <code>nuu</code> value.  <a href="group___obscure.html#ga6ec7a1ab7f15cc5d59c60c409a412cff">More...</a><br /></td></tr>
<tr class="separator:ga6ec7a1ab7f15cc5d59c60c409a412cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00c4df985492d75c2470c6db9b57c19c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga00c4df985492d75c2470c6db9b57c19c">FLEncodeApplyingJSONDelta</a> (<a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> old, <a class="el" href="struct_f_l_slice.html">FLSlice</a> jsonDelta, <a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a> encoder)</td></tr>
<tr class="memdesc:ga00c4df985492d75c2470c6db9b57c19c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies the (parsed) JSON data created by <code>CreateJSONDelta</code> to the value <code>old</code>, which must be equal to the <code>old</code> value originally passed to <code>FLCreateJSONDelta</code>, and writes the corresponding <code>nuu</code> value to the encoder.  <a href="group___obscure.html#ga00c4df985492d75c2470c6db9b57c19c">More...</a><br /></td></tr>
<tr class="separator:ga00c4df985492d75c2470c6db9b57c19c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Parsing Fleece Data Directly</h2></td></tr>
<tr class="memitem:gaee5130b1ff0cada002af03a7e4aa2cb7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#gaee5130b1ff0cada002af03a7e4aa2cb7">FLValue_FromData</a> (<a class="el" href="struct_f_l_slice.html">FLSlice</a> data, <a class="el" href="group__types.html#gaa17999d04c6b0a89a07c5db13d154673">FLTrust</a> trust) <a class="el" href="_compiler_support_8h.html#aaf76422cb887897c286992499106254d">FLPURE</a></td></tr>
<tr class="memdesc:gaee5130b1ff0cada002af03a7e4aa2cb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the root value in the encoded data, or NULL if validation failed.  <a href="group___obscure.html#gaee5130b1ff0cada002af03a7e4aa2cb7">More...</a><br /></td></tr>
<tr class="separator:gaee5130b1ff0cada002af03a7e4aa2cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">JSON</h2></td></tr>
<tr class="memitem:gaa65881b333ba74cd31648fa57187ab10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___f_l_slice.html#gab08438b1f08efeefe09ece8079734fdd">FLStringResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#gaa65881b333ba74cd31648fa57187ab10">FLJSON5_ToJSON</a> (<a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a> json5, <a class="el" href="group___f_l_slice.html#gab08438b1f08efeefe09ece8079734fdd">FLStringResult</a> *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> outErrorMessage, size_t *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> outErrorPos, <a class="el" href="group__types.html#ga6a3de980e42db083a0ec3081c4ae8ece">FLError</a> *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> outError)</td></tr>
<tr class="memdesc:gaa65881b333ba74cd31648fa57187ab10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts valid JSON5 <a href="https://json5.org">https://json5.org</a> to JSON.  <a href="group___obscure.html#gaa65881b333ba74cd31648fa57187ab10">More...</a><br /></td></tr>
<tr class="separator:gaa65881b333ba74cd31648fa57187ab10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42a08e82d0e854473180d040d46fea3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga42a08e82d0e854473180d040d46fea3c">FLData_ConvertJSON</a> (<a class="el" href="struct_f_l_slice.html">FLSlice</a> json, <a class="el" href="group__types.html#ga6a3de980e42db083a0ec3081c4ae8ece">FLError</a> *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> outError)</td></tr>
<tr class="memdesc:ga42a08e82d0e854473180d040d46fea3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Directly converts JSON data to Fleece-encoded data.  <a href="group___obscure.html#ga42a08e82d0e854473180d040d46fea3c">More...</a><br /></td></tr>
<tr class="separator:ga42a08e82d0e854473180d040d46fea3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Encoder</h2></td></tr>
<tr class="memitem:ga7f66deb022e513a31ea804d88efa7eef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga7f66deb022e513a31ea804d88efa7eef">FLEncoder_Amend</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a> e, <a class="el" href="struct_f_l_slice.html">FLSlice</a> base, bool reuseStrings, bool externPointers)</td></tr>
<tr class="memdesc:ga7f66deb022e513a31ea804d88efa7eef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the encoder to logically append to the given Fleece document, rather than making a standalone document.  <a href="group___obscure.html#ga7f66deb022e513a31ea804d88efa7eef">More...</a><br /></td></tr>
<tr class="separator:ga7f66deb022e513a31ea804d88efa7eef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55a7cd16ee8663dc4551d1263a359391"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga55a7cd16ee8663dc4551d1263a359391">FLEncoder_GetBase</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga55a7cd16ee8663dc4551d1263a359391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <code>base</code> value passed to FLEncoder_Amend.  <a href="group___obscure.html#ga55a7cd16ee8663dc4551d1263a359391">More...</a><br /></td></tr>
<tr class="separator:ga55a7cd16ee8663dc4551d1263a359391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cc1df46ed5d1c79ff9865047a5b3fa1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga3cc1df46ed5d1c79ff9865047a5b3fa1">FLEncoder_SuppressTrailer</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga3cc1df46ed5d1c79ff9865047a5b3fa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the encoder not to write the two-byte Fleece trailer at the end of the data.  <a href="group___obscure.html#ga3cc1df46ed5d1c79ff9865047a5b3fa1">More...</a><br /></td></tr>
<tr class="separator:ga3cc1df46ed5d1c79ff9865047a5b3fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77b105dc3adc62cfcc1e57bdfc194f92"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga77b105dc3adc62cfcc1e57bdfc194f92">FLEncoder_GetNextWritePos</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga77b105dc3adc62cfcc1e57bdfc194f92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the byte offset in the encoded data where the next value will be written.  <a href="group___obscure.html#ga77b105dc3adc62cfcc1e57bdfc194f92">More...</a><br /></td></tr>
<tr class="separator:ga77b105dc3adc62cfcc1e57bdfc194f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80e205b5b86af59cc7f43e33db62dadc"><td class="memItemLeft" align="right" valign="top">intptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga80e205b5b86af59cc7f43e33db62dadc">FLEncoder_LastValueWritten</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga80e205b5b86af59cc7f43e33db62dadc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an opaque reference to the last complete value written to the encoder, if possible.  <a href="group___obscure.html#ga80e205b5b86af59cc7f43e33db62dadc">More...</a><br /></td></tr>
<tr class="separator:ga80e205b5b86af59cc7f43e33db62dadc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74755359502972950fc48196ec3322a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga74755359502972950fc48196ec3322a3">FLEncoder_WriteValueAgain</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, intptr_t preWrittenValue)</td></tr>
<tr class="memdesc:ga74755359502972950fc48196ec3322a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes another reference (a "pointer") to an already-written value, given a reference previously returned from <a class="el" href="group___obscure.html#ga80e205b5b86af59cc7f43e33db62dadc">FLEncoder_LastValueWritten</a>.  <a href="group___obscure.html#ga74755359502972950fc48196ec3322a3">More...</a><br /></td></tr>
<tr class="separator:ga74755359502972950fc48196ec3322a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78cf1a3719f1f2bd275784f65fad8c51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga78cf1a3719f1f2bd275784f65fad8c51">FLEncoder_Snip</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga78cf1a3719f1f2bd275784f65fad8c51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the data written so far as a standalone Fleece document, whose root is the last value written.  <a href="group___obscure.html#ga78cf1a3719f1f2bd275784f65fad8c51">More...</a><br /></td></tr>
<tr class="separator:ga78cf1a3719f1f2bd275784f65fad8c51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9363537cc107c3e8cd1b9295a8fba344"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga9363537cc107c3e8cd1b9295a8fba344">FLEncoder_FinishItem</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga9363537cc107c3e8cd1b9295a8fba344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finishes encoding the current item, and returns its offset in the output data.  <a href="group___obscure.html#ga9363537cc107c3e8cd1b9295a8fba344">More...</a><br /></td></tr>
<tr class="separator:ga9363537cc107c3e8cd1b9295a8fba344"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Debugging Functions</h2></td></tr>
<tr class="memitem:ga3bda94650f7024f81424018e1037786d"><td class="memItemLeft" align="right" valign="top">const char *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga3bda94650f7024f81424018e1037786d">FLDump</a> (<a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>)</td></tr>
<tr class="memdesc:ga3bda94650f7024f81424018e1037786d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debugging function that returns a C string of JSON.  <a href="group___obscure.html#ga3bda94650f7024f81424018e1037786d">More...</a><br /></td></tr>
<tr class="separator:ga3bda94650f7024f81424018e1037786d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga528e758806f2a6a02b07c219da9d0d58"><td class="memItemLeft" align="right" valign="top">const char *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga528e758806f2a6a02b07c219da9d0d58">FLDumpData</a> (<a class="el" href="struct_f_l_slice.html">FLSlice</a> data)</td></tr>
<tr class="memdesc:ga528e758806f2a6a02b07c219da9d0d58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debugging function that parses Fleece data and returns a C string of JSON.  <a href="group___obscure.html#ga528e758806f2a6a02b07c219da9d0d58">More...</a><br /></td></tr>
<tr class="separator:ga528e758806f2a6a02b07c219da9d0d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga903e8b70bc38fad7b7a4b16239323336"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___f_l_slice.html#gab08438b1f08efeefe09ece8079734fdd">FLStringResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___obscure.html#ga903e8b70bc38fad7b7a4b16239323336">FLData_Dump</a> (<a class="el" href="struct_f_l_slice.html">FLSlice</a> data)</td></tr>
<tr class="memdesc:ga903e8b70bc38fad7b7a4b16239323336"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produces a human-readable dump of Fleece-encoded data.  <a href="group___obscure.html#ga903e8b70bc38fad7b7a4b16239323336">More...</a><br /></td></tr>
<tr class="separator:ga903e8b70bc38fad7b7a4b16239323336"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga170f671f7083341403f7530024ec5cfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga170f671f7083341403f7530024ec5cfb">&#9670;&nbsp;</a></span>FLSharedKeyScope</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct _FLSharedKeyScope* <a class="el" href="group___obscure.html#ga170f671f7083341403f7530024ec5cfb">FLSharedKeyScope</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gae532a083776e5a7366008a79079b1996"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae532a083776e5a7366008a79079b1996">&#9670;&nbsp;</a></span>FLSharedKeysReadCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bool(* FLSharedKeysReadCallback) (void *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> context, <a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6ec7a1ab7f15cc5d59c60c409a412cff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ec7a1ab7f15cc5d59c60c409a412cff">&#9670;&nbsp;</a></span>FLApplyJSONDelta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a> FLApplyJSONDelta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td>
          <td class="paramname"><em>jsonDelta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga6a3de980e42db083a0ec3081c4ae8ece">FLError</a> *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Applies the JSON data created by <code>CreateJSONDelta</code> to the value <code>old</code>, which must be equal to the <code>old</code> value originally passed to <code>FLCreateJSONDelta</code>, and returns a Fleece document equal to the original <code>nuu</code> value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old</td><td>A value that's typically the old/original state of some data. This must be equal to the <code>old</code> value used when creating the <code>jsonDelta</code>. </td></tr>
    <tr><td class="paramname">jsonDelta</td><td>A JSON-encoded delta created by <code>FLCreateJSONDelta</code> or <code>FLEncodeJSONDelta</code>. </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, error information will be stored where this points, if non-null. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The corresponding <code>nuu</code> value, encoded as Fleece, or null if an error occurred. </dd></dl>

</div>
</div>
<a id="ga29e30c2f02c896ce85e8f10a36ed4ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga29e30c2f02c896ce85e8f10a36ed4ff6">&#9670;&nbsp;</a></span>FLCreateJSONDelta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a> FLCreateJSONDelta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>nuu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns JSON that encodes the changes to turn the value <code>old</code> into <code>nuu</code>. </p>
<p>(The format is documented in Fleece.md, but you should treat it as a black box.) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old</td><td>A value that's typically the old/original state of some data. </td></tr>
    <tr><td class="paramname">nuu</td><td>A value that's typically the new/changed state of the <code>old</code> data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JSON data representing the changes from <code>old</code> to <code>nuu</code>, or NULL on (extremely unlikely) failure. </dd></dl>

</div>
</div>
<a id="ga42a08e82d0e854473180d040d46fea3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga42a08e82d0e854473180d040d46fea3c">&#9670;&nbsp;</a></span>FLData_ConvertJSON()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a> FLData_ConvertJSON </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td>
          <td class="paramname"><em>json</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga6a3de980e42db083a0ec3081c4ae8ece">FLError</a> *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Directly converts JSON data to Fleece-encoded data. </p>
<p>Not commonly needed. Prefer <a class="el" href="_f_l_j_s_o_n_8h.html#a619b6638531b4a90c929717323f46779">FLDoc_FromJSON</a> instead. </p>

</div>
</div>
<a id="ga903e8b70bc38fad7b7a4b16239323336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga903e8b70bc38fad7b7a4b16239323336">&#9670;&nbsp;</a></span>FLData_Dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___f_l_slice.html#gab08438b1f08efeefe09ece8079734fdd">FLStringResult</a> FLData_Dump </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Produces a human-readable dump of Fleece-encoded data. </p>
<p>This is only useful if you already know, or want to learn, the encoding format. </p>

</div>
</div>
<a id="ga3bda94650f7024f81424018e1037786d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3bda94650f7024f81424018e1037786d">&#9670;&nbsp;</a></span>FLDump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> FLDump </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a>&#160;</td>
          <td class="paramname"><em>FL_NULLABLE</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Debugging function that returns a C string of JSON. </p>
<p>Does not free the string's memory! </p>

</div>
</div>
<a id="ga528e758806f2a6a02b07c219da9d0d58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga528e758806f2a6a02b07c219da9d0d58">&#9670;&nbsp;</a></span>FLDumpData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> FLDumpData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Debugging function that parses Fleece data and returns a C string of JSON. </p>
<p>Does not free the string's memory! </p>

</div>
</div>
<a id="ga00c4df985492d75c2470c6db9b57c19c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00c4df985492d75c2470c6db9b57c19c">&#9670;&nbsp;</a></span>FLEncodeApplyingJSONDelta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncodeApplyingJSONDelta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td>
          <td class="paramname"><em>jsonDelta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"><em>encoder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Applies the (parsed) JSON data created by <code>CreateJSONDelta</code> to the value <code>old</code>, which must be equal to the <code>old</code> value originally passed to <code>FLCreateJSONDelta</code>, and writes the corresponding <code>nuu</code> value to the encoder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old</td><td>A value that's typically the old/original state of some data. This must be equal to the <code>old</code> value used when creating the <code>jsonDelta</code>. </td></tr>
    <tr><td class="paramname">jsonDelta</td><td>A JSON-encoded delta created by <code>FLCreateJSONDelta</code> or <code>FLEncodeJSONDelta</code>. </td></tr>
    <tr><td class="paramname">encoder</td><td>A Fleece encoder to write the decoded <code>nuu</code> value to. (JSON encoding is not supported.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on error; call <code>FLEncoder_GetError</code> for details. </dd></dl>

</div>
</div>
<a id="gaeb481d8f92f0a1692d1d72fe6e7afda5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeb481d8f92f0a1692d1d72fe6e7afda5">&#9670;&nbsp;</a></span>FLEncodeJSONDelta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncodeJSONDelta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>nuu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"><em>jsonEncoder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes JSON that describes the changes to turn the value <code>old</code> into <code>nuu</code>. </p>
<p>(The format is documented in Fleece.md, but you should treat it as a black box.) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old</td><td>A value that's typically the old/original state of some data. </td></tr>
    <tr><td class="paramname">nuu</td><td>A value that's typically the new/changed state of the <code>old</code> data. </td></tr>
    <tr><td class="paramname">jsonEncoder</td><td>An encoder to write the JSON to. Must have been created using <code>FLEncoder_NewWithOptions</code>, with JSON or JSON5 format. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on (extremely unlikely) failure. </dd></dl>

</div>
</div>
<a id="ga7f66deb022e513a31ea804d88efa7eef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f66deb022e513a31ea804d88efa7eef">&#9670;&nbsp;</a></span>FLEncoder_Amend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLEncoder_Amend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reuseStrings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>externPointers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells the encoder to logically append to the given Fleece document, rather than making a standalone document. </p>
<p>Any calls to <a class="el" href="group___f_l_encoder.html#ga9f3b2ee2fb101cf71787f23cb8b2086b" title="Writes a Fleece Value to an Encoder.">FLEncoder_WriteValue()</a> where the value points inside the base data will write a pointer back to the original value. The resulting data returned by <a class="el" href="group___f_l_encoder.html#gaeb6bb0ad178b17336d39fbe1881a091c" title="Ends encoding; if there has been no error, it returns the encoded Fleece data packaged in an FLDoc.">FLEncoder_FinishDoc()</a> will <em>NOT</em> be standalone; it can only be used by first appending it to the base data. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The FLEncoder affected. </td></tr>
    <tr><td class="paramname">base</td><td>The base document to create an amendment of. </td></tr>
    <tr><td class="paramname">reuseStrings</td><td>If true, then writing a string that already exists in the base will just create a pointer back to the original. But the encoder has to scan the base for strings first. </td></tr>
    <tr><td class="paramname">externPointers</td><td>If true, pointers into the base will be marked with the <code>extern</code> flag. This allows them to be resolved using the <code>FLResolver_Begin</code> function, so that when the delta is used the base document can be anywhere in memory, not just immediately preceding the delta document. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9363537cc107c3e8cd1b9295a8fba344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9363537cc107c3e8cd1b9295a8fba344">&#9670;&nbsp;</a></span>FLEncoder_FinishItem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FLEncoder_FinishItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finishes encoding the current item, and returns its offset in the output data. </p>

</div>
</div>
<a id="ga55a7cd16ee8663dc4551d1263a359391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55a7cd16ee8663dc4551d1263a359391">&#9670;&nbsp;</a></span>FLEncoder_GetBase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_l_slice.html">FLSlice</a> FLEncoder_GetBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the <code>base</code> value passed to FLEncoder_Amend. </p>

</div>
</div>
<a id="ga77b105dc3adc62cfcc1e57bdfc194f92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga77b105dc3adc62cfcc1e57bdfc194f92">&#9670;&nbsp;</a></span>FLEncoder_GetNextWritePos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FLEncoder_GetNextWritePos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the byte offset in the encoded data where the next value will be written. </p>
<p>(Due to internal buffering, this is not the same as FLEncoder_BytesWritten.) </p>

</div>
</div>
<a id="ga80e205b5b86af59cc7f43e33db62dadc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga80e205b5b86af59cc7f43e33db62dadc">&#9670;&nbsp;</a></span>FLEncoder_LastValueWritten()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">intptr_t FLEncoder_LastValueWritten </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an opaque reference to the last complete value written to the encoder, if possible. </p>
<p>Fails (returning 0) if nothing has been written, or if the value is inline and can't be referenced this way &ndash; that only happens with small scalars or empty collections. </p>

</div>
</div>
<a id="ga78cf1a3719f1f2bd275784f65fad8c51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78cf1a3719f1f2bd275784f65fad8c51">&#9670;&nbsp;</a></span>FLEncoder_Snip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a> FLEncoder_Snip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the data written so far as a standalone Fleece document, whose root is the last value written. </p>
<p>You can continue writing, and the final output returned by <a class="el" href="group___f_l_encoder.html#ga33336e666e5f727d3de4bb3dcc3b7839">FLEncoder_Finish</a> will consist of everything after this point. That second part can be used in the future by loading it as an <code>FLDoc</code> with the first part as its <code>extern</code> reference. </p>

</div>
</div>
<a id="ga3cc1df46ed5d1c79ff9865047a5b3fa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3cc1df46ed5d1c79ff9865047a5b3fa1">&#9670;&nbsp;</a></span>FLEncoder_SuppressTrailer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLEncoder_SuppressTrailer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells the encoder not to write the two-byte Fleece trailer at the end of the data. </p>
<p>This is only useful for certain special purposes. </p>

</div>
</div>
<a id="ga74755359502972950fc48196ec3322a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga74755359502972950fc48196ec3322a3">&#9670;&nbsp;</a></span>FLEncoder_WriteValueAgain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLEncoder_WriteValueAgain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intptr_t&#160;</td>
          <td class="paramname"><em>preWrittenValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes another reference (a "pointer") to an already-written value, given a reference previously returned from <a class="el" href="group___obscure.html#ga80e205b5b86af59cc7f43e33db62dadc">FLEncoder_LastValueWritten</a>. </p>
<p>The effect is exactly the same as if you wrote the entire value again, except that the size of the encoded data only grows by 4 bytes. </p>

</div>
</div>
<a id="gaa65881b333ba74cd31648fa57187ab10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa65881b333ba74cd31648fa57187ab10">&#9670;&nbsp;</a></span>FLJSON5_ToJSON()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___f_l_slice.html#gab08438b1f08efeefe09ece8079734fdd">FLStringResult</a> FLJSON5_ToJSON </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>&#160;</td>
          <td class="paramname"><em>json5</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___f_l_slice.html#gab08438b1f08efeefe09ece8079734fdd">FLStringResult</a> *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>outErrorMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>outErrorPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga6a3de980e42db083a0ec3081c4ae8ece">FLError</a> *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts valid JSON5 <a href="https://json5.org">https://json5.org</a> to JSON. </p>
<p>Among other things, it converts single quotes to double, adds missing quotes around dictionary keys, removes trailing commas, and removes comments. </p><dl class="section note"><dt>Note</dt><dd>If given invalid JSON5, it will <em>usually</em> return an error, but may just ouput comparably invalid JSON, in which case the caller's subsequent JSON parsing will detect the error. The types of errors it overlooks tend to be subtleties of string or number encoding. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">json5</td><td>The JSON5 to parse </td></tr>
    <tr><td class="paramname">outErrorMessage</td><td>On failure, the error message will be stored here (if not NULL.) As this is a <a class="el" href="group___f_l_slice.html#gab08438b1f08efeefe09ece8079734fdd">FLStringResult</a>, you will be responsible for freeing it. </td></tr>
    <tr><td class="paramname">outErrorPos</td><td>On a parse error, the byte offset in the input where the error occurred will be stored here (if it's not NULL.) </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, the error code will be stored here (if it's not NULL.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The converted JSON. </dd></dl>

</div>
</div>
<a id="gacaf741df1f7ff88af01446e108d8f761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacaf741df1f7ff88af01446e108d8f761">&#9670;&nbsp;</a></span>FLSharedKeys_Count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned FLSharedKeys_Count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of keys in the mapping. </p>
<p>This number increases whenever the mapping is changed, and never decreases. </p>

</div>
</div>
<a id="ga0326a22bac7ce4137ecda64d1a6c7813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0326a22bac7ce4137ecda64d1a6c7813">&#9670;&nbsp;</a></span>FLSharedKeys_Decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a> FLSharedKeys_Decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the key string that maps to the given integer <code>key</code>, else NULL. </p>

</div>
</div>
<a id="ga25df65bb4cfa1850664909e5e99c521e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25df65bb4cfa1850664909e5e99c521e">&#9670;&nbsp;</a></span>FLSharedKeys_Encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FLSharedKeys_Encode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>add</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maps a key string to a number in the range [0...2047], or returns -1 if it isn't mapped. </p>
<p>If the key doesn't already have a mapping, and the <code>add</code> flag is true, a new mapping is assigned and returned. However, the <code>add</code> flag has no effect if the key is unmappable (is longer than 16 bytes or contains non-identifier characters), or if all available integers have been assigned. </p>

</div>
</div>
<a id="ga3af2bf8c617d005d649cdfb5b5357bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3af2bf8c617d005d649cdfb5b5357bbf">&#9670;&nbsp;</a></span>FLSharedKeys_GetStateData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a> FLSharedKeys_GetStateData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a data blob containing the current state (all the keys and their integers.) </p>

</div>
</div>
<a id="ga64448aed21802b035702148eeb649058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga64448aed21802b035702148eeb649058">&#9670;&nbsp;</a></span>FLSharedKeys_LoadState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLSharedKeys_LoadState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates an FLSharedKeys object with saved state, a Fleece value previously written by <a class="el" href="group___obscure.html#ga4dc5040795d46282e8a4d61ab81ec265">FLSharedKeys_WriteState</a>. </p>

</div>
</div>
<a id="gadac536212a8d1f9d2e0e790a0c0bb4e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadac536212a8d1f9d2e0e790a0c0bb4e2">&#9670;&nbsp;</a></span>FLSharedKeys_LoadStateData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLSharedKeys_LoadStateData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates an FLSharedKeys with saved state data created by <a class="el" href="group___obscure.html#ga3af2bf8c617d005d649cdfb5b5357bbf">FLSharedKeys_GetStateData</a>. </p>

</div>
</div>
<a id="ga92dbd791b612bbd3da753e222ba34c8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92dbd791b612bbd3da753e222ba34c8b">&#9670;&nbsp;</a></span>FLSharedKeys_New()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a> FLSharedKeys_New </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new empty FLSharedKeys object, which must eventually be released. </p>

</div>
</div>
<a id="ga6456bfd6f923c2dc7850527d3f232885"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6456bfd6f923c2dc7850527d3f232885">&#9670;&nbsp;</a></span>FLSharedKeys_NewWithRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a> FLSharedKeys_NewWithRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___obscure.html#gae532a083776e5a7366008a79079b1996">FLSharedKeysReadCallback</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *<a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaecb67ed993d73bd96ba667511c48301f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecb67ed993d73bd96ba667511c48301f">&#9670;&nbsp;</a></span>FLSharedKeys_Release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLSharedKeys_Release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td>
          <td class="paramname"><em>FL_NULLABLE</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decrements the reference count of an FLSharedKeys, freeing it when it reaches zero. </p>

</div>
</div>
<a id="ga160ac779165f9d6e0df773270bc7e362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga160ac779165f9d6e0df773270bc7e362">&#9670;&nbsp;</a></span>FLSharedKeys_Retain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> FLSharedKeys_Retain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td>
          <td class="paramname"><em>FL_NULLABLE</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increments the reference count of an FLSharedKeys. </p>

</div>
</div>
<a id="ga8c2a62a8c3ef7ff60b65e9c6e8287810"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8c2a62a8c3ef7ff60b65e9c6e8287810">&#9670;&nbsp;</a></span>FLSharedKeys_RevertToCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLSharedKeys_RevertToCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>oldCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reverts an FLSharedKeys by "forgetting" any keys added since it had the count <code>oldCount</code>. </p>

</div>
</div>
<a id="ga4dc5040795d46282e8a4d61ab81ec265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4dc5040795d46282e8a4d61ab81ec265">&#9670;&nbsp;</a></span>FLSharedKeys_WriteState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLSharedKeys_WriteState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes the current state to a Fleece encoder as a single value, which can later be decoded and passed to <a class="el" href="group___obscure.html#ga64448aed21802b035702148eeb649058">FLSharedKeys_LoadState</a>. </p>

</div>
</div>
<a id="gaf563396f07d2a624b297b66e234c927e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf563396f07d2a624b297b66e234c927e">&#9670;&nbsp;</a></span>FLSharedKeyScope_Free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLSharedKeyScope_Free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___obscure.html#ga170f671f7083341403f7530024ec5cfb">FLSharedKeyScope</a>&#160;</td>
          <td class="paramname"><em>FL_NULLABLE</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregisters a scope created by <a class="el" href="group___obscure.html#ga10d040bf783cee9861ac79f928d51215">FLSharedKeyScope_WithRange</a>. </p>

</div>
</div>
<a id="ga10d040bf783cee9861ac79f928d51215"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10d040bf783cee9861ac79f928d51215">&#9670;&nbsp;</a></span>FLSharedKeyScope_WithRange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___obscure.html#ga170f671f7083341403f7530024ec5cfb">FLSharedKeyScope</a> FLSharedKeyScope_WithRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a range of memory containing Fleece data that uses the given shared keys. </p>
<p>This allows Dict accessors to look up the values of shared keys. </p>

</div>
</div>
<a id="gaee5130b1ff0cada002af03a7e4aa2cb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee5130b1ff0cada002af03a7e4aa2cb7">&#9670;&nbsp;</a></span>FLValue_FromData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> <a class="el" href="_compiler_support_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> FLValue_FromData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gaa17999d04c6b0a89a07c5db13d154673">FLTrust</a>&#160;</td>
          <td class="paramname"><em>trust</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to the root value in the encoded data, or NULL if validation failed. </p>
<p>You should generally use an <a class="el" href="group__types.html#ga6fcf80a526bde8519ac9e48db7746f14">FLDoc</a> instead; it's safer. Here's why:</p>
<p>On the plus side, <a class="el" href="group___obscure.html#gaee5130b1ff0cada002af03a7e4aa2cb7">FLValue_FromData</a> is <em>extremely</em> fast: it allocates no memory, only scans enough of the data to ensure it's valid (and if <code>trust</code> is set to <code>kFLTrusted</code>, it doesn't even do that.)</p>
<p>But it's potentially <em>very</em> dangerous: the FLValue, and all values found through it, are only valid as long as the input <code>data</code> remains intact and unchanged. If you violate that, the values will be pointing to garbage and Bad Things will happen when you access them... </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
