<!--
Copyright 2016-Present Couchbase, Inc.
Use of this software is governed by the Business Source License included in
the file licenses/BSL-Couchbase.txt.  As of the Change Date specified in that
file, in accordance with the Business Source License, use of this software will
be governed by the Apache License, Version 2.0, included in the file
licenses/APL2.txt.
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LiteCore: c4Observer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LiteCore
   </div>
   <div id="projectbrief">Couchbase Lite cross-platform core implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7de30d8d6441eca96418c0d836f3a440.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">c4Observer.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="c4_document_types_8h_source.html">c4DocumentTypes.h</a>&quot;</code><br />
</div>
<p><a href="c4_observer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Collection Observer</h2></td></tr>
<tr class="memitem:ga5c70a4dd1c29ad86859bf29b471b2a9f"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#ga5c70a4dd1c29ad86859bf29b471b2a9f">C4CollectionObserverCallback</a>) (<a class="el" href="group___base.html#ga6ee85db00f1ffcf03308ef5350855e29">C4CollectionObserver</a> *observer, void *context)</td></tr>
<tr class="memdesc:ga5c70a4dd1c29ad86859bf29b471b2a9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback invoked by a collection/database observer.  <a href="group___observer.html#ga5c70a4dd1c29ad86859bf29b471b2a9f">More...</a><br /></td></tr>
<tr class="separator:ga5c70a4dd1c29ad86859bf29b471b2a9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3ca6abae19d9a8954901867746092ec"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group___observer.html#ga5c70a4dd1c29ad86859bf29b471b2a9f">C4CollectionObserverCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#gad3ca6abae19d9a8954901867746092ec">C4DatabaseObserverCallback</a></td></tr>
<tr class="separator:gad3ca6abae19d9a8954901867746092ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ad9cad66ef86c85f7227f178e64070e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#gadfd2a7d2677acc7971ea199199f0a7ac">C4DatabaseObserver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#ga6ad9cad66ef86c85f7227f178e64070e">c4dbobs_create</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *database, <a class="el" href="group___observer.html#gad3ca6abae19d9a8954901867746092ec">C4DatabaseObserverCallback</a> callback, void *context)</td></tr>
<tr class="memdesc:ga6ad9cad66ef86c85f7227f178e64070e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a collection observer on the database's default collection.  <a href="group___observer.html#ga6ad9cad66ef86c85f7227f178e64070e">More...</a><br /></td></tr>
<tr class="separator:ga6ad9cad66ef86c85f7227f178e64070e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e0ed067df021283f5ebc174320526d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga6ee85db00f1ffcf03308ef5350855e29">C4CollectionObserver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#ga0e0ed067df021283f5ebc174320526d1">c4dbobs_createOnCollection</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___observer.html#ga5c70a4dd1c29ad86859bf29b471b2a9f">C4CollectionObserverCallback</a> callback, void *context)</td></tr>
<tr class="memdesc:ga0e0ed067df021283f5ebc174320526d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new collection observer, with a callback that will be invoked after one or more documents in the collection have changed.  <a href="group___observer.html#ga0e0ed067df021283f5ebc174320526d1">More...</a><br /></td></tr>
<tr class="separator:ga0e0ed067df021283f5ebc174320526d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97a1d7faa77087fdd1f6352b50deb1e7"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#ga97a1d7faa77087fdd1f6352b50deb1e7">c4dbobs_getChanges</a> (<a class="el" href="group___base.html#ga6ee85db00f1ffcf03308ef5350855e29">C4CollectionObserver</a> *observer, <a class="el" href="struct_c4_collection_change.html">C4CollectionChange</a> outChanges[], uint32_t maxChanges, bool *outExternal)</td></tr>
<tr class="memdesc:ga97a1d7faa77087fdd1f6352b50deb1e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identifies which documents have changed in the collection since the last time this function was called, or since the observer was created.  <a href="group___observer.html#ga97a1d7faa77087fdd1f6352b50deb1e7">More...</a><br /></td></tr>
<tr class="separator:ga97a1d7faa77087fdd1f6352b50deb1e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c2c42d5f1db1d69b5d4fcb074d90d85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#ga2c2c42d5f1db1d69b5d4fcb074d90d85">c4dbobs_releaseChanges</a> (<a class="el" href="struct_c4_collection_change.html">C4CollectionChange</a> changes[], uint32_t numChanges)</td></tr>
<tr class="memdesc:ga2c2c42d5f1db1d69b5d4fcb074d90d85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the memory used by the <code><a class="el" href="struct_c4_collection_change.html" title="Represents a change to a document in a collection, as returned from c4dbobs_getChanges.">C4CollectionChange</a></code> structs (to hold the docID and revID strings.) This must be called after <a class="el" href="group___observer.html#ga97a1d7faa77087fdd1f6352b50deb1e7">c4dbobs_getChanges()</a>.  <a href="group___observer.html#ga2c2c42d5f1db1d69b5d4fcb074d90d85">More...</a><br /></td></tr>
<tr class="separator:ga2c2c42d5f1db1d69b5d4fcb074d90d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27279544b6677cde49610300cb80d329"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#ga27279544b6677cde49610300cb80d329">c4dbobs_free</a> (<a class="el" href="group___base.html#ga6ee85db00f1ffcf03308ef5350855e29">C4CollectionObserver</a> *)</td></tr>
<tr class="memdesc:ga27279544b6677cde49610300cb80d329"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops an observer and frees the resources it's using.  <a href="group___observer.html#ga27279544b6677cde49610300cb80d329">More...</a><br /></td></tr>
<tr class="separator:ga27279544b6677cde49610300cb80d329"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Document Observer</h2></td></tr>
<tr class="memitem:ga7dc3d2b9d33b69b50801df8deb73b774"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#ga7dc3d2b9d33b69b50801df8deb73b774">C4DocumentObserverCallback</a>) (<a class="el" href="group___base.html#ga8a4ef01035322ff935bae1ea30a9199e">C4DocumentObserver</a> *observer, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, <a class="el" href="group___base.html#ga6c2d959939ef287ba3f2ee719c949229">C4SequenceNumber</a> sequence, void *context)</td></tr>
<tr class="memdesc:ga7dc3d2b9d33b69b50801df8deb73b774"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback invoked by a document observer.  <a href="group___observer.html#ga7dc3d2b9d33b69b50801df8deb73b774">More...</a><br /></td></tr>
<tr class="separator:ga7dc3d2b9d33b69b50801df8deb73b774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35fd9f05b691b0b188ecdb6596ebcd52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga8a4ef01035322ff935bae1ea30a9199e">C4DocumentObserver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#ga35fd9f05b691b0b188ecdb6596ebcd52">c4docobs_create</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *database, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, <a class="el" href="group___observer.html#ga7dc3d2b9d33b69b50801df8deb73b774">C4DocumentObserverCallback</a> callback, void *context)</td></tr>
<tr class="memdesc:ga35fd9f05b691b0b188ecdb6596ebcd52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new document observer, on a document in the database's default collection.  <a href="group___observer.html#ga35fd9f05b691b0b188ecdb6596ebcd52">More...</a><br /></td></tr>
<tr class="separator:ga35fd9f05b691b0b188ecdb6596ebcd52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7806edcd8245c1fdd6b9d0171dc7e3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga8a4ef01035322ff935bae1ea30a9199e">C4DocumentObserver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#gac7806edcd8245c1fdd6b9d0171dc7e3f">c4docobs_createWithCollection</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, <a class="el" href="group___observer.html#ga7dc3d2b9d33b69b50801df8deb73b774">C4DocumentObserverCallback</a> callback, void *context)</td></tr>
<tr class="memdesc:gac7806edcd8245c1fdd6b9d0171dc7e3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new document observer, with a callback that will be invoked when the document changes.  <a href="group___observer.html#gac7806edcd8245c1fdd6b9d0171dc7e3f">More...</a><br /></td></tr>
<tr class="separator:gac7806edcd8245c1fdd6b9d0171dc7e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b6efc206ab418ee64db9534eb47d85f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#ga7b6efc206ab418ee64db9534eb47d85f">c4docobs_free</a> (<a class="el" href="group___base.html#ga8a4ef01035322ff935bae1ea30a9199e">C4DocumentObserver</a> *)</td></tr>
<tr class="memdesc:ga7b6efc206ab418ee64db9534eb47d85f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops an observer and frees the resources it's using.  <a href="group___observer.html#ga7b6efc206ab418ee64db9534eb47d85f">More...</a><br /></td></tr>
<tr class="separator:ga7b6efc206ab418ee64db9534eb47d85f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Query Observer</h2></td></tr>
<tr class="memitem:gad4ae536243b44f5e79c0de373318c22d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#gad4ae536243b44f5e79c0de373318c22d">C4QueryObserverCallback</a>) (<a class="el" href="group___base.html#ga89a77eddf7600ce9e9e17933e8ef8a75">C4QueryObserver</a> *observer, <a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *query, void *context)</td></tr>
<tr class="memdesc:gad4ae536243b44f5e79c0de373318c22d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback invoked by a query observer, notifying that the query results have changed.  <a href="group___observer.html#gad4ae536243b44f5e79c0de373318c22d">More...</a><br /></td></tr>
<tr class="separator:gad4ae536243b44f5e79c0de373318c22d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51bd1555294325d294d99e20f69c21cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga89a77eddf7600ce9e9e17933e8ef8a75">C4QueryObserver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#ga51bd1555294325d294d99e20f69c21cb">c4queryobs_create</a> (<a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *query, <a class="el" href="group___observer.html#gad4ae536243b44f5e79c0de373318c22d">C4QueryObserverCallback</a> callback, void *context)</td></tr>
<tr class="memdesc:ga51bd1555294325d294d99e20f69c21cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new query observer, with a callback that will be invoked when the query results change, with an enumerator containing the new results.  <a href="group___observer.html#ga51bd1555294325d294d99e20f69c21cb">More...</a><br /></td></tr>
<tr class="separator:ga51bd1555294325d294d99e20f69c21cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade4a710f4a7d15678d06e16caf800855"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#gade4a710f4a7d15678d06e16caf800855">c4queryobs_setEnabled</a> (<a class="el" href="group___base.html#ga89a77eddf7600ce9e9e17933e8ef8a75">C4QueryObserver</a> *obs, bool enabled)</td></tr>
<tr class="memdesc:gade4a710f4a7d15678d06e16caf800855"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables a query observer so its callback can be called, or disables it to stop callbacks.  <a href="group___observer.html#gade4a710f4a7d15678d06e16caf800855">More...</a><br /></td></tr>
<tr class="separator:gade4a710f4a7d15678d06e16caf800855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71f1afdb80da610b96c7172846d96401"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#ga71f1afdb80da610b96c7172846d96401">c4queryobs_getEnumerator</a> (<a class="el" href="group___base.html#ga89a77eddf7600ce9e9e17933e8ef8a75">C4QueryObserver</a> *obs, bool forget, <a class="el" href="struct_c4_error.html">C4Error</a> *error)</td></tr>
<tr class="memdesc:ga71f1afdb80da610b96c7172846d96401"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current query results, if any.  <a href="group___observer.html#ga71f1afdb80da610b96c7172846d96401">More...</a><br /></td></tr>
<tr class="separator:ga71f1afdb80da610b96c7172846d96401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b40933cebb5741d2224e726a8a50efd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___observer.html#ga0b40933cebb5741d2224e726a8a50efd">c4queryobs_free</a> (<a class="el" href="group___base.html#ga89a77eddf7600ce9e9e17933e8ef8a75">C4QueryObserver</a> *)</td></tr>
<tr class="memdesc:ga0b40933cebb5741d2224e726a8a50efd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops an observer and frees the resources it's using.  <a href="group___observer.html#ga0b40933cebb5741d2224e726a8a50efd">More...</a><br /></td></tr>
<tr class="separator:ga0b40933cebb5741d2224e726a8a50efd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
