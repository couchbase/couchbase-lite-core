<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LiteCore: Fleece Encoders</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LiteCore
   </div>
   <div id="projectbrief">Couchbase Lite cross-platform core implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Fleece Encoders</div>  </div>
</div><!--header-->
<div class="contents">

<p>An FLEncoder generates encoded Fleece or JSON data.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Setup and configuration</h2></td></tr>
<tr class="memitem:gaa70cf9f00c736474273a7e4f17a25488"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#gaa70cf9f00c736474273a7e4f17a25488">FLEncoderFormat</a> { <a class="el" href="group___f_l_encoder.html#ggaa70cf9f00c736474273a7e4f17a25488a7444e68ba78a98d298a2960b596da879">kFLEncodeFleece</a>
, <a class="el" href="group___f_l_encoder.html#ggaa70cf9f00c736474273a7e4f17a25488ab5ad3188bf3fb79031b28cddc177736e">kFLEncodeJSON</a>
, <a class="el" href="group___f_l_encoder.html#ggaa70cf9f00c736474273a7e4f17a25488a9285c9e91464ad02e55b6759e28eff2c">kFLEncodeJSON5</a>
 }</td></tr>
<tr class="memdesc:gaa70cf9f00c736474273a7e4f17a25488"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output formats a FLEncoder can generate.  <a href="group___f_l_encoder.html#gaa70cf9f00c736474273a7e4f17a25488">More...</a><br /></td></tr>
<tr class="separator:gaa70cf9f00c736474273a7e4f17a25488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b437f028d236086520565285d3645c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga4b437f028d236086520565285d3645c1">FLEncoder_New</a> (void)</td></tr>
<tr class="memdesc:ga4b437f028d236086520565285d3645c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new encoder, for generating Fleece data.  <a href="group___f_l_encoder.html#ga4b437f028d236086520565285d3645c1">More...</a><br /></td></tr>
<tr class="separator:ga4b437f028d236086520565285d3645c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab393a9d1e4ed41f9fd352cf398245c68"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#gab393a9d1e4ed41f9fd352cf398245c68">FLEncoder_NewWithOptions</a> (<a class="el" href="group___f_l_encoder.html#gaa70cf9f00c736474273a7e4f17a25488">FLEncoderFormat</a> format, size_t reserveSize, bool uniqueStrings)</td></tr>
<tr class="memdesc:gab393a9d1e4ed41f9fd352cf398245c68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new encoder, allowing some options to be customized.  <a href="group___f_l_encoder.html#gab393a9d1e4ed41f9fd352cf398245c68">More...</a><br /></td></tr>
<tr class="separator:gab393a9d1e4ed41f9fd352cf398245c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2256bf83af810b36737b7cf199bcb0d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga2256bf83af810b36737b7cf199bcb0d0">FLEncoder_NewWritingToFile</a> (FILE *, bool uniqueStrings)</td></tr>
<tr class="memdesc:ga2256bf83af810b36737b7cf199bcb0d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new Fleece encoder that writes to a file, not to memory.  <a href="group___f_l_encoder.html#ga2256bf83af810b36737b7cf199bcb0d0">More...</a><br /></td></tr>
<tr class="separator:ga2256bf83af810b36737b7cf199bcb0d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90c959f8a1a9ba872c03225815fd1c4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga90c959f8a1a9ba872c03225815fd1c4b">FLEncoder_Free</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a> <a class="el" href="_base_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>)</td></tr>
<tr class="memdesc:ga90c959f8a1a9ba872c03225815fd1c4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the space used by an encoder.  <a href="group___f_l_encoder.html#ga90c959f8a1a9ba872c03225815fd1c4b">More...</a><br /></td></tr>
<tr class="separator:ga90c959f8a1a9ba872c03225815fd1c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8fb7d12a48b848e2523ee70433fdd7ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga8fb7d12a48b848e2523ee70433fdd7ac">FLEncoder_SetSharedKeys</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, <a class="el" href="group__reading.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a> <a class="el" href="_base_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>)</td></tr>
<tr class="memdesc:ga8fb7d12a48b848e2523ee70433fdd7ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the encoder to use a shared-keys mapping when encoding dictionary keys.  <a href="group___f_l_encoder.html#ga8fb7d12a48b848e2523ee70433fdd7ac">More...</a><br /></td></tr>
<tr class="separator:ga8fb7d12a48b848e2523ee70433fdd7ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0c74ad395eeee7e44af109d9d28f753"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#gac0c74ad395eeee7e44af109d9d28f753">FLEncoder_SetExtraInfo</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, void *<a class="el" href="_base_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> info)</td></tr>
<tr class="memdesc:gac0c74ad395eeee7e44af109d9d28f753"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associates an arbitrary user-defined value with the encoder.  <a href="group___f_l_encoder.html#gac0c74ad395eeee7e44af109d9d28f753">More...</a><br /></td></tr>
<tr class="separator:gac0c74ad395eeee7e44af109d9d28f753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga565050e8b7d07906bc04c2195fbcb210"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga565050e8b7d07906bc04c2195fbcb210">FLEncoder_GetExtraInfo</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga565050e8b7d07906bc04c2195fbcb210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the user-defined value associated with the encoder; NULL by default.  <a href="group___f_l_encoder.html#ga565050e8b7d07906bc04c2195fbcb210">More...</a><br /></td></tr>
<tr class="separator:ga565050e8b7d07906bc04c2195fbcb210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f66deb022e513a31ea804d88efa7eef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga7f66deb022e513a31ea804d88efa7eef">FLEncoder_Amend</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a> e, <a class="el" href="struct_f_l_slice.html">FLSlice</a> base, bool reuseStrings, bool externPointers)</td></tr>
<tr class="memdesc:ga7f66deb022e513a31ea804d88efa7eef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the encoder to logically append to the given Fleece document, rather than making a standalone document.  <a href="group___f_l_encoder.html#ga7f66deb022e513a31ea804d88efa7eef">More...</a><br /></td></tr>
<tr class="separator:ga7f66deb022e513a31ea804d88efa7eef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55a7cd16ee8663dc4551d1263a359391"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga55a7cd16ee8663dc4551d1263a359391">FLEncoder_GetBase</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga55a7cd16ee8663dc4551d1263a359391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <code>base</code> value passed to FLEncoder_Amend.  <a href="group___f_l_encoder.html#ga55a7cd16ee8663dc4551d1263a359391">More...</a><br /></td></tr>
<tr class="separator:ga55a7cd16ee8663dc4551d1263a359391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cc1df46ed5d1c79ff9865047a5b3fa1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga3cc1df46ed5d1c79ff9865047a5b3fa1">FLEncoder_SuppressTrailer</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga3cc1df46ed5d1c79ff9865047a5b3fa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the encoder not to write the two-byte Fleece trailer at the end of the data.  <a href="group___f_l_encoder.html#ga3cc1df46ed5d1c79ff9865047a5b3fa1">More...</a><br /></td></tr>
<tr class="separator:ga3cc1df46ed5d1c79ff9865047a5b3fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2186836257eb35707d37cd8bc0da58d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#gab2186836257eb35707d37cd8bc0da58d">FLEncoder_Reset</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:gab2186836257eb35707d37cd8bc0da58d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the state of an encoder without freeing it.  <a href="group___f_l_encoder.html#gab2186836257eb35707d37cd8bc0da58d">More...</a><br /></td></tr>
<tr class="separator:gab2186836257eb35707d37cd8bc0da58d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90db4b7d157147b39b0379a0426ea96e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga90db4b7d157147b39b0379a0426ea96e">FLEncoder_BytesWritten</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga90db4b7d157147b39b0379a0426ea96e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of bytes encoded so far.  <a href="group___f_l_encoder.html#ga90db4b7d157147b39b0379a0426ea96e">More...</a><br /></td></tr>
<tr class="separator:ga90db4b7d157147b39b0379a0426ea96e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77b105dc3adc62cfcc1e57bdfc194f92"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga77b105dc3adc62cfcc1e57bdfc194f92">FLEncoder_GetNextWritePos</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga77b105dc3adc62cfcc1e57bdfc194f92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the byte offset in the encoded data where the next value will be written.  <a href="group___f_l_encoder.html#ga77b105dc3adc62cfcc1e57bdfc194f92">More...</a><br /></td></tr>
<tr class="separator:ga77b105dc3adc62cfcc1e57bdfc194f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Writing to the encoder</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp4b85f56764f918b703b5591efc27cab5"></a></p><dl class="section note"><dt>Note</dt><dd>The functions that write to the encoder do not return error codes, just a 'false' result on error. The actual error is attached to the encoder and can be accessed by calling FLEncoder_GetError or FLEncoder_End.</dd></dl>
<p>After an error occurs, the encoder will ignore all subsequent writes. </p>
</td></tr>
<tr class="memitem:ga8288bfdf6dfd7bd162eab770b1be71b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga8288bfdf6dfd7bd162eab770b1be71b3">FLEncoder_WriteNull</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga8288bfdf6dfd7bd162eab770b1be71b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a <code>null</code> value to an encoder.  <a href="group___f_l_encoder.html#ga8288bfdf6dfd7bd162eab770b1be71b3">More...</a><br /></td></tr>
<tr class="separator:ga8288bfdf6dfd7bd162eab770b1be71b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ea7752719836fe0cf3228bced68e881"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga5ea7752719836fe0cf3228bced68e881">FLEncoder_WriteUndefined</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga5ea7752719836fe0cf3228bced68e881"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an <code>undefined</code> value to an encoder.  <a href="group___f_l_encoder.html#ga5ea7752719836fe0cf3228bced68e881">More...</a><br /></td></tr>
<tr class="separator:ga5ea7752719836fe0cf3228bced68e881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga600b24427a73805dfdd0125adad4bdd6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga600b24427a73805dfdd0125adad4bdd6">FLEncoder_WriteBool</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, bool)</td></tr>
<tr class="memdesc:ga600b24427a73805dfdd0125adad4bdd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a boolean value (true or false) to an encoder.  <a href="group___f_l_encoder.html#ga600b24427a73805dfdd0125adad4bdd6">More...</a><br /></td></tr>
<tr class="separator:ga600b24427a73805dfdd0125adad4bdd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57a6c2e98189a544508c79da75cdb904"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga57a6c2e98189a544508c79da75cdb904">FLEncoder_WriteInt</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, int64_t)</td></tr>
<tr class="memdesc:ga57a6c2e98189a544508c79da75cdb904"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an integer to an encoder.  <a href="group___f_l_encoder.html#ga57a6c2e98189a544508c79da75cdb904">More...</a><br /></td></tr>
<tr class="separator:ga57a6c2e98189a544508c79da75cdb904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b827735d085a8735dc2327bd29f2663"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga1b827735d085a8735dc2327bd29f2663">FLEncoder_WriteUInt</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, uint64_t)</td></tr>
<tr class="memdesc:ga1b827735d085a8735dc2327bd29f2663"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an unsigned integer to an encoder.  <a href="group___f_l_encoder.html#ga1b827735d085a8735dc2327bd29f2663">More...</a><br /></td></tr>
<tr class="separator:ga1b827735d085a8735dc2327bd29f2663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5eb7fe2f2122789fe003608118fbbb03"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga5eb7fe2f2122789fe003608118fbbb03">FLEncoder_WriteFloat</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, float)</td></tr>
<tr class="memdesc:ga5eb7fe2f2122789fe003608118fbbb03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a 32-bit floating point number to an encoder.  <a href="group___f_l_encoder.html#ga5eb7fe2f2122789fe003608118fbbb03">More...</a><br /></td></tr>
<tr class="separator:ga5eb7fe2f2122789fe003608118fbbb03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68bdb5e49033bddf26595910c49cde70"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga68bdb5e49033bddf26595910c49cde70">FLEncoder_WriteDouble</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, double)</td></tr>
<tr class="memdesc:ga68bdb5e49033bddf26595910c49cde70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a 64-bit floating point number to an encoder.  <a href="group___f_l_encoder.html#ga68bdb5e49033bddf26595910c49cde70">More...</a><br /></td></tr>
<tr class="separator:ga68bdb5e49033bddf26595910c49cde70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0139307b6cec6de105a41774067a6ee"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#gaa0139307b6cec6de105a41774067a6ee">FLEncoder_WriteString</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, <a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>)</td></tr>
<tr class="memdesc:gaa0139307b6cec6de105a41774067a6ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a string to an encoder.  <a href="group___f_l_encoder.html#gaa0139307b6cec6de105a41774067a6ee">More...</a><br /></td></tr>
<tr class="separator:gaa0139307b6cec6de105a41774067a6ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76bfd8c968bbac7cda4e7bdeeb1a1879"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga76bfd8c968bbac7cda4e7bdeeb1a1879">FLEncoder_WriteDateString</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a> encoder, <a class="el" href="group___f_l_value.html#ga154a21cd670c72d154c8bb78b4b3a5d3">FLTimestamp</a> ts, bool asUTC)</td></tr>
<tr class="memdesc:ga76bfd8c968bbac7cda4e7bdeeb1a1879"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a timestamp to an encoder, as an ISO-8601 date string.  <a href="group___f_l_encoder.html#ga76bfd8c968bbac7cda4e7bdeeb1a1879">More...</a><br /></td></tr>
<tr class="separator:ga76bfd8c968bbac7cda4e7bdeeb1a1879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92779e8630e79c14f27190f8f28088a3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga92779e8630e79c14f27190f8f28088a3">FLEncoder_WriteData</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, <a class="el" href="struct_f_l_slice.html">FLSlice</a>)</td></tr>
<tr class="memdesc:ga92779e8630e79c14f27190f8f28088a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a binary data value (a blob) to an encoder.  <a href="group___f_l_encoder.html#ga92779e8630e79c14f27190f8f28088a3">More...</a><br /></td></tr>
<tr class="separator:ga92779e8630e79c14f27190f8f28088a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae725f9d0f47a09049bd4184ea8081e49"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#gae725f9d0f47a09049bd4184ea8081e49">FLEncoder_WriteRaw</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, <a class="el" href="struct_f_l_slice.html">FLSlice</a>)</td></tr>
<tr class="memdesc:gae725f9d0f47a09049bd4184ea8081e49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes raw data directly to the encoded output.  <a href="group___f_l_encoder.html#gae725f9d0f47a09049bd4184ea8081e49">More...</a><br /></td></tr>
<tr class="separator:gae725f9d0f47a09049bd4184ea8081e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b3542dd65d50f08bd9216d431d831ba"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga5b3542dd65d50f08bd9216d431d831ba">FLEncoder_BeginArray</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, size_t reserveCount)</td></tr>
<tr class="memdesc:ga5b3542dd65d50f08bd9216d431d831ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begins writing an array value to an encoder.  <a href="group___f_l_encoder.html#ga5b3542dd65d50f08bd9216d431d831ba">More...</a><br /></td></tr>
<tr class="separator:ga5b3542dd65d50f08bd9216d431d831ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaddc1b83048f2877188cee3b0699212ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#gaddc1b83048f2877188cee3b0699212ca">FLEncoder_EndArray</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:gaddc1b83048f2877188cee3b0699212ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends writing an array value; pops back the previous encoding state.  <a href="group___f_l_encoder.html#gaddc1b83048f2877188cee3b0699212ca">More...</a><br /></td></tr>
<tr class="separator:gaddc1b83048f2877188cee3b0699212ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8546ad30e7c2ff942935c01ba269c7d2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga8546ad30e7c2ff942935c01ba269c7d2">FLEncoder_BeginDict</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, size_t reserveCount)</td></tr>
<tr class="memdesc:ga8546ad30e7c2ff942935c01ba269c7d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begins writing a dictionary value to an encoder.  <a href="group___f_l_encoder.html#ga8546ad30e7c2ff942935c01ba269c7d2">More...</a><br /></td></tr>
<tr class="separator:ga8546ad30e7c2ff942935c01ba269c7d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4800e9a33075a8e504c8d312cbd30d9c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga4800e9a33075a8e504c8d312cbd30d9c">FLEncoder_WriteKey</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, <a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>)</td></tr>
<tr class="memdesc:ga4800e9a33075a8e504c8d312cbd30d9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies the key for the next value to be written to the current dictionary.  <a href="group___f_l_encoder.html#ga4800e9a33075a8e504c8d312cbd30d9c">More...</a><br /></td></tr>
<tr class="separator:ga4800e9a33075a8e504c8d312cbd30d9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0fe1d1bb83f653b7d31f12855545fe1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#gaa0fe1d1bb83f653b7d31f12855545fe1">FLEncoder_WriteKeyValue</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, <a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a>)</td></tr>
<tr class="memdesc:gaa0fe1d1bb83f653b7d31f12855545fe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies the key for the next value to be written to the current dictionary.  <a href="group___f_l_encoder.html#gaa0fe1d1bb83f653b7d31f12855545fe1">More...</a><br /></td></tr>
<tr class="separator:gaa0fe1d1bb83f653b7d31f12855545fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaeb70a1e0aa1417cf55a3adb4e03f5d1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#gaaeb70a1e0aa1417cf55a3adb4e03f5d1">FLEncoder_EndDict</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:gaaeb70a1e0aa1417cf55a3adb4e03f5d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends writing a dictionary value; pops back the previous encoding state.  <a href="group___f_l_encoder.html#gaaeb70a1e0aa1417cf55a3adb4e03f5d1">More...</a><br /></td></tr>
<tr class="separator:gaaeb70a1e0aa1417cf55a3adb4e03f5d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f3b2ee2fb101cf71787f23cb8b2086b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga9f3b2ee2fb101cf71787f23cb8b2086b">FLEncoder_WriteValue</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, <a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a>)</td></tr>
<tr class="memdesc:ga9f3b2ee2fb101cf71787f23cb8b2086b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a Fleece Value to an Encoder.  <a href="group___f_l_encoder.html#ga9f3b2ee2fb101cf71787f23cb8b2086b">More...</a><br /></td></tr>
<tr class="separator:ga9f3b2ee2fb101cf71787f23cb8b2086b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80e205b5b86af59cc7f43e33db62dadc"><td class="memItemLeft" align="right" valign="top">intptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga80e205b5b86af59cc7f43e33db62dadc">FLEncoder_LastValueWritten</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga80e205b5b86af59cc7f43e33db62dadc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an opaque reference to the last complete value written to the encoder, if possible.  <a href="group___f_l_encoder.html#ga80e205b5b86af59cc7f43e33db62dadc">More...</a><br /></td></tr>
<tr class="separator:ga80e205b5b86af59cc7f43e33db62dadc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74755359502972950fc48196ec3322a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga74755359502972950fc48196ec3322a3">FLEncoder_WriteValueAgain</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, intptr_t preWrittenValue)</td></tr>
<tr class="memdesc:ga74755359502972950fc48196ec3322a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes another reference (a "pointer") to an already-written value, given a reference previously returned from <a class="el" href="group___f_l_encoder.html#ga80e205b5b86af59cc7f43e33db62dadc">FLEncoder_LastValueWritten</a>.  <a href="group___f_l_encoder.html#ga74755359502972950fc48196ec3322a3">More...</a><br /></td></tr>
<tr class="separator:ga74755359502972950fc48196ec3322a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78cf1a3719f1f2bd275784f65fad8c51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga78cf1a3719f1f2bd275784f65fad8c51">FLEncoder_Snip</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga78cf1a3719f1f2bd275784f65fad8c51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the data written so far as a standalone Fleece document, whose root is the last value written.  <a href="group___f_l_encoder.html#ga78cf1a3719f1f2bd275784f65fad8c51">More...</a><br /></td></tr>
<tr class="separator:ga78cf1a3719f1f2bd275784f65fad8c51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05079f6ca2aba1b058babae9ab541478"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga05079f6ca2aba1b058babae9ab541478">FLEncoder_ConvertJSON</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, <a class="el" href="struct_f_l_slice.html">FLSlice</a> json)</td></tr>
<tr class="memdesc:ga05079f6ca2aba1b058babae9ab541478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses JSON data and writes the object(s) to the encoder.  <a href="group___f_l_encoder.html#ga05079f6ca2aba1b058babae9ab541478">More...</a><br /></td></tr>
<tr class="separator:ga05079f6ca2aba1b058babae9ab541478"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Finishing up</h2></td></tr>
<tr class="memitem:ga9363537cc107c3e8cd1b9295a8fba344"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga9363537cc107c3e8cd1b9295a8fba344">FLEncoder_FinishItem</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga9363537cc107c3e8cd1b9295a8fba344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finishes encoding the current item, and returns its offset in the output data.  <a href="group___f_l_encoder.html#ga9363537cc107c3e8cd1b9295a8fba344">More...</a><br /></td></tr>
<tr class="separator:ga9363537cc107c3e8cd1b9295a8fba344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb6bb0ad178b17336d39fbe1881a091c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_base_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <a class="el" href="group__reading.html#ga6fcf80a526bde8519ac9e48db7746f14">FLDoc</a> <a class="el" href="_base_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#gaeb6bb0ad178b17336d39fbe1881a091c">FLEncoder_FinishDoc</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, <a class="el" href="group__types.html#ga6a3de980e42db083a0ec3081c4ae8ece">FLError</a> *<a class="el" href="_base_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> outError)</td></tr>
<tr class="memdesc:gaeb6bb0ad178b17336d39fbe1881a091c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends encoding; if there has been no error, it returns the encoded Fleece data packaged in an FLDoc.  <a href="group___f_l_encoder.html#gaeb6bb0ad178b17336d39fbe1881a091c">More...</a><br /></td></tr>
<tr class="separator:gaeb6bb0ad178b17336d39fbe1881a091c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33336e666e5f727d3de4bb3dcc3b7839"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_base_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga33336e666e5f727d3de4bb3dcc3b7839">FLEncoder_Finish</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>, <a class="el" href="group__types.html#ga6a3de980e42db083a0ec3081c4ae8ece">FLError</a> *<a class="el" href="_base_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> outError)</td></tr>
<tr class="memdesc:ga33336e666e5f727d3de4bb3dcc3b7839"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends encoding; if there has been no error, it returns the encoded data, else null.  <a href="group___f_l_encoder.html#ga33336e666e5f727d3de4bb3dcc3b7839">More...</a><br /></td></tr>
<tr class="separator:ga33336e666e5f727d3de4bb3dcc3b7839"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Error handling</h2></td></tr>
<tr class="memitem:gab6018fc57b2aa80234e049fb088c2a78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga6a3de980e42db083a0ec3081c4ae8ece">FLError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#gab6018fc57b2aa80234e049fb088c2a78">FLEncoder_GetError</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:gab6018fc57b2aa80234e049fb088c2a78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the error code of an encoder, or NoError (0) if there's no error.  <a href="group___f_l_encoder.html#gab6018fc57b2aa80234e049fb088c2a78">More...</a><br /></td></tr>
<tr class="separator:gab6018fc57b2aa80234e049fb088c2a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21bbe70c51fea6c8d1c3707d1d91e633"><td class="memItemLeft" align="right" valign="top">const char *<a class="el" href="_base_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_l_encoder.html#ga21bbe70c51fea6c8d1c3707d1d91e633">FLEncoder_GetErrorMessage</a> (<a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>)</td></tr>
<tr class="memdesc:ga21bbe70c51fea6c8d1c3707d1d91e633"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the error message of an encoder, or NULL if there's no error.  <a href="group___f_l_encoder.html#ga21bbe70c51fea6c8d1c3707d1d91e633">More...</a><br /></td></tr>
<tr class="separator:ga21bbe70c51fea6c8d1c3707d1d91e633"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>An FLEncoder generates encoded Fleece or JSON data. </p>
<p>It's sort of a structured output stream, with nesting. There are functions for writing every type of scalar value, and for beginning and ending collections. To write a collection you begin it, write its values, then end it. (Of course a value in a collection can itself be another collection.) When writing a dictionary, you have to call writeKey before writing each value. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaa70cf9f00c736474273a7e4f17a25488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa70cf9f00c736474273a7e4f17a25488">&#9670;&nbsp;</a></span>FLEncoderFormat</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___f_l_encoder.html#gaa70cf9f00c736474273a7e4f17a25488">FLEncoderFormat</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output formats a FLEncoder can generate. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaa70cf9f00c736474273a7e4f17a25488a7444e68ba78a98d298a2960b596da879"></a>kFLEncodeFleece&#160;</td><td class="fielddoc"><p>Fleece encoding. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa70cf9f00c736474273a7e4f17a25488ab5ad3188bf3fb79031b28cddc177736e"></a>kFLEncodeJSON&#160;</td><td class="fielddoc"><p>JSON encoding. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa70cf9f00c736474273a7e4f17a25488a9285c9e91464ad02e55b6759e28eff2c"></a>kFLEncodeJSON5&#160;</td><td class="fielddoc"><p><a href="http://json5.org">JSON5</a>, an extension of JSON with a more readable syntax </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga7f66deb022e513a31ea804d88efa7eef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f66deb022e513a31ea804d88efa7eef">&#9670;&nbsp;</a></span>FLEncoder_Amend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLEncoder_Amend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reuseStrings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>externPointers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells the encoder to logically append to the given Fleece document, rather than making a standalone document. </p>
<p>Any calls to <a class="el" href="group___f_l_encoder.html#ga9f3b2ee2fb101cf71787f23cb8b2086b" title="Writes a Fleece Value to an Encoder.">FLEncoder_WriteValue()</a> where the value points inside the base data will write a pointer back to the original value. The resulting data returned by <a class="el" href="group___f_l_encoder.html#gaeb6bb0ad178b17336d39fbe1881a091c" title="Ends encoding; if there has been no error, it returns the encoded Fleece data packaged in an FLDoc.">FLEncoder_FinishDoc()</a> will <em>NOT</em> be standalone; it can only be used by first appending it to the base data. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The FLEncoder affected. </td></tr>
    <tr><td class="paramname">base</td><td>The base document to create an amendment of. </td></tr>
    <tr><td class="paramname">reuseStrings</td><td>If true, then writing a string that already exists in the base will just create a pointer back to the original. But the encoder has to scan the base for strings first. </td></tr>
    <tr><td class="paramname">externPointers</td><td>If true, pointers into the base will be marked with the <code>extern</code> flag. This allows them to be resolved using the <code>FLResolver_Begin</code> function, so that when the delta is used the base document can be anywhere in memory, not just immediately preceding the delta document. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5b3542dd65d50f08bd9216d431d831ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b3542dd65d50f08bd9216d431d831ba">&#9670;&nbsp;</a></span>FLEncoder_BeginArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_BeginArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>reserveCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begins writing an array value to an encoder. </p>
<p>This pushes a new state where each subsequent value written becomes an array item, until FLEncoder_EndArray is called. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reserveCount</td><td>Number of array elements to reserve space for. If you know the size of the array, providing it here speeds up encoding slightly. If you don't know, just use zero. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8546ad30e7c2ff942935c01ba269c7d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8546ad30e7c2ff942935c01ba269c7d2">&#9670;&nbsp;</a></span>FLEncoder_BeginDict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_BeginDict </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>reserveCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begins writing a dictionary value to an encoder. </p>
<p>This pushes a new state where each subsequent key and value written are added to the dictionary, until FLEncoder_EndDict is called. Before adding each value, you must call FLEncoder_WriteKey (<em>not</em> FLEncoder_WriteString!), to write the dictionary key. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reserveCount</td><td>Number of dictionary items to reserve space for. If you know the size of the dictionary, providing it here speeds up encoding slightly. If you don't know, just use zero. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga90db4b7d157147b39b0379a0426ea96e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga90db4b7d157147b39b0379a0426ea96e">&#9670;&nbsp;</a></span>FLEncoder_BytesWritten()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FLEncoder_BytesWritten </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of bytes encoded so far. </p>

</div>
</div>
<a id="ga05079f6ca2aba1b058babae9ab541478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05079f6ca2aba1b058babae9ab541478">&#9670;&nbsp;</a></span>FLEncoder_ConvertJSON()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_ConvertJSON </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td>
          <td class="paramname"><em>json</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses JSON data and writes the object(s) to the encoder. </p>
<p>(This acts as a single write, like WriteInt; it's just that the value written is likely to be an entire dictionary of array.) </p>

</div>
</div>
<a id="gaddc1b83048f2877188cee3b0699212ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaddc1b83048f2877188cee3b0699212ca">&#9670;&nbsp;</a></span>FLEncoder_EndArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_EndArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ends writing an array value; pops back the previous encoding state. </p>

</div>
</div>
<a id="gaaeb70a1e0aa1417cf55a3adb4e03f5d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaeb70a1e0aa1417cf55a3adb4e03f5d1">&#9670;&nbsp;</a></span>FLEncoder_EndDict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_EndDict </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ends writing a dictionary value; pops back the previous encoding state. </p>

</div>
</div>
<a id="ga33336e666e5f727d3de4bb3dcc3b7839"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga33336e666e5f727d3de4bb3dcc3b7839">&#9670;&nbsp;</a></span>FLEncoder_Finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_base_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a> FLEncoder_Finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga6a3de980e42db083a0ec3081c4ae8ece">FLError</a> *<a class="el" href="_base_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ends encoding; if there has been no error, it returns the encoded data, else null. </p>
<p>This does not free the FLEncoder; call FLEncoder_Free (or FLEncoder_Reset) next. </p>

</div>
</div>
<a id="gaeb6bb0ad178b17336d39fbe1881a091c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeb6bb0ad178b17336d39fbe1881a091c">&#9670;&nbsp;</a></span>FLEncoder_FinishDoc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_base_8h.html#afefbce768b9d0df9c9ebc30dd6d13fed">MUST_USE_RESULT</a> <a class="el" href="group__reading.html#ga6fcf80a526bde8519ac9e48db7746f14">FLDoc</a> <a class="el" href="_base_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> FLEncoder_FinishDoc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga6a3de980e42db083a0ec3081c4ae8ece">FLError</a> *<a class="el" href="_base_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ends encoding; if there has been no error, it returns the encoded Fleece data packaged in an FLDoc. </p>
<p>(This function does not support JSON encoding.) This does not free the FLEncoder; call FLEncoder_Free (or FLEncoder_Reset) next. </p>

</div>
</div>
<a id="ga9363537cc107c3e8cd1b9295a8fba344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9363537cc107c3e8cd1b9295a8fba344">&#9670;&nbsp;</a></span>FLEncoder_FinishItem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FLEncoder_FinishItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finishes encoding the current item, and returns its offset in the output data. </p>

</div>
</div>
<a id="ga90c959f8a1a9ba872c03225815fd1c4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga90c959f8a1a9ba872c03225815fd1c4b">&#9670;&nbsp;</a></span>FLEncoder_Free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLEncoder_Free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"><em>FL_NULLABLE</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the space used by an encoder. </p>

</div>
</div>
<a id="ga55a7cd16ee8663dc4551d1263a359391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55a7cd16ee8663dc4551d1263a359391">&#9670;&nbsp;</a></span>FLEncoder_GetBase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_l_slice.html">FLSlice</a> FLEncoder_GetBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the <code>base</code> value passed to FLEncoder_Amend. </p>

</div>
</div>
<a id="gab6018fc57b2aa80234e049fb088c2a78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6018fc57b2aa80234e049fb088c2a78">&#9670;&nbsp;</a></span>FLEncoder_GetError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga6a3de980e42db083a0ec3081c4ae8ece">FLError</a> FLEncoder_GetError </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the error code of an encoder, or NoError (0) if there's no error. </p>

</div>
</div>
<a id="ga21bbe70c51fea6c8d1c3707d1d91e633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21bbe70c51fea6c8d1c3707d1d91e633">&#9670;&nbsp;</a></span>FLEncoder_GetErrorMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="_base_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a> FLEncoder_GetErrorMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the error message of an encoder, or NULL if there's no error. </p>

</div>
</div>
<a id="ga565050e8b7d07906bc04c2195fbcb210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga565050e8b7d07906bc04c2195fbcb210">&#9670;&nbsp;</a></span>FLEncoder_GetExtraInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* FLEncoder_GetExtraInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the user-defined value associated with the encoder; NULL by default. </p>

</div>
</div>
<a id="ga77b105dc3adc62cfcc1e57bdfc194f92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga77b105dc3adc62cfcc1e57bdfc194f92">&#9670;&nbsp;</a></span>FLEncoder_GetNextWritePos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FLEncoder_GetNextWritePos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the byte offset in the encoded data where the next value will be written. </p>
<p>(Due to internal buffering, this is not the same as FLEncoder_BytesWritten.) </p>

</div>
</div>
<a id="ga80e205b5b86af59cc7f43e33db62dadc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga80e205b5b86af59cc7f43e33db62dadc">&#9670;&nbsp;</a></span>FLEncoder_LastValueWritten()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">intptr_t FLEncoder_LastValueWritten </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an opaque reference to the last complete value written to the encoder, if possible. </p>
<p>Fails (returning 0) if nothing has been written, or if the value is inline and can't be referenced this way &ndash; that only happens with small scalars or empty collections. </p>

</div>
</div>
<a id="ga4b437f028d236086520565285d3645c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4b437f028d236086520565285d3645c1">&#9670;&nbsp;</a></span>FLEncoder_New()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a> FLEncoder_New </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new encoder, for generating Fleece data. </p>
<p>Call FLEncoder_Free when done. </p>

</div>
</div>
<a id="gab393a9d1e4ed41f9fd352cf398245c68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab393a9d1e4ed41f9fd352cf398245c68">&#9670;&nbsp;</a></span>FLEncoder_NewWithOptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a> FLEncoder_NewWithOptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___f_l_encoder.html#gaa70cf9f00c736474273a7e4f17a25488">FLEncoderFormat</a>&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>reserveSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>uniqueStrings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new encoder, allowing some options to be customized. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>The output format to generate (Fleece, JSON, or JSON5.) </td></tr>
    <tr><td class="paramname">reserveSize</td><td>The number of bytes to preallocate for the output. (Default is 256) </td></tr>
    <tr><td class="paramname">uniqueStrings</td><td>(Fleece only) If true, string values that appear multiple times will be written as a single shared value. This saves space but makes encoding slightly slower. You should only turn this off if you know you're going to be writing large numbers of non-repeated strings. (Default is true) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2256bf83af810b36737b7cf199bcb0d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2256bf83af810b36737b7cf199bcb0d0">&#9670;&nbsp;</a></span>FLEncoder_NewWritingToFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a> FLEncoder_NewWritingToFile </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>uniqueStrings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new Fleece encoder that writes to a file, not to memory. </p>

</div>
</div>
<a id="gab2186836257eb35707d37cd8bc0da58d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2186836257eb35707d37cd8bc0da58d">&#9670;&nbsp;</a></span>FLEncoder_Reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLEncoder_Reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the state of an encoder without freeing it. </p>
<p>It can then be reused to encode another value. </p>

</div>
</div>
<a id="gac0c74ad395eeee7e44af109d9d28f753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac0c74ad395eeee7e44af109d9d28f753">&#9670;&nbsp;</a></span>FLEncoder_SetExtraInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLEncoder_SetExtraInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *<a class="el" href="_base_8h.html#a2ab3323a966b8ab8e332979351402a19">FL_NULLABLE</a>&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Associates an arbitrary user-defined value with the encoder. </p>

</div>
</div>
<a id="ga8fb7d12a48b848e2523ee70433fdd7ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8fb7d12a48b848e2523ee70433fdd7ac">&#9670;&nbsp;</a></span>FLEncoder_SetSharedKeys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLEncoder_SetSharedKeys </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__reading.html#gabbd898ed871a7b340c817b6facba7568">FLSharedKeys</a>&#160;</td>
          <td class="paramname"><em>FL_NULLABLE</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells the encoder to use a shared-keys mapping when encoding dictionary keys. </p>

</div>
</div>
<a id="ga78cf1a3719f1f2bd275784f65fad8c51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78cf1a3719f1f2bd275784f65fad8c51">&#9670;&nbsp;</a></span>FLEncoder_Snip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a> FLEncoder_Snip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the data written so far as a standalone Fleece document, whose root is the last value written. </p>
<p>You can continue writing, and the final output returned by <a class="el" href="group___f_l_encoder.html#ga33336e666e5f727d3de4bb3dcc3b7839">FLEncoder_Finish</a> will consist of everything after this point. That second part can be used in the future by loading it as an <code>FLDoc</code> with the first part as its <code>extern</code> reference. </p>

</div>
</div>
<a id="ga3cc1df46ed5d1c79ff9865047a5b3fa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3cc1df46ed5d1c79ff9865047a5b3fa1">&#9670;&nbsp;</a></span>FLEncoder_SuppressTrailer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLEncoder_SuppressTrailer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells the encoder not to write the two-byte Fleece trailer at the end of the data. </p>
<p>This is only useful for certain special purposes. </p>

</div>
</div>
<a id="ga600b24427a73805dfdd0125adad4bdd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga600b24427a73805dfdd0125adad4bdd6">&#9670;&nbsp;</a></span>FLEncoder_WriteBool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteBool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a boolean value (true or false) to an encoder. </p>

</div>
</div>
<a id="ga92779e8630e79c14f27190f8f28088a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92779e8630e79c14f27190f8f28088a3">&#9670;&nbsp;</a></span>FLEncoder_WriteData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a binary data value (a blob) to an encoder. </p>
<p>This can contain absolutely anything including null bytes. If the encoder is generating JSON, the blob will be written as a base64-encoded string. </p>

</div>
</div>
<a id="ga76bfd8c968bbac7cda4e7bdeeb1a1879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga76bfd8c968bbac7cda4e7bdeeb1a1879">&#9670;&nbsp;</a></span>FLEncoder_WriteDateString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteDateString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"><em>encoder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___f_l_value.html#ga154a21cd670c72d154c8bb78b4b3a5d3">FLTimestamp</a>&#160;</td>
          <td class="paramname"><em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>asUTC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a timestamp to an encoder, as an ISO-8601 date string. </p>
<dl class="section note"><dt>Note</dt><dd>Since neither Fleece nor JSON have a 'Date' type, the encoded string has no metadata that distinguishes it as a date. It's just a string.) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td>The encoder to write to. </td></tr>
    <tr><td class="paramname">ts</td><td>The timestamp (milliseconds since Unix epoch 1-1-1970). </td></tr>
    <tr><td class="paramname">asUTC</td><td>If true, date is written in UTC (GMT); if false, with the local timezone. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on error. </dd></dl>

</div>
</div>
<a id="ga68bdb5e49033bddf26595910c49cde70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga68bdb5e49033bddf26595910c49cde70">&#9670;&nbsp;</a></span>FLEncoder_WriteDouble()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteDouble </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a 64-bit floating point number to an encoder. </p>
<dl class="section note"><dt>Note</dt><dd>As an implementation detail, the number may be encoded as a 32-bit float or even as an integer, if this can be done without losing precision. For example, 123.0 will be written as an integer, and 123.75 as a float.) </dd></dl>

</div>
</div>
<a id="ga5eb7fe2f2122789fe003608118fbbb03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5eb7fe2f2122789fe003608118fbbb03">&#9670;&nbsp;</a></span>FLEncoder_WriteFloat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteFloat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a 32-bit floating point number to an encoder. </p>
<dl class="section note"><dt>Note</dt><dd>As an implementation detail, if the number has no fractional part and can be represented exactly as an integer, it'll be encoded as an integer to save space. This is transparent to the reader, since if it requests the value as a float it'll be returned as floating-point. </dd></dl>

</div>
</div>
<a id="ga57a6c2e98189a544508c79da75cdb904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga57a6c2e98189a544508c79da75cdb904">&#9670;&nbsp;</a></span>FLEncoder_WriteInt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteInt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes an integer to an encoder. </p>
<p>The parameter is typed as <code>int64_t</code> but you can pass any integral type (signed or unsigned) except for huge <code>uint64_t</code>s. The number will be written in a compact form that uses only as many bytes as necessary. </p>

</div>
</div>
<a id="ga4800e9a33075a8e504c8d312cbd30d9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4800e9a33075a8e504c8d312cbd30d9c">&#9670;&nbsp;</a></span>FLEncoder_WriteKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specifies the key for the next value to be written to the current dictionary. </p>

</div>
</div>
<a id="gaa0fe1d1bb83f653b7d31f12855545fe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0fe1d1bb83f653b7d31f12855545fe1">&#9670;&nbsp;</a></span>FLEncoder_WriteKeyValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteKeyValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specifies the key for the next value to be written to the current dictionary. </p>
<p>The key is given as a Value, which must be a string or integer. </p>

</div>
</div>
<a id="ga8288bfdf6dfd7bd162eab770b1be71b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8288bfdf6dfd7bd162eab770b1be71b3">&#9670;&nbsp;</a></span>FLEncoder_WriteNull()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteNull </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a <code>null</code> value to an encoder. </p>
<p>(This is an explicitly-stored null, like the JSON <code>null</code>, not the "undefined" value represented by a NULL FLValue pointer.) </p>

</div>
</div>
<a id="gae725f9d0f47a09049bd4184ea8081e49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae725f9d0f47a09049bd4184ea8081e49">&#9670;&nbsp;</a></span>FLEncoder_WriteRaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteRaw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes raw data directly to the encoded output. </p>
<p>(This is not the same as FLEncoder_WriteData, which safely encodes a blob.) </p><dl class="section warning"><dt>Warning</dt><dd><b>Do not call this</b> unless you really know what you're doing ... it's quite unsafe, and only used for certain advanced purposes. </dd></dl>

</div>
</div>
<a id="gaa0139307b6cec6de105a41774067a6ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0139307b6cec6de105a41774067a6ee">&#9670;&nbsp;</a></span>FLEncoder_WriteString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a string to an encoder. </p>
<p>The string must be UTF-8-encoded and must not contain any zero bytes. </p><dl class="section warning"><dt>Warning</dt><dd>Do <em>not</em> use this to write a dictionary key; use FLEncoder_WriteKey instead. </dd></dl>

</div>
</div>
<a id="ga1b827735d085a8735dc2327bd29f2663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b827735d085a8735dc2327bd29f2663">&#9670;&nbsp;</a></span>FLEncoder_WriteUInt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteUInt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes an unsigned integer to an encoder. </p>
<dl class="section note"><dt>Note</dt><dd>This function is only really necessary for huge 64-bit integers greater than or equal to 2^63, which can't be represented as int64_t. </dd></dl>

</div>
</div>
<a id="ga5ea7752719836fe0cf3228bced68e881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ea7752719836fe0cf3228bced68e881">&#9670;&nbsp;</a></span>FLEncoder_WriteUndefined()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteUndefined </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes an <code>undefined</code> value to an encoder. </p>
<p>(Its value when read will not be a <code>NULL</code> pointer, but it can be recognized by <code>FLValue_GetType</code> returning <code>kFLUndefined</code>.) </p><dl class="section note"><dt>Note</dt><dd>The only real use for writing undefined values is to represent "holes" in an array. An undefined dictionary value should be written simply by skipping the key and value. </dd></dl>

</div>
</div>
<a id="ga9f3b2ee2fb101cf71787f23cb8b2086b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f3b2ee2fb101cf71787f23cb8b2086b">&#9670;&nbsp;</a></span>FLEncoder_WriteValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FLEncoder_WriteValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a Fleece Value to an Encoder. </p>

</div>
</div>
<a id="ga74755359502972950fc48196ec3322a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga74755359502972950fc48196ec3322a3">&#9670;&nbsp;</a></span>FLEncoder_WriteValueAgain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FLEncoder_WriteValueAgain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga8a91e0aaf4bd2987f0ded9fbcaf05fad">FLEncoder</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intptr_t&#160;</td>
          <td class="paramname"><em>preWrittenValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes another reference (a "pointer") to an already-written value, given a reference previously returned from <a class="el" href="group___f_l_encoder.html#ga80e205b5b86af59cc7f43e33db62dadc">FLEncoder_LastValueWritten</a>. </p>
<p>The effect is exactly the same as if you wrote the entire value again, except that the size of the encoded data only grows by 4 bytes. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
