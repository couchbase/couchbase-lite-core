<!--
Copyright 2021-Present Couchbase, Inc.
Use of this software is governed by the Business Source License included in
the file licenses/BSL-Couchbase.txt.  As of the Change Date specified in that
file, in accordance with the Business Source License, use of this software will
be governed by the Apache License, Version 2.0, included in the file
licenses/APL2.txt.
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LiteCore: Collections</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LiteCore
   </div>
   <div id="projectbrief">Couchbase Lite cross-platform core implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Collections</div>  </div>
</div><!--header-->
<div class="contents">

<p>A <code>C4Collection</code> represents a <b>Collection</b>, a named grouping of documents in a database.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Lifecycle</h2></td></tr>
<tr class="memitem:gaa3e2a2022a496cccddd8efee9019f24c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#gaa3e2a2022a496cccddd8efee9019f24c">c4db_getDefaultCollection</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db)</td></tr>
<tr class="memdesc:gaa3e2a2022a496cccddd8efee9019f24c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the default collection that exists in every database.  <a href="#gaa3e2a2022a496cccddd8efee9019f24c">More...</a><br /></td></tr>
<tr class="separator:gaa3e2a2022a496cccddd8efee9019f24c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb99c83f7f33dfa2f4fbaf153411384a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#gacb99c83f7f33dfa2f4fbaf153411384a">c4db_hasCollection</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> name)</td></tr>
<tr class="memdesc:gacb99c83f7f33dfa2f4fbaf153411384a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the collection exists.  <a href="#gacb99c83f7f33dfa2f4fbaf153411384a">More...</a><br /></td></tr>
<tr class="separator:gacb99c83f7f33dfa2f4fbaf153411384a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0725de618c6886a8d41c316ebb8103ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga0725de618c6886a8d41c316ebb8103ce">c4db_getCollection</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> name)</td></tr>
<tr class="memdesc:ga0725de618c6886a8d41c316ebb8103ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the existing collection with the given name, or NULL if it doesn't exist.  <a href="#ga0725de618c6886a8d41c316ebb8103ce">More...</a><br /></td></tr>
<tr class="separator:ga0725de618c6886a8d41c316ebb8103ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48f033aea4269a43b6ee134128dc0d40"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga48f033aea4269a43b6ee134128dc0d40">c4db_createCollection</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> name, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga48f033aea4269a43b6ee134128dc0d40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and returns an empty collection with the given name, or returns an existing collection by that name.  <a href="#ga48f033aea4269a43b6ee134128dc0d40">More...</a><br /></td></tr>
<tr class="separator:ga48f033aea4269a43b6ee134128dc0d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c51b8ec2ed86c28605e49adcfd0e9b1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga6c51b8ec2ed86c28605e49adcfd0e9b1">c4db_deleteCollection</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> name, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga6c51b8ec2ed86c28605e49adcfd0e9b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the collection with the given name.  <a href="#ga6c51b8ec2ed86c28605e49adcfd0e9b1">More...</a><br /></td></tr>
<tr class="separator:ga6c51b8ec2ed86c28605e49adcfd0e9b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbe1b1977164ffbd10dbfec3f074486f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga9621f4998e1f10a82cca421fede5588a">C4StringResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#gafbe1b1977164ffbd10dbfec3f074486f">c4db_collectionNames</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *db)</td></tr>
<tr class="memdesc:gafbe1b1977164ffbd10dbfec3f074486f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the names of all existing collections, in the order in which they were created.  <a href="#gafbe1b1977164ffbd10dbfec3f074486f">More...</a><br /></td></tr>
<tr class="separator:gafbe1b1977164ffbd10dbfec3f074486f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Accessors</h2></td></tr>
<tr class="memitem:ga25314b65e10491d6f11bbcafefb2a217"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga25314b65e10491d6f11bbcafefb2a217">c4coll_getName</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *)</td></tr>
<tr class="memdesc:ga25314b65e10491d6f11bbcafefb2a217"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the collection.  <a href="#ga25314b65e10491d6f11bbcafefb2a217">More...</a><br /></td></tr>
<tr class="separator:ga25314b65e10491d6f11bbcafefb2a217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56f6933b80f90c2a280d4a04ae1f6b9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga56f6933b80f90c2a280d4a04ae1f6b9b">c4coll_getDatabase</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *)</td></tr>
<tr class="memdesc:ga56f6933b80f90c2a280d4a04ae1f6b9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the database containing this collection.  <a href="#ga56f6933b80f90c2a280d4a04ae1f6b9b">More...</a><br /></td></tr>
<tr class="separator:ga56f6933b80f90c2a280d4a04ae1f6b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5553da08b79f8785256f078b8004ecef"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga5553da08b79f8785256f078b8004ecef">c4coll_getDocumentCount</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *)</td></tr>
<tr class="memdesc:ga5553da08b79f8785256f078b8004ecef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of (undeleted) documents in the collection.  <a href="#ga5553da08b79f8785256f078b8004ecef">More...</a><br /></td></tr>
<tr class="separator:ga5553da08b79f8785256f078b8004ecef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabfc41193c77a1883a585df211f05b70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga6c2d959939ef287ba3f2ee719c949229">C4SequenceNumber</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#gaabfc41193c77a1883a585df211f05b70">c4coll_getLastSequence</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *)</td></tr>
<tr class="memdesc:gaabfc41193c77a1883a585df211f05b70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the latest sequence number allocated to a revision.  <a href="#gaabfc41193c77a1883a585df211f05b70">More...</a><br /></td></tr>
<tr class="separator:gaabfc41193c77a1883a585df211f05b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Documents</h2></td></tr>
<tr class="memitem:ga5cd99db701eccdc25c7d087583487d67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga5cd99db701eccdc25c7d087583487d67">c4coll_getDoc</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, bool mustExist, <a class="el" href="group___documents.html#gadb2bbf97a307f0e83b226949404ad268">C4DocContentLevel</a> content, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga5cd99db701eccdc25c7d087583487d67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a document from the collection given its ID.  <a href="#ga5cd99db701eccdc25c7d087583487d67">More...</a><br /></td></tr>
<tr class="separator:ga5cd99db701eccdc25c7d087583487d67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3883355b0627a86b97a917f4811b0c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#gaa3883355b0627a86b97a917f4811b0c5">c4coll_getDocBySequence</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga6c2d959939ef287ba3f2ee719c949229">C4SequenceNumber</a>, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gaa3883355b0627a86b97a917f4811b0c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a document from the collection given its sequence number.  <a href="#gaa3883355b0627a86b97a917f4811b0c5">More...</a><br /></td></tr>
<tr class="separator:gaa3883355b0627a86b97a917f4811b0c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e1f96304fca7c29580b69b6ae718c11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga9e1f96304fca7c29580b69b6ae718c11">c4coll_putDoc</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, const <a class="el" href="struct_c4_doc_put_request.html">C4DocPutRequest</a> *request, size_t *outCommonAncestorIndex, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga9e1f96304fca7c29580b69b6ae718c11"><td class="mdescLeft">&#160;</td><td class="mdescRight">A high-level Put operation, to insert a new or downloaded revision.  <a href="#ga9e1f96304fca7c29580b69b6ae718c11">More...</a><br /></td></tr>
<tr class="separator:ga9e1f96304fca7c29580b69b6ae718c11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7ff4d349420d35a2e41ea68d6c33bb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_document.html">C4Document</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#gae7ff4d349420d35a2e41ea68d6c33bb6">c4coll_createDoc</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, <a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a> body, <a class="el" href="group___documents.html#gafc0b28ce70a5c3a9b8d968859e04b2c0">C4RevisionFlags</a> revisionFlags, <a class="el" href="struct_c4_error.html">C4Error</a> *error)</td></tr>
<tr class="memdesc:gae7ff4d349420d35a2e41ea68d6c33bb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function to create a new document.  <a href="#gae7ff4d349420d35a2e41ea68d6c33bb6">More...</a><br /></td></tr>
<tr class="separator:gae7ff4d349420d35a2e41ea68d6c33bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga636ba0c110ab9c3c9e6d57d40b5556ed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga636ba0c110ab9c3c9e6d57d40b5556ed">c4coll_moveDoc</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, <a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *toCollection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> newDocID, <a class="el" href="struct_c4_error.html">C4Error</a> *error)</td></tr>
<tr class="memdesc:ga636ba0c110ab9c3c9e6d57d40b5556ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves a document to another collection, possibly with a different ID.  <a href="#ga636ba0c110ab9c3c9e6d57d40b5556ed">More...</a><br /></td></tr>
<tr class="separator:ga636ba0c110ab9c3c9e6d57d40b5556ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Purging and Expiration</h2></td></tr>
<tr class="memitem:ga4186c6dd0af1be62a57160b711cd435d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga4186c6dd0af1be62a57160b711cd435d">c4coll_purgeDoc</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga4186c6dd0af1be62a57160b711cd435d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all trace of a document and its revisions from the collection.  <a href="#ga4186c6dd0af1be62a57160b711cd435d">More...</a><br /></td></tr>
<tr class="separator:ga4186c6dd0af1be62a57160b711cd435d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga122fcfa30377af200ac22dae9c8c4a4b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga122fcfa30377af200ac22dae9c8c4a4b">c4coll_setDocExpiration</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, <a class="el" href="group___base.html#ga4e9a8e237399a3869086cae270783476">C4Timestamp</a> timestamp, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga122fcfa30377af200ac22dae9c8c4a4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an expiration date on a document.  <a href="#ga122fcfa30377af200ac22dae9c8c4a4b">More...</a><br /></td></tr>
<tr class="separator:ga122fcfa30377af200ac22dae9c8c4a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b72b7307ac1ac5852b6b5a750270890"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga4e9a8e237399a3869086cae270783476">C4Timestamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga0b72b7307ac1ac5852b6b5a750270890">c4coll_getDocExpiration</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> docID, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga0b72b7307ac1ac5852b6b5a750270890"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the expiration time of a document, if one has been set, else 0.  <a href="#ga0b72b7307ac1ac5852b6b5a750270890">More...</a><br /></td></tr>
<tr class="separator:ga0b72b7307ac1ac5852b6b5a750270890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a3e4e6e318f5e676a9bef828242fe01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga4e9a8e237399a3869086cae270783476">C4Timestamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga5a3e4e6e318f5e676a9bef828242fe01">c4coll_nextDocExpiration</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *)</td></tr>
<tr class="memdesc:ga5a3e4e6e318f5e676a9bef828242fe01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time at which the next document expiration in this collection should take place, or 0 if there are no documents with expiration times.  <a href="#ga5a3e4e6e318f5e676a9bef828242fe01">More...</a><br /></td></tr>
<tr class="separator:ga5a3e4e6e318f5e676a9bef828242fe01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac57775c66221bca5b08ed157ab138fcd"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#gac57775c66221bca5b08ed157ab138fcd">c4coll_purgeExpiredDocs</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *, <a class="el" href="struct_c4_error.html">C4Error</a> *)</td></tr>
<tr class="memdesc:gac57775c66221bca5b08ed157ab138fcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purges all documents that have expired.  <a href="#gac57775c66221bca5b08ed157ab138fcd">More...</a><br /></td></tr>
<tr class="separator:gac57775c66221bca5b08ed157ab138fcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Indexes</h2></td></tr>
<tr class="memitem:ga3e1f87685d106eafaebcff07ca757dd2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#ga3e1f87685d106eafaebcff07ca757dd2">c4coll_createIndex</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> name, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> indexSpec, <a class="el" href="group___querying_d_b.html#ga23ce629032ce6fa439a0015788f2ff84">C4QueryLanguage</a> queryLanguage, <a class="el" href="group___indexing.html#gaf0b8613e821a59cfdea501bec2d661cb">C4IndexType</a> indexType, const <a class="el" href="struct_c4_index_options.html">C4IndexOptions</a> *indexOptions, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga3e1f87685d106eafaebcff07ca757dd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a collection index, of the values of specific expressions across all documents.  <a href="#ga3e1f87685d106eafaebcff07ca757dd2">More...</a><br /></td></tr>
<tr class="separator:ga3e1f87685d106eafaebcff07ca757dd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeab34e537169505ee81b33f263734ac5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#gaeab34e537169505ee81b33f263734ac5">c4coll_deleteIndex</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> name, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gaeab34e537169505ee81b33f263734ac5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an index that was created by <code>c4coll_createIndex</code>.  <a href="#gaeab34e537169505ee81b33f263734ac5">More...</a><br /></td></tr>
<tr class="separator:gaeab34e537169505ee81b33f263734ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc8329cff36f77270115e7b6872fbf75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___collection.html#gabc8329cff36f77270115e7b6872fbf75">c4coll_getIndexesInfo</a> (<a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *collection, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gabc8329cff36f77270115e7b6872fbf75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information about all indexes in the collection.  <a href="#gabc8329cff36f77270115e7b6872fbf75">More...</a><br /></td></tr>
<tr class="separator:gabc8329cff36f77270115e7b6872fbf75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A <code>C4Collection</code> represents a <b>Collection</b>, a named grouping of documents in a database. </p>
<p>You can think of them as "folders" or "directories" for documents, or as like tables.</p>
<p>Each Collection provides:</p><ul>
<li>a namespace for documents (a "docID" is only unique within its Collection)</li>
<li>a queryable container, named in <code>FROM</code> and <code>JOIN</code> clauses.</li>
<li>a scope for indexes</li>
<li>a scope for document enumerators</li>
<li>independent sequence numbers</li>
</ul>
<p>Every database starts with a <b>default Collection</b>, whose name is <code>_default</code>. If the database was created by an earlier version of LiteCore, all existing documents will be in the default Collection.</p>
<p>Pre-existing functions that refer to documents / sequences / indexes without referring to Collections &ndash; such as <a class="el" href="group___documents.html#gaf4b870a40dd2a871771837e086d54ed3">c4doc_get</a> and <a class="el" href="group___database.html#gab8f435e79ec606be7838044322b2ce39">c4db_getLastSequence</a> &ndash; still exist, but implicitly operate on the default Collection. In other words, they behave exactly the way they used to, but Collection-aware code should avoid them and use the new Collection API instead. These functions will eventually be deprecated, then removed.</p>
<blockquote class="doxtable">
<p><b>NOTE:</b> A few Collection functions are documented in other sections of the API docs: </p>
</blockquote>
<ul>
<li>Enumeration-related functions (in <code><a class="el" href="c4_doc_enumerator_8h.html">c4DocEnumerator.h</a></code>):<ul>
<li><a class="el" href="group___doc_enumerator.html#ga63d50f9c0496104f29f0ad50b35c0e79">c4coll_enumerateChanges</a></li>
<li><a class="el" href="group___doc_enumerator.html#gae021e84b1f9df3a110838f7257b77fd2">c4coll_enumerateAllDocs</a></li>
</ul>
</li>
<li>Observer-related functions (in <code><a class="el" href="c4_observer_8h.html">c4Observer.h</a></code>):<ul>
<li><a class="el" href="group___observer.html#ga0e0ed067df021283f5ebc174320526d1">c4dbobs_createOnCollection</a></li>
<li><a class="el" href="group___observer.html#gac7806edcd8245c1fdd6b9d0171dc7e3f">c4docobs_createWithCollection</a> </li>
</ul>
</li>
</ul>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae7ff4d349420d35a2e41ea68d6c33bb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7ff4d349420d35a2e41ea68d6c33bb6">&#9670;&nbsp;</a></span>c4coll_createDoc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c4_document.html">C4Document</a>* c4coll_createDoc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"><em>collection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>docID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#gac99d7d179bccd9bbaf29b28272975b47">C4Slice</a>&#160;</td>
          <td class="paramname"><em>body</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___documents.html#gafc0b28ce70a5c3a9b8d968859e04b2c0">C4RevisionFlags</a>&#160;</td>
          <td class="paramname"><em>revisionFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convenience function to create a new document. </p>
<p>This just a wrapper around <a class="el" href="group___collection.html#ga9e1f96304fca7c29580b69b6ae718c11">c4coll_putDoc</a>. If the document already exists, it will fail with the error <code>kC4ErrorConflict</code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collection</td><td>The collection to create the document in </td></tr>
    <tr><td class="paramname">docID</td><td>Document ID to create; if null, a UUID will be generated </td></tr>
    <tr><td class="paramname">body</td><td>Body of the document </td></tr>
    <tr><td class="paramname">revisionFlags</td><td>The flags of the new revision </td></tr>
    <tr><td class="paramname">error</td><td>Information about any error that occurred </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, a new <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a> with the new revision selected; else NULL. </dd></dl>

</div>
</div>
<a id="ga3e1f87685d106eafaebcff07ca757dd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3e1f87685d106eafaebcff07ca757dd2">&#9670;&nbsp;</a></span>c4coll_createIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4coll_createIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"><em>collection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>indexSpec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___querying_d_b.html#ga23ce629032ce6fa439a0015788f2ff84">C4QueryLanguage</a>&#160;</td>
          <td class="paramname"><em>queryLanguage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___indexing.html#gaf0b8613e821a59cfdea501bec2d661cb">C4IndexType</a>&#160;</td>
          <td class="paramname"><em>indexType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c4_index_options.html">C4IndexOptions</a> *&#160;</td>
          <td class="paramname"><em>indexOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a collection index, of the values of specific expressions across all documents. </p>
<p>The name is used to identify the index for later updating or deletion; if an index with the same name already exists, it will be replaced unless it has the exact same expressions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collection</td><td>The collection to index. </td></tr>
    <tr><td class="paramname">name</td><td>The name of the index. Any existing index with the same name will be replaced, unless it has the identical expressions (in which case this is a no-op.) </td></tr>
    <tr><td class="paramname">indexSpec</td><td>The definition of the index in JSON or N1QL form. (See above.) </td></tr>
    <tr><td class="paramname">queryLanguage</td><td>The language of <code>indexSpec</code>, either JSON or N1QL. </td></tr>
    <tr><td class="paramname">indexType</td><td>The type of index (value or full-text.) </td></tr>
    <tr><td class="paramname">indexOptions</td><td>Options for the index. If NULL, each option will get a default value. </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, will be set to the error status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on failure. </dd></dl>

</div>
</div>
<a id="gaeab34e537169505ee81b33f263734ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeab34e537169505ee81b33f263734ac5">&#9670;&nbsp;</a></span>c4coll_deleteIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4coll_deleteIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"><em>collection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes an index that was created by <code>c4coll_createIndex</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collection</td><td>The collection to index. </td></tr>
    <tr><td class="paramname">name</td><td>The name of the index to delete </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, will be set to the error status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on failure. </dd></dl>

</div>
</div>
<a id="ga56f6933b80f90c2a280d4a04ae1f6b9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga56f6933b80f90c2a280d4a04ae1f6b9b">&#9670;&nbsp;</a></span>c4coll_getDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a>* c4coll_getDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the database containing this collection. </p>

</div>
</div>
<a id="ga5cd99db701eccdc25c7d087583487d67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5cd99db701eccdc25c7d087583487d67">&#9670;&nbsp;</a></span>c4coll_getDoc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c4_document.html">C4Document</a>* c4coll_getDoc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"><em>collection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>docID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>mustExist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___documents.html#gadb2bbf97a307f0e83b226949404ad268">C4DocContentLevel</a>&#160;</td>
          <td class="paramname"><em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a document from the collection given its ID. </p>
<p>The current revision is selected (if the document exists.) You must call <a class="el" href="group___base.html#gacf1b9a7ebc6654b0f5bcd1b3c8cd3dbe">c4doc_release</a> when finished with the document. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collection</td><td>The collection to read from. </td></tr>
    <tr><td class="paramname">docID</td><td>The document's ID. </td></tr>
    <tr><td class="paramname">mustExist</td><td>Governs behavior if no document with that ID exists. If true, the call fails with error kC4NotFound. If false, a <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a> with no contents is returned. </td></tr>
    <tr><td class="paramname">content</td><td>How much content to retrieve: metadata only, current revision, or all revisions. </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, error information is stored here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new <a class="el" href="struct_c4_document.html" title="Describes a version-controlled document.">C4Document</a> instance (which must be released), or NULL. </dd></dl>

</div>
</div>
<a id="gaa3883355b0627a86b97a917f4811b0c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3883355b0627a86b97a917f4811b0c5">&#9670;&nbsp;</a></span>c4coll_getDocBySequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c4_document.html">C4Document</a>* c4coll_getDocBySequence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"><em>collection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga6c2d959939ef287ba3f2ee719c949229">C4SequenceNumber</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a document from the collection given its sequence number. </p>
<p>You must call <code><a class="el" href="group___base.html#gacf1b9a7ebc6654b0f5bcd1b3c8cd3dbe">c4doc_release()</a></code> when finished with the document. </p>

</div>
</div>
<a id="ga0b72b7307ac1ac5852b6b5a750270890"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b72b7307ac1ac5852b6b5a750270890">&#9670;&nbsp;</a></span>c4coll_getDocExpiration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga4e9a8e237399a3869086cae270783476">C4Timestamp</a> c4coll_getDocExpiration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"><em>collection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>docID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the expiration time of a document, if one has been set, else 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collection</td><td>The collection to set the expiration date in </td></tr>
    <tr><td class="paramname">docID</td><td>The ID of the document to check </td></tr>
    <tr><td class="paramname">outError</td><td>Information about any error that occurred </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The timestamp of the expiration date, in milliseconds since 1/1/1970, or 0 if the document does not expire, or -1 if an error occurred. </dd></dl>

</div>
</div>
<a id="ga5553da08b79f8785256f078b8004ecef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5553da08b79f8785256f078b8004ecef">&#9670;&nbsp;</a></span>c4coll_getDocumentCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t c4coll_getDocumentCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of (undeleted) documents in the collection. </p>

</div>
</div>
<a id="gabc8329cff36f77270115e7b6872fbf75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc8329cff36f77270115e7b6872fbf75">&#9670;&nbsp;</a></span>c4coll_getIndexesInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga7641ec7c9f4339b65cc4aabc050d67d8">C4SliceResult</a> c4coll_getIndexesInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"><em>collection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns information about all indexes in the collection. </p>
<p>The result is a Fleece-encoded array of dictionaries, one per index. Each dictionary has keys <code>"name"</code>, <code>"type"</code> (a <code>C4IndexType</code>), and <code>"expr"</code> (the source expression). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collection</td><td>The collection to check </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, will be set to the error status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Fleece-encoded array of dictionaries, or NULL on failure. </dd></dl>

</div>
</div>
<a id="gaabfc41193c77a1883a585df211f05b70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaabfc41193c77a1883a585df211f05b70">&#9670;&nbsp;</a></span>c4coll_getLastSequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga6c2d959939ef287ba3f2ee719c949229">C4SequenceNumber</a> c4coll_getLastSequence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the latest sequence number allocated to a revision. </p>

</div>
</div>
<a id="ga25314b65e10491d6f11bbcafefb2a217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25314b65e10491d6f11bbcafefb2a217">&#9670;&nbsp;</a></span>c4coll_getName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> c4coll_getName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of the collection. </p>

</div>
</div>
<a id="ga636ba0c110ab9c3c9e6d57d40b5556ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga636ba0c110ab9c3c9e6d57d40b5556ed">&#9670;&nbsp;</a></span>c4coll_moveDoc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4coll_moveDoc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"><em>collection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>docID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"><em>toCollection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>newDocID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves a document to another collection, possibly with a different ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collection</td><td>The document's original collection. </td></tr>
    <tr><td class="paramname">docID</td><td>The ID of the document to move. </td></tr>
    <tr><td class="paramname">toCollection</td><td>The collection to move to. </td></tr>
    <tr><td class="paramname">newDocID</td><td>The docID in the new collection, or a NULL slice to keep the original ID. </td></tr>
    <tr><td class="paramname">error</td><td>Information about any error that occurred </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on failure. </dd></dl>

</div>
</div>
<a id="ga5a3e4e6e318f5e676a9bef828242fe01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a3e4e6e318f5e676a9bef828242fe01">&#9670;&nbsp;</a></span>c4coll_nextDocExpiration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga4e9a8e237399a3869086cae270783476">C4Timestamp</a> c4coll_nextDocExpiration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the time at which the next document expiration in this collection should take place, or 0 if there are no documents with expiration times. </p>

</div>
</div>
<a id="ga4186c6dd0af1be62a57160b711cd435d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4186c6dd0af1be62a57160b711cd435d">&#9670;&nbsp;</a></span>c4coll_purgeDoc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4coll_purgeDoc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"><em>collection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>docID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes all trace of a document and its revisions from the collection. </p>

</div>
</div>
<a id="gac57775c66221bca5b08ed157ab138fcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac57775c66221bca5b08ed157ab138fcd">&#9670;&nbsp;</a></span>c4coll_purgeExpiredDocs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t c4coll_purgeExpiredDocs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purges all documents that have expired. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of documents purged, or -1 on error. </dd></dl>

</div>
</div>
<a id="ga9e1f96304fca7c29580b69b6ae718c11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e1f96304fca7c29580b69b6ae718c11">&#9670;&nbsp;</a></span>c4coll_putDoc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c4_document.html">C4Document</a>* c4coll_putDoc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"><em>collection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c4_doc_put_request.html">C4DocPutRequest</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>outCommonAncestorIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A high-level Put operation, to insert a new or downloaded revision. </p>
<ul>
<li>If <code>request-&gt;existingRevision</code> is true, then request-&gt;history must contain the revision's history, with the revision's ID as the first item.</li>
<li>Otherwise, a new revision will be created and assigned a revID. The parent revision ID, if any, should be given as the single item of request-&gt;history. Either way, on success the document is returned with the inserted revision selected. Note that actually saving the document back to the database is optional &ndash; it only happens if request-&gt;save is true. You can set this to false if you want to review the changes before saving, e.g. to run them through a validation function. </li>
</ul>

</div>
</div>
<a id="ga122fcfa30377af200ac22dae9c8c4a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga122fcfa30377af200ac22dae9c8c4a4b">&#9670;&nbsp;</a></span>c4coll_setDocExpiration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4coll_setDocExpiration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a> *&#160;</td>
          <td class="paramname"><em>collection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>docID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga4e9a8e237399a3869086cae270783476">C4Timestamp</a>&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an expiration date on a document. </p>
<p>After this time the document will be purged from the database. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collection</td><td>The collection to set the expiration date in </td></tr>
    <tr><td class="paramname">docID</td><td>The ID of the document to set the expiration date for </td></tr>
    <tr><td class="paramname">timestamp</td><td>The timestamp of the expiration date, in milliseconds since 1/1/1970. A value of 0 indicates that the expiration should be cancelled. </td></tr>
    <tr><td class="paramname">outError</td><td>Information about any error that occurred </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on sucess, false on failure </dd></dl>

</div>
</div>
<a id="gafbe1b1977164ffbd10dbfec3f074486f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbe1b1977164ffbd10dbfec3f074486f">&#9670;&nbsp;</a></span>c4db_collectionNames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga9621f4998e1f10a82cca421fede5588a">C4StringResult</a> c4db_collectionNames </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the names of all existing collections, in the order in which they were created. </p>
<p>The result is a string containing the names separated by comma (',') characters. </p>

</div>
</div>
<a id="ga48f033aea4269a43b6ee134128dc0d40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga48f033aea4269a43b6ee134128dc0d40">&#9670;&nbsp;</a></span>c4db_createCollection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a>* c4db_createCollection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and returns an empty collection with the given name, or returns an existing collection by that name. </p>

</div>
</div>
<a id="ga6c51b8ec2ed86c28605e49adcfd0e9b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c51b8ec2ed86c28605e49adcfd0e9b1">&#9670;&nbsp;</a></span>c4db_deleteCollection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4db_deleteCollection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the collection with the given name. </p>

</div>
</div>
<a id="ga0725de618c6886a8d41c316ebb8103ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0725de618c6886a8d41c316ebb8103ce">&#9670;&nbsp;</a></span>c4db_getCollection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a>* c4db_getCollection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the existing collection with the given name, or NULL if it doesn't exist. </p>

</div>
</div>
<a id="gaa3e2a2022a496cccddd8efee9019f24c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3e2a2022a496cccddd8efee9019f24c">&#9670;&nbsp;</a></span>c4db_getDefaultCollection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#gad8be2ad2cef903785ae3f9736e14253b">C4Collection</a>* c4db_getDefaultCollection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the default collection that exists in every database. </p>
<p>In a pre-existing database, this collection contains all docs that were added to "the database" before collections existed. Its name is "_default". </p>

</div>
</div>
<a id="gacb99c83f7f33dfa2f4fbaf153411384a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb99c83f7f33dfa2f4fbaf153411384a">&#9670;&nbsp;</a></span>c4db_hasCollection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4db_hasCollection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the collection exists. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
