<!--
Copyright 2016-Present Couchbase, Inc.

Use of this software is governed by the Business Source License included in
the file licenses/BSL-Couchbase.txt.  As of the Change Date specified in that
file, in accordance with the Business Source License, use of this software will
be governed by the Apache License, Version 2.0, included in the file
licenses/APL2.txt.
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LiteCore: Querying the Database</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LiteCore
   </div>
   <div id="projectbrief">Couchbase Lite cross-platform core implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Querying the Database</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c4_query_options.html">C4QueryOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Options for running queries.  <a href="struct_c4_query_options.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c4_full_text_match.html">C4FullTextMatch</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Info about a match of a full-text query term.  <a href="struct_c4_full_text_match.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A query result enumerator.  <a href="struct_c4_query_enumerator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga23ce629032ce6fa439a0015788f2ff84"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#ga23ce629032ce6fa439a0015788f2ff84">C4QueryLanguage</a> : uint32_t { <a class="el" href="group___querying_d_b.html#gga23ce629032ce6fa439a0015788f2ff84a98e21065e3197bef39fa06f534408467">kC4JSONQuery</a>, 
<a class="el" href="group___querying_d_b.html#gga23ce629032ce6fa439a0015788f2ff84aadd3622250323e8835fb5b7ae8f4a4af">kC4N1QLQuery</a>
 }</td></tr>
<tr class="memdesc:ga23ce629032ce6fa439a0015788f2ff84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Supported query languages.  <a href="group___querying_d_b.html#ga23ce629032ce6fa439a0015788f2ff84">More...</a><br /></td></tr>
<tr class="separator:ga23ce629032ce6fa439a0015788f2ff84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9d95d4ac381d844ad6738b6981b048f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#ga9d95d4ac381d844ad6738b6981b048f5">c4query_new2</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *database, <a class="el" href="group___querying_d_b.html#ga23ce629032ce6fa439a0015788f2ff84">C4QueryLanguage</a> language, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> expression, int *outErrorPos, <a class="el" href="struct_c4_error.html">C4Error</a> *error)</td></tr>
<tr class="memdesc:ga9d95d4ac381d844ad6738b6981b048f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compiles a query from an expression given as JSON.  <a href="#ga9d95d4ac381d844ad6738b6981b048f5">More...</a><br /></td></tr>
<tr class="separator:ga9d95d4ac381d844ad6738b6981b048f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab19cc99ed4f1ecfd4e832252c5150333"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#gab19cc99ed4f1ecfd4e832252c5150333">c4query_new</a> (<a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>, <a class="el" href="struct_c4_error.html">C4Error</a> *)</td></tr>
<tr class="separator:gab19cc99ed4f1ecfd4e832252c5150333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe6fdf74897813368f295eabbe9552aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga9621f4998e1f10a82cca421fede5588a">C4StringResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#gafe6fdf74897813368f295eabbe9552aa">c4query_explain</a> (<a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *)</td></tr>
<tr class="memdesc:gafe6fdf74897813368f295eabbe9552aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string describing the implementation of the compiled query.  <a href="#gafe6fdf74897813368f295eabbe9552aa">More...</a><br /></td></tr>
<tr class="separator:gafe6fdf74897813368f295eabbe9552aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga605c9e0e59739259d8130e4652ec5125"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#ga605c9e0e59739259d8130e4652ec5125">c4query_columnCount</a> (<a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *)</td></tr>
<tr class="memdesc:ga605c9e0e59739259d8130e4652ec5125"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of columns (the values specified in the WHAT clause) in each row.  <a href="#ga605c9e0e59739259d8130e4652ec5125">More...</a><br /></td></tr>
<tr class="separator:ga605c9e0e59739259d8130e4652ec5125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadcd0f7493a397614e3116c549b5272db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#gadcd0f7493a397614e3116c549b5272db">c4query_columnTitle</a> (<a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *, unsigned column)</td></tr>
<tr class="memdesc:gadcd0f7493a397614e3116c549b5272db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a suggested title for a column, which may be: An alias specified in an 'AS' modifier in the column definition A property name A function/operator that computes the column value, e.g.  <a href="#gadcd0f7493a397614e3116c549b5272db">More...</a><br /></td></tr>
<tr class="separator:gadcd0f7493a397614e3116c549b5272db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacfd9cb93f0fe66dbbcc5a4d74e26ffd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#gacfd9cb93f0fe66dbbcc5a4d74e26ffd5">c4query_setParameters</a> (<a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *query, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> encodedParameters)</td></tr>
<tr class="memdesc:gacfd9cb93f0fe66dbbcc5a4d74e26ffd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the parameter values to use when running the query, if no parameters are given to <a class="el" href="group___querying_d_b.html#gab1172372d0a66f6adc28a95612eaecd2">c4query_run</a>.  <a href="#gacfd9cb93f0fe66dbbcc5a4d74e26ffd5">More...</a><br /></td></tr>
<tr class="separator:gacfd9cb93f0fe66dbbcc5a4d74e26ffd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1172372d0a66f6adc28a95612eaecd2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#gab1172372d0a66f6adc28a95612eaecd2">c4query_run</a> (<a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *query, const <a class="el" href="struct_c4_query_options.html">C4QueryOptions</a> *options, <a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a> encodedParameters, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gab1172372d0a66f6adc28a95612eaecd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a compiled query.  <a href="#gab1172372d0a66f6adc28a95612eaecd2">More...</a><br /></td></tr>
<tr class="separator:gab1172372d0a66f6adc28a95612eaecd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a826aaf88b4a1eedb616ff1dc8447c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___base.html#ga9621f4998e1f10a82cca421fede5588a">C4StringResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#ga0a826aaf88b4a1eedb616ff1dc8447c7">c4query_fullTextMatched</a> (<a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *query, const <a class="el" href="struct_c4_full_text_match.html">C4FullTextMatch</a> *term, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga0a826aaf88b4a1eedb616ff1dc8447c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a <a class="el" href="struct_c4_full_text_match.html" title="Info about a match of a full-text query term.">C4FullTextMatch</a> from the enumerator, returns the entire text of the property that was matched.  <a href="#ga0a826aaf88b4a1eedb616ff1dc8447c7">More...</a><br /></td></tr>
<tr class="separator:ga0a826aaf88b4a1eedb616ff1dc8447c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga458f33e21d4ed94de1fb84ec57a66445"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#ga458f33e21d4ed94de1fb84ec57a66445">c4queryenum_next</a> (<a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *e, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga458f33e21d4ed94de1fb84ec57a66445"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advances a query enumerator to the next row, populating its fields.  <a href="#ga458f33e21d4ed94de1fb84ec57a66445">More...</a><br /></td></tr>
<tr class="separator:ga458f33e21d4ed94de1fb84ec57a66445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga373fa25f97163f3e16ada73bb9ed38ba"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#ga373fa25f97163f3e16ada73bb9ed38ba">c4queryenum_getRowCount</a> (<a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *e, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga373fa25f97163f3e16ada73bb9ed38ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of rows in the query, if known.  <a href="#ga373fa25f97163f3e16ada73bb9ed38ba">More...</a><br /></td></tr>
<tr class="separator:ga373fa25f97163f3e16ada73bb9ed38ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc311ee2adfef3bdcf7b22f2ef44ba05"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#gadc311ee2adfef3bdcf7b22f2ef44ba05">c4queryenum_seek</a> (<a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *e, int64_t rowIndex, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gadc311ee2adfef3bdcf7b22f2ef44ba05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Jumps to a specific row.  <a href="#gadc311ee2adfef3bdcf7b22f2ef44ba05">More...</a><br /></td></tr>
<tr class="separator:gadc311ee2adfef3bdcf7b22f2ef44ba05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe40811ab2b2849d5da679523129de70"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#gafe40811ab2b2849d5da679523129de70">c4queryenum_restart</a> (<a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *e, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:gafe40811ab2b2849d5da679523129de70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restarts the enumeration, as though it had just been created: the next call to <a class="el" href="group___querying_d_b.html#ga458f33e21d4ed94de1fb84ec57a66445">c4queryenum_next</a> will read the first row, and so on from there.  <a href="#gafe40811ab2b2849d5da679523129de70">More...</a><br /></td></tr>
<tr class="separator:gafe40811ab2b2849d5da679523129de70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e42a977ad6a0f8e52c5ea382ad055ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#ga4e42a977ad6a0f8e52c5ea382ad055ee">c4queryenum_refresh</a> (<a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *e, <a class="el" href="struct_c4_error.html">C4Error</a> *outError)</td></tr>
<tr class="memdesc:ga4e42a977ad6a0f8e52c5ea382ad055ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the query results have changed since this enumerator was created; if so, returns a new enumerator.  <a href="#ga4e42a977ad6a0f8e52c5ea382ad055ee">More...</a><br /></td></tr>
<tr class="separator:ga4e42a977ad6a0f8e52c5ea382ad055ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae256915b75e44d76263bbd8cf3a26a86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#gae256915b75e44d76263bbd8cf3a26a86">c4queryenum_close</a> (<a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *)</td></tr>
<tr class="memdesc:gae256915b75e44d76263bbd8cf3a26a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes an enumerator without freeing it.  <a href="#gae256915b75e44d76263bbd8cf3a26a86">More...</a><br /></td></tr>
<tr class="separator:gae256915b75e44d76263bbd8cf3a26a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gafb878475a7c9c7560878b79e8a786ab5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> const <a class="el" href="struct_c4_query_options.html">C4QueryOptions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___querying_d_b.html#gafb878475a7c9c7560878b79e8a786ab5">kC4DefaultQueryOptions</a></td></tr>
<tr class="memdesc:gafb878475a7c9c7560878b79e8a786ab5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default query options.  <a href="#gafb878475a7c9c7560878b79e8a786ab5">More...</a><br /></td></tr>
<tr class="separator:gafb878475a7c9c7560878b79e8a786ab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga23ce629032ce6fa439a0015788f2ff84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga23ce629032ce6fa439a0015788f2ff84">&#9670;&nbsp;</a></span>C4QueryLanguage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___querying_d_b.html#ga23ce629032ce6fa439a0015788f2ff84">C4QueryLanguage</a> : uint32_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Supported query languages. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga23ce629032ce6fa439a0015788f2ff84a98e21065e3197bef39fa06f534408467"></a>kC4JSONQuery&#160;</td><td class="fielddoc"><p>JSON query schema as documented in LiteCore wiki. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga23ce629032ce6fa439a0015788f2ff84aadd3622250323e8835fb5b7ae8f4a4af"></a>kC4N1QLQuery&#160;</td><td class="fielddoc"><p>N1QL syntax (a large subset) </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga605c9e0e59739259d8130e4652ec5125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga605c9e0e59739259d8130e4652ec5125">&#9670;&nbsp;</a></span>c4query_columnCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned c4query_columnCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of columns (the values specified in the WHAT clause) in each row. </p>

</div>
</div>
<a id="gadcd0f7493a397614e3116c549b5272db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadcd0f7493a397614e3116c549b5272db">&#9670;&nbsp;</a></span>c4query_columnTitle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a> c4query_columnTitle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>column</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a suggested title for a column, which may be: An alias specified in an 'AS' modifier in the column definition A property name A function/operator that computes the column value, e.g. </p>
<p>'MAX()' or '+' Each column's title is unique. If multiple columns would have the same title, the later ones (in numeric order) will have " #2", "#3", etc. appended. </p>

</div>
</div>
<a id="gafe6fdf74897813368f295eabbe9552aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe6fdf74897813368f295eabbe9552aa">&#9670;&nbsp;</a></span>c4query_explain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga9621f4998e1f10a82cca421fede5588a">C4StringResult</a> c4query_explain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a string describing the implementation of the compiled query. </p>
<p>This is intended to be read by a developer for purposes of optimizing the query, especially to add database indexes. </p>

</div>
</div>
<a id="ga0a826aaf88b4a1eedb616ff1dc8447c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a826aaf88b4a1eedb616ff1dc8447c7">&#9670;&nbsp;</a></span>c4query_fullTextMatched()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga9621f4998e1f10a82cca421fede5588a">C4StringResult</a> c4query_fullTextMatched </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c4_full_text_match.html">C4FullTextMatch</a> *&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a <a class="el" href="struct_c4_full_text_match.html" title="Info about a match of a full-text query term.">C4FullTextMatch</a> from the enumerator, returns the entire text of the property that was matched. </p>
<p>(The result depends only on the term's <code>dataSource</code> and <code>property</code> fields, so if you get multiple matches of the same property in the same document, you can skip redundant calls with the same values.) To find the actual word that was matched, use the term's <code>start</code> and <code>length</code> fields to get a substring of the returned (UTF-8) string. </p>

</div>
</div>
<a id="gab19cc99ed4f1ecfd4e832252c5150333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab19cc99ed4f1ecfd4e832252c5150333">&#9670;&nbsp;</a></span>c4query_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a>* c4query_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga9d95d4ac381d844ad6738b6981b048f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d95d4ac381d844ad6738b6981b048f5">&#9670;&nbsp;</a></span>c4query_new2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a>* c4query_new2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#gae046b9267a473fdc31471b022fc94676">C4Database</a> *&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___querying_d_b.html#ga23ce629032ce6fa439a0015788f2ff84">C4QueryLanguage</a>&#160;</td>
          <td class="paramname"><em>language</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>expression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>outErrorPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compiles a query from an expression given as JSON. </p>
<p>The expression is a predicate that describes which documents should be returned. A separate, optional sort expression describes the ordering of the results. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">database</td><td>The database to be queried. </td></tr>
    <tr><td class="paramname">language</td><td>The language (syntax) of the query expression. </td></tr>
    <tr><td class="paramname">expression</td><td>The query expression, either JSON or N1QL. </td></tr>
    <tr><td class="paramname">outErrorPos</td><td>If non-NULL, then on a parse error the approximate byte offset in the input expression will be stored here (or -1 if not known/applicable.) </td></tr>
    <tr><td class="paramname">error</td><td>Error will be written here if the function fails. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new C4Query, or NULL on failure. </dd></dl>

</div>
</div>
<a id="gab1172372d0a66f6adc28a95612eaecd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab1172372d0a66f6adc28a95612eaecd2">&#9670;&nbsp;</a></span>c4query_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a>* c4query_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c4_query_options.html">C4QueryOptions</a> *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>encodedParameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs a compiled query. </p>
<p>NOTE: Queries will run much faster if the appropriate properties are indexed. Indexes must be created explicitly by calling <code>c4db_createIndex</code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The compiled query to run. </td></tr>
    <tr><td class="paramname">options</td><td>Query options; currently unused, just pass NULL. </td></tr>
    <tr><td class="paramname">encodedParameters</td><td>Options parameter values; if this parameter is not NULL, it overrides the parameters assigned by <a class="el" href="group___querying_d_b.html#gacfd9cb93f0fe66dbbcc5a4d74e26ffd5">c4query_setParameters</a>. </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, will be set to the error status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An enumerator for reading the rows, or NULL on error. </dd></dl>

</div>
</div>
<a id="gacfd9cb93f0fe66dbbcc5a4d74e26ffd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacfd9cb93f0fe66dbbcc5a4d74e26ffd5">&#9670;&nbsp;</a></span>c4query_setParameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void c4query_setParameters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___base.html#ga67aedbf60fd71b8727d6d0ca9bd339ca">C4Query</a> *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___base.html#ga04de3d84e73df3c8b75092054abcc117">C4String</a>&#160;</td>
          <td class="paramname"><em>encodedParameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the parameter values to use when running the query, if no parameters are given to <a class="el" href="group___querying_d_b.html#gab1172372d0a66f6adc28a95612eaecd2">c4query_run</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The compiled query to run. </td></tr>
    <tr><td class="paramname">encodedParameters</td><td>JSON- or Fleece-encoded dictionary whose keys correspond to the named parameters in the query expression, and values correspond to the values to bind. Any unbound parameters will be <code>null</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae256915b75e44d76263bbd8cf3a26a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae256915b75e44d76263bbd8cf3a26a86">&#9670;&nbsp;</a></span>c4queryenum_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void c4queryenum_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes an enumerator without freeing it. </p>
<p>This is optional, but can be used to free up resources if the enumeration has not reached its end, but will not be freed for a while. </p>

</div>
</div>
<a id="ga373fa25f97163f3e16ada73bb9ed38ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga373fa25f97163f3e16ada73bb9ed38ba">&#9670;&nbsp;</a></span>c4queryenum_getRowCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t c4queryenum_getRowCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total number of rows in the query, if known. </p>
<p>Not all query enumerators may support this (but the current implementation does.) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The query enumerator </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, an error will be stored here (probably kC4ErrorUnsupported.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of rows, or -1 on failure. </dd></dl>

</div>
</div>
<a id="ga458f33e21d4ed94de1fb84ec57a66445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga458f33e21d4ed94de1fb84ec57a66445">&#9670;&nbsp;</a></span>c4queryenum_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4queryenum_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Advances a query enumerator to the next row, populating its fields. </p>
<p>Returns true on success, false at the end of enumeration or on error. </p>

</div>
</div>
<a id="ga4e42a977ad6a0f8e52c5ea382ad055ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e42a977ad6a0f8e52c5ea382ad055ee">&#9670;&nbsp;</a></span>c4queryenum_refresh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a>* c4queryenum_refresh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the query results have changed since this enumerator was created; if so, returns a new enumerator. </p>
<p>Otherwise returns NULL. </p>

</div>
</div>
<a id="gafe40811ab2b2849d5da679523129de70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe40811ab2b2849d5da679523129de70">&#9670;&nbsp;</a></span>c4queryenum_restart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool c4queryenum_restart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restarts the enumeration, as though it had just been created: the next call to <a class="el" href="group___querying_d_b.html#ga458f33e21d4ed94de1fb84ec57a66445">c4queryenum_next</a> will read the first row, and so on from there. </p>

</div>
</div>
<a id="gadc311ee2adfef3bdcf7b22f2ef44ba05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc311ee2adfef3bdcf7b22f2ef44ba05">&#9670;&nbsp;</a></span>c4queryenum_seek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool c4queryenum_seek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c4_query_enumerator.html">C4QueryEnumerator</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>rowIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c4_error.html">C4Error</a> *&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Jumps to a specific row. </p>
<p>Not all query enumerators may support this (but the current implementation does.) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The query enumerator </td></tr>
    <tr><td class="paramname">rowIndex</td><td>The number of the row, starting at 0, or -1 to restart before first row </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, an error will be stored here (probably kC4ErrorUnsupported.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on failure. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gafb878475a7c9c7560878b79e8a786ab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb878475a7c9c7560878b79e8a786ab5">&#9670;&nbsp;</a></span>kC4DefaultQueryOptions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c4_compat_8h.html#a172b88317c4e1248e156ca77731f1650">CBL_CORE_API</a> const <a class="el" href="struct_c4_query_options.html">C4QueryOptions</a> kC4DefaultQueryOptions</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default query options. </p>
<p>Has skip=0, limit=UINT_MAX, rankFullText=true. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
